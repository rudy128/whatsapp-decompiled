package com.whatsapp.mediacomposer;

import X.A5W;
import X.AnonymousClass000;
import X.AnonymousClass00H;
import X.AnonymousClass00R;
import X.AnonymousClass0YY;
import X.AnonymousClass10E;
import X.AnonymousClass10G;
import X.AnonymousClass118;
import X.AnonymousClass11P;
import X.AnonymousClass12Q;
import X.AnonymousClass177;
import X.AnonymousClass18K;
import X.AnonymousClass1BI;
import X.AnonymousClass1D6;
import X.AnonymousClass1DS;
import X.AnonymousClass1DT;
import X.AnonymousClass1EC;
import X.AnonymousClass1FB;
import X.AnonymousClass1K1;
import X.AnonymousClass1LU;
import X.AnonymousClass1T1;
import X.AnonymousClass1W2;
import X.AnonymousClass1YY;
import X.AnonymousClass206;
import X.AnonymousClass2E5;
import X.AnonymousClass2HA;
import X.AnonymousClass3MW;
import X.AnonymousClass3MX;
import X.AnonymousClass3MY;
import X.AnonymousClass3MZ;
import X.AnonymousClass3Ma;
import X.AnonymousClass64U;
import X.AnonymousClass6MT;
import X.AnonymousClass6RU;
import X.AnonymousClass6WK;
import X.AnonymousClass6WS;
import X.AnonymousClass6XV;
import X.AnonymousClass6XW;
import X.AnonymousClass6ZN;
import X.AnonymousClass6ZQ;
import X.AnonymousClass709;
import X.AnonymousClass70N;
import X.AnonymousClass70X;
import X.AnonymousClass727;
import X.AnonymousClass72S;
import X.AnonymousClass73D;
import X.AnonymousClass745;
import X.AnonymousClass77K;
import X.AnonymousClass77N;
import X.AnonymousClass78K;
import X.AnonymousClass7AH;
import X.AnonymousClass7AO;
import X.AnonymousClass7IT;
import X.AnonymousClass7J3;
import X.AnonymousClass7JF;
import X.AnonymousClass7JN;
import X.AnonymousClass7JS;
import X.AnonymousClass7P2;
import X.AnonymousClass7RA;
import X.AnonymousClass7S0;
import X.AnonymousClass85C;
import X.AnonymousClass85E;
import X.AnonymousClass85N;
import X.AnonymousClass87Y;
import X.AnonymousClass880;
import X.AnonymousClass883;
import X.AnonymousClass898;
import X.AnonymousClass8AQ;
import X.AnonymousClass8AT;
import X.AnonymousClass8B4;
import X.C000200d;
import X.C108945cZ;
import X.C108955ca;
import X.C108965cb;
import X.C108975cc;
import X.C108985cd;
import X.C108995ce;
import X.C109005cf;
import X.C109235d2;
import X.C116345x6;
import X.C1193267r;
import X.C1196268z;
import X.C123956Wm;
import X.C127436eM;
import X.C127446eN;
import X.C128536gH;
import X.C129076hD;
import X.C131086kU;
import X.C132026m3;
import X.C133286oV;
import X.C134146q7;
import X.C134926rN;
import X.C135976t4;
import X.C136166tN;
import X.C136246tV;
import X.C136986uj;
import X.C137326vH;
import X.C138086wV;
import X.C138766xe;
import X.C139276yZ;
import X.C139676zG;
import X.C1403571b;
import X.C1405471x;
import X.C1405671z;
import X.C1418277c;
import X.C1423279a;
import X.C145427Lf;
import X.C147087Rt;
import X.C1601987n;
import X.C160888Ai;
import X.C17880vN;
import X.C17890vO;
import X.C17900vP;
import X.C17960vV;
import X.C17970vW;
import X.C18000vb;
import X.C18010vc;
import X.C18020vd;
import X.C18030ve;
import X.C18040vf;
import X.C18070vi;
import X.C18150vq;
import X.C181589Rb;
import X.C18180vt;
import X.C19620yd;
import X.C19830z4;
import X.C219217x;
import X.C219317y;
import X.C222219b;
import X.C22781De;
import X.C22791Df;
import X.C22971Dz;
import X.C23521Gp;
import X.C24150BwG;
import X.C24322BzJ;
import X.C24661Le;
import X.C24771Lp;
import X.C25186Cac;
import X.C25271CcJ;
import X.C25291Nq;
import X.C25833Cmm;
import X.C25835Cmo;
import X.C26010CqR;
import X.C26052CrM;
import X.C26243Cvh;
import X.C26380Cyg;
import X.C26431Sc;
import X.C26521Sl;
import X.C26631Sw;
import X.C28901bF;
import X.C28931bI;
import X.C29351c6;
import X.C29431cG;
import X.C29671cg;
import X.C29781cr;
import X.C30391dr;
import X.C32091gc;
import X.C32511hJ;
import X.C32741hg;
import X.C34501ka;
import X.C35511mM;
import X.C42171xk;
import X.C56422hR;
import X.C57382iz;
import X.C58432kg;
import X.C60442o2;
import X.C63742tc;
import X.C64062u9;
import X.C70643By;
import X.C72453Mb;
import X.C72463Mc;
import X.C72473Md;
import X.C72483Me;
import X.C86064Qa;
import X.C87894Xm;
import X.C88184Yq;
import X.CXD;
import android.content.Intent;
import android.content.res.Configuration;
import android.content.res.Resources;
import android.graphics.Bitmap;
import android.graphics.Point;
import android.graphics.PointF;
import android.graphics.Rect;
import android.graphics.RectF;
import android.net.Uri;
import android.os.Bundle;
import android.os.Handler;
import android.os.Parcelable;
import android.os.SystemClock;
import android.text.SpannableStringBuilder;
import android.text.TextUtils;
import android.view.KeyEvent;
import android.view.MenuItem;
import android.view.View;
import android.view.ViewGroup;
import android.view.animation.AlphaAnimation;
import android.view.animation.ScaleAnimation;
import android.view.animation.TranslateAnimation;
import android.widget.FrameLayout;
import android.widget.ImageView;
import androidx.coordinatorlayout.widget.CoordinatorLayout;
import androidx.fragment.app.Fragment;
import com.google.android.material.progressindicator.CircularProgressIndicator;
import com.whatsapp.WaImageButton;
import com.whatsapp.gallerypicker.PhotoViewPager;
import com.whatsapp.media.motionphotos.MotionPhotosController$getMotionPhotos$3$1$1;
import com.whatsapp.mediacomposer.bottombar.BottomBarView;
import com.whatsapp.mediacomposer.bottombar.filterswipe.FilterSwipeView;
import com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView;
import com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel;
import com.whatsapp.mediacomposer.viewmodel.MediaQualityViewModel;
import com.whatsapp.mediacomposer.viewmodel.MediaViewOnceViewModel;
import com.whatsapp.util.Log;
import java.io.File;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Collection;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;
import java.util.Set;
import java.util.concurrent.TimeUnit;
import java.util.concurrent.atomic.AtomicInteger;
import org.json.JSONException;

public class MediaComposerActivity extends C1196268z implements C160888Ai, AnonymousClass8AT, AnonymousClass898, AnonymousClass880, AnonymousClass883, AnonymousClass8B4, AnonymousClass85C, AnonymousClass85E, AnonymousClass85N {
    public int A00;
    public int A01;
    public int A02;
    public View A03;
    public View A04;
    public FrameLayout A05;
    public CoordinatorLayout A06;
    public AnonymousClass1DS A07;
    public C23521Gp A08;
    public C25833Cmm A09;
    public CircularProgressIndicator A0A;
    public AnonymousClass6ZN A0B;
    public AnonymousClass6ZQ A0C;
    public C56422hR A0D;
    public AnonymousClass1T1 A0E;
    public C24771Lp A0F;
    public C88184Yq A0G;
    public C29781cr A0H;
    public AnonymousClass118 A0I;
    public C219217x A0J;
    public C18000vb A0K;
    public AnonymousClass77N A0L;
    public C24661Le A0M;
    public AnonymousClass2E5 A0N;
    public C1193267r A0O;
    public AnonymousClass18K A0P;
    public C87894Xm A0Q;
    public C136166tN A0R;
    public PhotoViewPager A0S;
    public C34501ka A0T;
    public C25291Nq A0U;
    public C1403571b A0V;
    public C26431Sc A0W;
    public AnonymousClass7JS A0X;
    public C131086kU A0Y;
    public C116345x6 A0Z;
    public AnonymousClass7JN A0a;
    public C109235d2 A0b;
    public AnonymousClass8AQ A0c;
    public C132026m3 A0d;
    public C127446eN A0e;
    public AnonymousClass177 A0f;
    public AnonymousClass7IT A0g;
    public C138086wV A0h;
    public MediaJidViewModel A0i;
    public MediaQualityViewModel A0j;
    public MediaViewOnceViewModel A0k;
    public C32091gc A0l;
    public C32511hJ A0m;
    public C18010vc A0n;
    public C136246tV A0o;
    public AnonymousClass6MT A0p;
    public C139676zG A0q;
    public C133286oV A0r;
    public C32741hg A0s;
    public C26631Sw A0t;
    public C26521Sl A0u;
    public C35511mM A0v;
    public AnonymousClass00H A0w;
    public AnonymousClass00H A0x;
    public AnonymousClass00H A0y;
    public AnonymousClass00H A0z;
    public AnonymousClass00H A10;
    public AnonymousClass00H A11;
    public AnonymousClass00H A12;
    public AnonymousClass00H A13;
    public AnonymousClass00H A14;
    public AnonymousClass00H A15;
    public AnonymousClass00H A16;
    public AnonymousClass00H A17;
    public AnonymousClass00H A18;
    public AnonymousClass00H A19;
    public AnonymousClass00H A1A;
    public AnonymousClass00H A1B;
    public AnonymousClass00H A1C;
    public AnonymousClass00H A1D;
    public AnonymousClass00H A1E;
    public AnonymousClass00H A1F;
    public AnonymousClass00H A1G;
    public AnonymousClass00H A1H;
    public AnonymousClass00H A1I;
    public AnonymousClass00H A1J;
    public AnonymousClass00H A1K;
    public AnonymousClass00H A1L;
    public Long A1M;
    public Runnable A1N;
    public String A1O;
    public boolean A1P;
    public boolean A1Q;
    public boolean A1R;
    public boolean A1S;
    public boolean A1T;
    public boolean A1U;
    public boolean A1V;
    public boolean A1W;
    public boolean A1X;
    public boolean A1Y;
    public boolean A1Z;
    public int A1a;
    public Bitmap A1b;
    public View A1c;
    public boolean A1d;
    public boolean A1e;
    public boolean A1f;
    public boolean A1g;
    public boolean A1h;
    public boolean A1i;
    public boolean A1j;
    public boolean A1k;
    public boolean A1l;
    public final PointF A1m;
    public final Rect A1n;
    public final Handler A1o;
    public final AnonymousClass1DT A1p;
    public final AnonymousClass73D A1q;
    public final C1601987n A1r;
    public final C18150vq A1s;
    public final AnonymousClass00H A1t;
    public final Runnable A1u;
    public final Collection A1v;
    public final HashMap A1w;
    public final HashSet A1x;
    public final Handler A1y;
    public final AtomicInteger A1z;

    private File A0r(String str, String str2, String str3) {
        if (str != null) {
            if (C18020vd.A05(C18040vf.A02, this.A0E, 11113)) {
                StringBuilder A102 = AnonymousClass000.A10();
                C108995ce.A1N(A102, str2);
                A102.append(".");
                A102.append(str3);
                File A002 = ((C219317y) this.A1E.get()).A00(AnonymousClass000.A0y(".txt", A102));
                try {
                    C64062u9.A0L(A002, str.getBytes());
                    return A002;
                } catch (IOException e) {
                    Log.e("MediaComposerActivity/onSaveInstanceState/filedToSaveDataFile", e);
                }
            }
        }
        return null;
    }

    private void A0x(AnonymousClass77K r16, boolean z) {
        List list;
        ArrayList A102;
        AnonymousClass77K r2 = r16;
        if (!C42171xk.A00(this.A0X.A0B(), r2)) {
            AnonymousClass7JS r1 = this.A0X;
            C18070vi.A0d(r2, 0);
            r1.A05.A0F(r2);
            int i = r2.A00;
            if (i == 0) {
                A102 = null;
            } else {
                if (i == 1) {
                    list = r2.A01;
                } else {
                    list = r2.A02;
                }
                A102 = C17880vN.A10(list);
            }
            int i2 = -1;
            if (z) {
                i2 = 0;
            }
            AnonymousClass3MW.A1T(this.A0D.A00(this, A102, i, i2, 2131896392, 0, false, false, false, false, false), this.A05, 0);
        }
    }

    public static void A12(MediaComposerActivity mediaComposerActivity) {
        AnonymousClass7P2 r3 = new AnonymousClass7P2(mediaComposerActivity, 0);
        Iterator it = MediaJidViewModel.A04(mediaComposerActivity).iterator();
        while (true) {
            if (!it.hasNext()) {
                break;
            }
            AnonymousClass1BI A0Q2 = C17880vN.A0Q(it);
            if (C22971Dz.A0V(A0Q2)) {
                if (A0Q2 != null) {
                    ((C86064Qa) mediaComposerActivity.A1J.get()).A00(A0Q2, r3);
                    return;
                }
            }
        }
        r3.Bq8();
    }

    /* JADX WARNING: Removed duplicated region for block: B:50:0x00b2  */
    /* JADX WARNING: Removed duplicated region for block: B:73:0x0165  */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A19(com.whatsapp.mediacomposer.MediaComposerActivity r12, com.whatsapp.mediacomposer.MediaComposerFragment r13) {
        /*
            r0 = 1
            r12.A1d = r0
            X.6kY r0 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r12)
            X.0vl r0 = r0.A0H
            boolean r0 = X.C72453Mb.A1a(r0)
            r3 = 0
            if (r0 == 0) goto L_0x0020
            android.content.Intent r2 = X.C17880vN.A0A()
            java.util.ArrayList r1 = X.AnonymousClass7JS.A02(r12)
            java.lang.String r0 = "android.intent.extra.STREAM"
            r2.putParcelableArrayListExtra(r0, r1)
            r12.setResult(r3, r2)
        L_0x0020:
            int r1 = X.AnonymousClass7JS.A01(r12)
            r0 = 1
            if (r1 != r0) goto L_0x006b
            int r1 = r12.BUd()
            r0 = 2
            if (r1 == r0) goto L_0x004d
            r0 = 7
            if (r1 == r0) goto L_0x004d
            r0 = 12
            if (r1 == r0) goto L_0x004d
            r0 = 15
            if (r1 == r0) goto L_0x004d
            r0 = 18
            if (r1 == r0) goto L_0x004d
            r0 = 35
            if (r1 == r0) goto L_0x004d
            r0 = 38
            if (r1 == r0) goto L_0x004d
            r0 = 56
            if (r1 == r0) goto L_0x004d
            r0 = 58
            if (r1 != r0) goto L_0x006b
        L_0x004d:
            X.7JS r0 = r12.A0X
            boolean r0 = r0.A0I
            if (r0 == 0) goto L_0x005f
            X.6tV r0 = r12.A0o
            if (r0 == 0) goto L_0x005f
            X.10I r1 = r12.A05
            r0 = 45
            X.AnonymousClass7RA.A00(r1, r12, r0)
            return
        L_0x005f:
            r12.finish()
            r1 = 17432576(0x10a0000, float:2.5346597E-38)
            r0 = 17432577(0x10a0001, float:2.53466E-38)
            r12.overridePendingTransition(r1, r0)
            return
        L_0x006b:
            int r1 = r12.BUd()
            r0 = 29
            if (r1 != r0) goto L_0x007d
            r12.finish()
            r0 = 17432577(0x10a0001, float:2.53466E-38)
            r12.overridePendingTransition(r3, r0)
            return
        L_0x007d:
            android.graphics.Bitmap r0 = r12.A1b
            if (r0 == 0) goto L_0x0169
            if (r13 == 0) goto L_0x0169
            android.view.View r0 = r12.A04
            if (r0 == 0) goto L_0x008a
            r0.setVisibility(r3)
        L_0x008a:
            boolean r0 = r13 instanceof com.whatsapp.mediacomposer.VideoComposerFragment
            if (r0 == 0) goto L_0x0137
            com.whatsapp.mediacomposer.VideoComposerFragment r13 = (com.whatsapp.mediacomposer.VideoComposerFragment) r13
            X.70X r0 = r13.A0W
            if (r0 == 0) goto L_0x009f
            r0.A0F()
            android.view.View r1 = r0.A09()
            r0 = 0
            r1.setAlpha(r0)
        L_0x009f:
            android.view.View r1 = r13.A17()
            r0 = 2131429510(0x7f0b0886, float:1.8480695E38)
            android.view.View r1 = r1.findViewById(r0)
        L_0x00aa:
            r0 = 4
            r1.setVisibility(r0)
        L_0x00ae:
            X.6eN r5 = r12.A0e
            if (r5 == 0) goto L_0x0165
            X.6c6 r0 = r5.A01
            com.whatsapp.mediacomposer.MediaComposerActivity r1 = r0.A00
            com.whatsapp.mediacomposer.MediaComposerFragment r0 = A0d(r1)
            if (r0 == 0) goto L_0x0161
            X.6sn r13 = r0.A2A()
            if (r13 == 0) goto L_0x0161
            X.6sn r0 = X.C124396Ye.A00
            boolean r0 = r13.equals(r0)
            if (r0 != 0) goto L_0x0161
            android.view.View r12 = r5.A00
            android.util.Property r1 = android.view.View.SCALE_X
            r9 = 2
            float[] r0 = new float[r9]
            float r4 = r13.A03
            r0[r3] = r4
            r11 = 1
            r2 = 1065353216(0x3f800000, float:1.0)
            android.animation.ObjectAnimator r10 = X.C108945cZ.A0C(r1, r12, r0, r2, r11)
            android.util.Property r1 = android.view.View.SCALE_Y
            float[] r0 = new float[r9]
            r0[r3] = r4
            android.animation.ObjectAnimator r8 = X.C108945cZ.A0C(r1, r12, r0, r2, r11)
            android.util.Property r2 = android.view.View.ROTATION
            float[] r1 = new float[r9]
            float r0 = r13.A02
            r1[r3] = r0
            r4 = 0
            android.animation.ObjectAnimator r7 = X.C108945cZ.A0C(r2, r12, r1, r4, r11)
            android.util.Property r2 = android.view.View.TRANSLATION_X
            float[] r1 = new float[r9]
            float r0 = r13.A00
            r1[r3] = r0
            android.animation.ObjectAnimator r6 = X.C108945cZ.A0C(r2, r12, r1, r4, r11)
            android.util.Property r2 = android.view.View.TRANSLATION_Y
            float[] r1 = new float[r9]
            float r0 = r13.A01
            r1[r3] = r0
            android.animation.ObjectAnimator r4 = X.C108945cZ.A0C(r2, r12, r1, r4, r11)
            android.animation.AnimatorSet r2 = X.C108945cZ.A0B()
            r0 = 5
            android.animation.Animator[] r1 = X.C108945cZ.A1Z(r10, r8, r0, r3)
            r1[r9] = r7
            r0 = 3
            r1[r0] = r6
            r0 = 4
            r1[r0] = r4
            r2.playTogether(r1)
            r0 = 150(0x96, double:7.4E-322)
            r2.setDuration(r0)
            android.view.animation.AccelerateDecelerateInterpolator r0 = new android.view.animation.AccelerateDecelerateInterpolator
            r0.<init>()
            android.animation.TimeInterpolator r0 = (android.animation.TimeInterpolator) r0
            r2.setInterpolator(r0)
            r0 = 17
            X.C109195cy.A02(r2, r5, r0)
            r2.start()
            return
        L_0x0137:
            boolean r0 = r13 instanceof com.whatsapp.mediacomposer.ImageComposerFragment
            if (r0 == 0) goto L_0x0152
            com.whatsapp.mediacomposer.ImageComposerFragment r13 = (com.whatsapp.mediacomposer.ImageComposerFragment) r13
            com.whatsapp.mediaview.PhotoView r0 = r13.A06
            r1 = 4
            if (r0 == 0) goto L_0x0145
            r0.setVisibility(r1)
        L_0x0145:
            X.7JF r0 = r13.A0J
            if (r0 == 0) goto L_0x00ae
            com.whatsapp.mediacomposer.doodle.DoodleView r0 = r0.A0P
            if (r0 == 0) goto L_0x00ae
            r0.setVisibility(r1)
            goto L_0x00ae
        L_0x0152:
            com.whatsapp.mediacomposer.GifComposerFragment r13 = (com.whatsapp.mediacomposer.GifComposerFragment) r13
            X.70X r0 = r13.A00
            if (r0 == 0) goto L_0x00ae
            r0.A0F()
            android.view.View r1 = r0.A09()
            goto L_0x00aa
        L_0x0161:
            r1.A2W()
            return
        L_0x0165:
            r12.A2W()
            return
        L_0x0169:
            X.4Xm r2 = r12.A0Q
            X.4fO r1 = new X.4fO
            r1.<init>(r3)
            r0 = 109(0x6d, float:1.53E-43)
            r2.A01(r1, r0)
            boolean r0 = r12.A1i
            if (r0 == 0) goto L_0x018f
            X.00H r0 = r12.A1I
            r0.get()
            android.content.Intent r1 = X.AnonymousClass1LU.A02(r12)
            java.lang.String r0 = X.C28901bF.A05
            android.content.Intent r0 = r1.setAction(r0)
            r12.startActivity(r0)
        L_0x018b:
            r12.finish()
            return
        L_0x018f:
            boolean r0 = r12.A1k
            if (r0 == 0) goto L_0x0197
            r12.finishAndRemoveTask()
            return
        L_0x0197:
            android.content.Intent r2 = X.C17880vN.A0A()
            java.util.ArrayList r1 = X.AnonymousClass7JS.A02(r12)
            java.lang.String r0 = "result_extra_composer_media_selection"
            android.content.Intent r2 = r2.putParcelableArrayListExtra(r0, r1)
            com.whatsapp.mediacomposer.viewmodel.MediaViewOnceViewModel r0 = r12.A0k
            int r1 = r0.A0T()
            java.lang.String r0 = "view_once_selection"
            android.content.Intent r2 = r2.putExtra(r0, r1)
            com.whatsapp.mediacomposer.viewmodel.MediaQualityViewModel r0 = r12.A0j
            int r1 = r0.A0T()
            java.lang.String r0 = "selected_media_quality"
            android.content.Intent r0 = r2.putExtra(r0, r1)
            r12.setResult(r3, r0)
            goto L_0x018b
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A19(com.whatsapp.mediacomposer.MediaComposerActivity, com.whatsapp.mediacomposer.MediaComposerFragment):void");
    }

    public int A31() {
        return 78318969;
    }

    public void C6c(AnonymousClass77K r2) {
        A0x(r2, false);
    }

    public void C6j(AnonymousClass77K r4) {
        A0x(r4, true);
        boolean z = this.A1U;
        ArrayList A132 = AnonymousClass000.A13();
        A132.add(C29671cg.A00);
        this.A0i.A0U(A132);
        if (!z) {
            A12(this);
        }
        this.A1U = false;
        A18(this, this.A0X.A07());
    }

    private AnonymousClass64U A0V(HashMap hashMap, int i) {
        Boolean bool;
        String str;
        AnonymousClass709 r8;
        int i2 = i;
        Integer valueOf = Integer.valueOf(i2);
        HashMap hashMap2 = hashMap;
        AnonymousClass64U r0 = (AnonymousClass64U) hashMap2.get(valueOf);
        if (r0 != null) {
            return r0;
        }
        if (C18020vd.A05(C18040vf.A02, C108955ca.A0R(this.A1D), 9400)) {
            bool = Boolean.valueOf(AnonymousClass000.A1T(C72453Mb.A08(this), 2));
        } else {
            bool = null;
        }
        Intent intent = getIntent();
        if (i2 == 1) {
            str = "photos_effect_count";
        } else {
            str = "videos_effect_count";
        }
        String stringExtra = intent.getStringExtra(str);
        if (stringExtra == null || stringExtra.isEmpty()) {
            r8 = new AnonymousClass709();
        } else {
            r8 = AnonymousClass6WS.A00(stringExtra);
        }
        boolean contains = MediaJidViewModel.A04(this).contains(C29671cg.A00);
        int size = MediaJidViewModel.A04(this).size();
        int BUd = BUd();
        long A062 = C108975cc.A06(getIntent(), "picker_open_time");
        long elapsedRealtime = SystemClock.elapsedRealtime();
        boolean z = this.A1U;
        boolean A1a2 = C72453Mb.A1a(MediaJidViewModel.A03(this).A08);
        long A052 = C108975cc.A05(getIntent(), "gallery_duration_ms");
        C18030ve r7 = this.A0E;
        C19830z4 r6 = this.A0A;
        Integer A032 = MediaQualityViewModel.A03(this);
        Long l = this.A1M;
        Long A0n2 = C17880vN.A0n(((C129076hD) this.A18.get()).A02.size());
        C129076hD r1 = (C129076hD) this.A18.get();
        AnonymousClass64U A002 = C123956Wm.A00(r6, r7, r8, this.A0X.A00, bool, A032, l, A0n2, C17880vN.A0n(C29431cG.A13(r1.A02, r1.A03).size()), i2, size, BUd, A062, elapsedRealtime, A052, contains, false, z, A1a2);
        hashMap2.put(valueOf, A002);
        return A002;
    }

    public static AnonymousClass72S A0c(MediaComposerActivity mediaComposerActivity) {
        return mediaComposerActivity.A1q.A02((Uri) C108955ca.A0p(AnonymousClass7JS.A03(mediaComposerActivity)));
    }

    public static MediaComposerFragment A0d(MediaComposerActivity mediaComposerActivity) {
        Uri A0A2 = mediaComposerActivity.A0X.A0A();
        if (A0A2 != null) {
            Iterator A0u2 = C108965cb.A0u(mediaComposerActivity);
            while (A0u2.hasNext()) {
                Fragment fragment = (Fragment) A0u2.next();
                if (fragment instanceof MediaComposerFragment) {
                    MediaComposerFragment mediaComposerFragment = (MediaComposerFragment) fragment;
                    if (A0A2.equals(mediaComposerFragment.A01)) {
                        return mediaComposerFragment;
                    }
                }
            }
        }
        return null;
    }

    /* JADX WARNING: Code restructure failed: missing block: B:46:0x0097, code lost:
        if (X.C18020vd.A05(X.C18040vf.A02, r8.A00, 7719) == false) goto L_0x002e;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:48:0x009d, code lost:
        if (isFinishing() != false) goto L_?;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:49:0x009f, code lost:
        r11.A0x.get();
        r5 = X.AnonymousClass7JS.A03(r11);
        r3 = X.C72453Mb.A1a(com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r11).A0H);
        r4 = new X.AnonymousClass7S0(r2, r11, 5);
     */
    /* JADX WARNING: Code restructure failed: missing block: B:50:0x00ba, code lost:
        if (r3 == false) goto L_0x00df;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:51:0x00bc, code lost:
        r1 = 2131889471;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:52:0x00bf, code lost:
        r3 = X.AnonymousClass4a6.A00(r11);
        r3.A0D(r1);
        r3.A0e(r11, X.AnonymousClass7SU.A00, 2131898766);
        r3.A0g(r11, new X.AnonymousClass7AO(r4, 45), 2131889470);
        X.AnonymousClass3MY.A1G(r3);
     */
    /* JADX WARNING: Code restructure failed: missing block: B:53:0x00de, code lost:
        return;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:55:0x00e3, code lost:
        if (r5.size() <= 1) goto L_0x00e9;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:56:0x00e5, code lost:
        r1 = 2131889472;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:58:0x00ed, code lost:
        if (X.AnonymousClass000.A1a(r5) == false) goto L_0x0108;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:59:0x00ef, code lost:
        r0 = r6.A02((android.net.Uri) r5.get(0)).A0D();
     */
    /* JADX WARNING: Code restructure failed: missing block: B:60:0x00fd, code lost:
        if (r0 == null) goto L_0x0108;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:61:0x00ff, code lost:
        r1 = 2131889474;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:62:0x0106, code lost:
        if (r0.intValue() == 3) goto L_0x00bf;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:63:0x0108, code lost:
        r1 = 2131889473;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:84:?, code lost:
        return;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    private void A0s() {
        /*
            r11 = this;
            boolean r0 = r11.A1Z
            if (r0 != 0) goto L_0x0010
            com.whatsapp.mediacomposer.MediaComposerFragment r2 = A0d(r11)
            if (r2 == 0) goto L_0x0011
            boolean r0 = r2.A2S()
            if (r0 == 0) goto L_0x0011
        L_0x0010:
            return
        L_0x0011:
            X.00H r0 = r11.A0x
            java.lang.Object r8 = r0.get()
            X.6cA r8 = (X.C126086cA) r8
            java.util.List r1 = X.AnonymousClass7JS.A03(r11)
            X.73D r6 = r11.A1q
            r0 = 1
            X.C18070vi.A0d(r6, r0)
            boolean r0 = r1 instanceof java.util.Collection
            r7 = 0
            if (r0 == 0) goto L_0x0032
            boolean r0 = r1.isEmpty()
            if (r0 == 0) goto L_0x0032
        L_0x002e:
            A19(r11, r2)
            return
        L_0x0032:
            java.util.Iterator r10 = r1.iterator()
        L_0x0036:
            boolean r0 = r10.hasNext()
            if (r0 == 0) goto L_0x002e
            android.net.Uri r0 = X.C108945cZ.A0M(r10)
            X.72S r9 = r6.A02(r0)
            boolean r0 = r9.A0Q
            if (r0 != 0) goto L_0x0036
            java.lang.String r0 = r9.A0G
            if (r0 != 0) goto L_0x008d
            java.io.File r0 = r9.A09
            if (r0 != 0) goto L_0x008d
            java.lang.String r0 = r9.A0I
            if (r0 != 0) goto L_0x008d
            java.io.File r0 = r9.A0A
            if (r0 != 0) goto L_0x008d
            int r0 = r9.A01
            if (r0 != 0) goto L_0x008d
            java.io.File r0 = r9.A08
            if (r0 != 0) goto L_0x008d
            android.graphics.Rect r0 = r9.A04
            if (r0 != 0) goto L_0x008d
            boolean r0 = r9.A0P
            if (r0 != 0) goto L_0x008d
            int r0 = r9.A00
            if (r0 != 0) goto L_0x008d
            java.lang.Integer r0 = r9.A0F
            if (r0 == 0) goto L_0x0036
            int r1 = r0.intValue()
            r0 = 3
            if (r1 != r0) goto L_0x0036
            android.graphics.Point r5 = r9.A03
            if (r5 == 0) goto L_0x0036
            long r3 = r9.A02
            int r1 = (int) r3
            android.graphics.Point r0 = new android.graphics.Point
            r0.<init>(r7, r1)
            boolean r0 = r5.equals(r0)
            if (r0 != 0) goto L_0x0036
            android.graphics.Point r0 = r9.A03
            if (r0 == 0) goto L_0x0036
        L_0x008d:
            X.0ve r3 = r8.A00
            r1 = 7719(0x1e27, float:1.0817E-41)
            X.0vf r0 = X.C18040vf.A02
            boolean r0 = X.C18020vd.A05(r0, r3, r1)
            if (r0 == 0) goto L_0x002e
            boolean r0 = r11.isFinishing()
            if (r0 != 0) goto L_0x0010
            X.00H r0 = r11.A0x
            r0.get()
            java.util.List r5 = X.AnonymousClass7JS.A03(r11)
            X.6kY r0 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r11)
            X.0vl r0 = r0.A0H
            boolean r3 = X.C72453Mb.A1a(r0)
            r0 = 5
            X.7S0 r4 = new X.7S0
            r4.<init>(r2, r11, r0)
            r1 = 1
            r2 = 3
            if (r3 == 0) goto L_0x00df
            r1 = 2131889471(0x7f120d3f, float:1.9413607E38)
        L_0x00bf:
            X.3Rj r3 = X.AnonymousClass4a6.A00(r11)
            r3.A0D(r1)
            r1 = 2131898766(0x7f12318e, float:1.943246E38)
            X.7SU r0 = X.AnonymousClass7SU.A00
            r3.A0e(r11, r0, r1)
            r2 = 2131889470(0x7f120d3e, float:1.9413604E38)
            r1 = 45
            X.7AO r0 = new X.7AO
            r0.<init>(r4, r1)
            r3.A0g(r11, r0, r2)
            X.AnonymousClass3MY.A1G(r3)
            return
        L_0x00df:
            int r0 = r5.size()
            if (r0 <= r1) goto L_0x00e9
            r1 = 2131889472(0x7f120d40, float:1.9413609E38)
            goto L_0x00bf
        L_0x00e9:
            boolean r0 = X.AnonymousClass000.A1a(r5)
            if (r0 == 0) goto L_0x0108
            java.lang.Object r0 = r5.get(r7)
            android.net.Uri r0 = (android.net.Uri) r0
            X.72S r0 = r6.A02(r0)
            java.lang.Integer r0 = r0.A0D()
            if (r0 == 0) goto L_0x0108
            int r0 = r0.intValue()
            r1 = 2131889474(0x7f120d42, float:1.9413613E38)
            if (r0 == r2) goto L_0x00bf
        L_0x0108:
            r1 = 2131889473(0x7f120d41, float:1.941361E38)
            goto L_0x00bf
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A0s():void");
    }

    private void A0t() {
        ViewGroup.MarginLayoutParams A0B2 = AnonymousClass3MW.A0B(this.A05);
        boolean A1T2 = AnonymousClass000.A1T(C72453Mb.A08(this), 2);
        int i = this.A02;
        if (i == -1 || A1T2) {
            i = 0;
        }
        int i2 = this.A1a;
        if (i2 == -1 || A1T2) {
            i2 = 0;
        }
        A0B2.setMargins(0, i, 0, i2);
    }

    public static void A0u(Uri uri, MediaComposerActivity mediaComposerActivity) {
        AnonymousClass7JS r1 = mediaComposerActivity.A0X;
        r1.A0D.remove(uri);
        AnonymousClass7JS.A04(r1);
        AnonymousClass73D r4 = mediaComposerActivity.A1q;
        AnonymousClass72S A032 = r4.A03(uri);
        if (A032 != null) {
            mediaComposerActivity.A1x.add(A032);
            int size = r4.A04().size();
            int i = mediaComposerActivity.A00;
            boolean z = true;
            if (size >= i) {
                i = C18020vd.A00(C18040vf.A02, mediaComposerActivity.A0E, 2693);
                mediaComposerActivity.A00 = i;
            }
            if (i <= r4.A04().size()) {
                z = false;
            }
            mediaComposerActivity.A1Q = z;
            AnonymousClass7JN.A00(mediaComposerActivity).setAddButtonActivated(z);
        }
        C116345x6 r0 = mediaComposerActivity.A0Z;
        if (r0 != null) {
            r0.A04();
        }
        AnonymousClass7JN.A01(mediaComposerActivity);
        boolean isEmpty = AnonymousClass7JS.A03(mediaComposerActivity).isEmpty();
        AnonymousClass7JS r02 = mediaComposerActivity.A0X;
        if (isEmpty) {
            if (r02.A0O) {
                Intent A0A2 = C17880vN.A0A();
                A0A2.putExtra("last_media_deleted", true);
                mediaComposerActivity.setResult(-1, A0A2);
            }
            mediaComposerActivity.finish();
            return;
        }
        if (r02.A07() >= 0) {
            mediaComposerActivity.Bs7();
            mediaComposerActivity.BuZ(0.0f);
            mediaComposerActivity.A0S.setCurrentItem(mediaComposerActivity.A0X.A07());
            A18(mediaComposerActivity, mediaComposerActivity.A0X.A07());
        }
        mediaComposerActivity.A0a.A0A(mediaComposerActivity.A0X.A0G());
    }

    public static void A0v(Uri uri, MediaComposerActivity mediaComposerActivity) {
        if (uri != null) {
            mediaComposerActivity.A0F.A05().A0E(uri.toString());
            mediaComposerActivity.A0F.A05().A0E(AnonymousClass000.A0y("-thumb", C17890vO.A0f(uri)));
            mediaComposerActivity.A0F.A05().A0E(AnonymousClass000.A0y("-filter", C17890vO.A0f(uri)));
            mediaComposerActivity.A0F.A05().A0E(AnonymousClass000.A0y("-filter-background", C17890vO.A0f(uri)));
            mediaComposerActivity.A0F.A02().A0E(AnonymousClass000.A0y("-thumb", C17890vO.A0f(uri)));
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:3:0x0019, code lost:
        if (r1.A0M == false) goto L_0x001b;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A0w(X.AnonymousClass77K r3, com.whatsapp.mediacomposer.MediaComposerActivity r4, X.C131126kY r5) {
        /*
            X.8AQ r2 = r4.A0c
            java.util.List r1 = r5.A06
            r0 = 1
            r2.CKJ(r3, r1, r0)
            X.7JN r3 = r4.A0a
            X.0vl r0 = r5.A0C
            boolean r2 = X.C72453Mb.A1a(r0)
            X.7JS r1 = r4.A0X
            boolean r0 = r1.A0J
            if (r0 == 0) goto L_0x001b
            boolean r1 = r1.A0M
            r0 = 1
            if (r1 != 0) goto L_0x001c
        L_0x001b:
            r0 = 0
        L_0x001c:
            r3.A0B(r2, r0)
            X.0vl r0 = r5.A0H
            boolean r0 = X.C72453Mb.A1a(r0)
            if (r0 == 0) goto L_0x002e
            X.7JN r0 = r4.A0a
            X.6rx r0 = r0.A0A
            r0.A00()
        L_0x002e:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A0w(X.77K, com.whatsapp.mediacomposer.MediaComposerActivity, X.6kY):void");
    }

    public static void A11(MediaComposerActivity mediaComposerActivity) {
        mediaComposerActivity.CMl(AnonymousClass6XW.A00(mediaComposerActivity.A0X.A0B(), C108945cZ.A0u(mediaComposerActivity.A1C), mediaComposerActivity, AnonymousClass6RU.MEDIA_COMPOSER));
        C72453Mb.A1B(mediaComposerActivity.A03);
        MediaComposerFragment A0d2 = A0d(mediaComposerActivity);
        if (A0d2 instanceof VideoComposerFragment) {
            C72453Mb.A1D(((VideoComposerFragment) A0d2).A0B);
        }
        C108985cd.A0X(mediaComposerActivity.A0s).A04("tap_share_sheet_entry");
    }

    /* JADX WARNING: Code restructure failed: missing block: B:11:0x0070, code lost:
        if (r9.A02.A0N() == false) goto L_0x0072;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:6:0x0052, code lost:
        if (X.C72453Mb.A1a(com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r9).A09) != false) goto L_0x0054;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A13(com.whatsapp.mediacomposer.MediaComposerActivity r36) {
        /*
            r9 = r36
            X.0ve r0 = r9.A0E
            r17 = r0
            X.1L4 r0 = r9.A09
            r16 = r0
            X.190 r15 = r9.A03
            X.1KW r14 = r9.A0D
            X.67r r13 = r9.A0O
            X.11C r12 = r9.A08
            X.0vb r11 = r9.A0K
            X.00H r0 = r9.A0y
            java.lang.Object r8 = r0.get()
            com.whatsapp.emoji.search.EmojiSearchProvider r8 = (com.whatsapp.emoji.search.EmojiSearchProvider) r8
            X.0z4 r10 = r9.A0A
            X.7JS r7 = r9.A0X
            X.0vc r6 = r9.A0n
            X.00H r0 = r9.A0z
            X.A59 r20 = X.C108945cZ.A0e(r0)
            X.6ZN r5 = r9.A0B
            java.util.List r33 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A04(r9)
            com.whatsapp.mediacomposer.ui.caption.CaptionView r0 = X.AnonymousClass7JN.A00(r9)
            java.lang.CharSequence r32 = r0.getCaptionText()
            if (r32 != 0) goto L_0x003a
            java.lang.String r32 = ""
        L_0x003a:
            X.7JS r0 = r9.A0X
            int r34 = r0.A08()
            X.206 r0 = A0q(r9)
            if (r0 != 0) goto L_0x0054
            X.6kY r0 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r9)
            X.0vl r0 = r0.A09
            boolean r0 = X.C72453Mb.A1a(r0)
            r35 = 1
            if (r0 == 0) goto L_0x0056
        L_0x0054:
            r35 = 0
        L_0x0056:
            X.00H r0 = r9.A1t
            java.lang.Object r4 = r0.get()
            X.6Qq r4 = (X.C122506Qq) r4
            X.6m3 r3 = r9.A0d
            X.7JS r0 = r9.A0X
            boolean r0 = r0.A0G()
            if (r0 != 0) goto L_0x0072
            X.11S r0 = r9.A02
            boolean r0 = r0.A0N()
            r36 = 1
            if (r0 != 0) goto L_0x0074
        L_0x0072:
            r36 = 0
        L_0x0074:
            com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel r2 = r9.A0i
            com.whatsapp.mediacomposer.viewmodel.MediaViewOnceViewModel r1 = r9.A0k
            X.5d2 r0 = new X.5d2
            r29 = r1
            r30 = r6
            r31 = r16
            r26 = r4
            r27 = r3
            r28 = r2
            r23 = r8
            r24 = r17
            r25 = r7
            r21 = r13
            r22 = r14
            r18 = r10
            r19 = r11
            r16 = r9
            r17 = r12
            r14 = r15
            r15 = r5
            r13 = r0
            r13.<init>(r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r31, r32, r33, r34, r35, r36)
            r9.A0b = r0
            r0.show()
            X.7JN r1 = r9.A0a
            X.7JS r0 = r9.A0X
            boolean r0 = r0.A0G()
            r1.A08(r0)
            X.7JN r0 = r9.A0a
            r0.A05()
            X.5d2 r2 = r9.A0b
            r1 = 5
            X.759 r0 = new X.759
            r0.<init>(r9, r1)
            r2.setOnDismissListener(r0)
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A13(com.whatsapp.mediacomposer.MediaComposerActivity):void");
    }

    /* JADX WARNING: Code restructure failed: missing block: B:9:0x0059, code lost:
        if (X.C18020vd.A05(X.C18040vf.A02, X.C108955ca.A0R(r12.A1D), 11003) == false) goto L_0x005b;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A14(com.whatsapp.mediacomposer.MediaComposerActivity r12) {
        /*
            X.00H r0 = r12.A1F
            java.lang.Object r3 = r0.get()
            X.6yZ r3 = (X.C139276yZ) r3
            X.73D r4 = r12.A1q
            boolean r6 = A1H(r12)
            java.util.List r0 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A04(r12)
            boolean r7 = X.C22971Dz.A0h(r0)
            java.util.List r2 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A04(r12)
            int r1 = r2.size()
            r0 = 1
            r8 = 0
            if (r1 != r0) goto L_0x002c
            java.lang.Object r0 = r2.get(r8)
            com.whatsapp.jid.Jid r0 = (com.whatsapp.jid.Jid) r0
            boolean r8 = X.C22971Dz.A0a(r0)
        L_0x002c:
            java.util.List r1 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A04(r12)
            java.util.List r0 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A04(r12)
            boolean r0 = r0.isEmpty()
            if (r0 != 0) goto L_0x0075
            X.1cg r0 = X.C29671cg.A00
            boolean r9 = r1.contains(r0)
        L_0x0040:
            X.7JS r0 = r12.A0X
            X.0vl r0 = r0.A0E
            boolean r0 = X.C72453Mb.A1a(r0)
            if (r0 == 0) goto L_0x005b
            X.00H r0 = r12.A1D
            X.0ve r2 = X.C108955ca.A0R(r0)
            r1 = 11003(0x2afb, float:1.5418E-41)
            X.0vf r0 = X.C18040vf.A02
            boolean r0 = X.C18020vd.A05(r0, r2, r1)
            r10 = 1
            if (r0 != 0) goto L_0x005c
        L_0x005b:
            r10 = 0
        L_0x005c:
            int r1 = r12.BUd()
            r0 = 54
            boolean r11 = X.AnonymousClass000.A1T(r1, r0)
            int r1 = r12.BUd()
            r0 = 35
            boolean r12 = X.AnonymousClass000.A1T(r1, r0)
            r5 = 0
            r3.A01(r4, r5, r6, r7, r8, r9, r10, r11, r12)
            return
        L_0x0075:
            r9 = 0
            goto L_0x0040
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A14(com.whatsapp.mediacomposer.MediaComposerActivity):void");
    }

    public static void A17(MediaComposerActivity mediaComposerActivity) {
        int A002;
        mediaComposerActivity.A0a.A0C.A2B(Integer.valueOf(mediaComposerActivity.A0k.A0T()));
        MediaComposerFragment A0d2 = A0d(mediaComposerActivity);
        if (A0d2 != null && (A002 = AnonymousClass7JS.A00(mediaComposerActivity.A0X)) != 13 && A002 != 29) {
            A0d2.A2Q(AnonymousClass000.A1T(mediaComposerActivity.A0k.A0T(), 3));
            A0d2.A2H();
        }
    }

    public static void A18(MediaComposerActivity mediaComposerActivity, int i) {
        SpannableStringBuilder spannableStringBuilder;
        if (i >= 0) {
            MediaComposerActivity mediaComposerActivity2 = mediaComposerActivity;
            if (i < AnonymousClass7JS.A01(mediaComposerActivity)) {
                mediaComposerActivity.A0X.A0D(i);
                AnonymousClass7JN.A01(mediaComposerActivity);
                AnonymousClass7JN r2 = mediaComposerActivity.A0a;
                r2.A0B.A05.A0g(mediaComposerActivity.A0X.A07());
                MediaComposerFragment A0d2 = A0d(mediaComposerActivity);
                Iterator A0u2 = C108965cb.A0u(mediaComposerActivity);
                while (A0u2.hasNext()) {
                    Fragment fragment = (Fragment) A0u2.next();
                    if ((fragment instanceof MediaComposerFragment) && fragment != A0d2) {
                        ((MediaComposerFragment) fragment).A2C();
                    }
                }
                if (A0d2 != null && !mediaComposerActivity.getIntent().getBooleanExtra("smb_send_product", false)) {
                    if (mediaComposerActivity.A1f) {
                        if (!C18020vd.A05(C18040vf.A02, mediaComposerActivity.A0E, 4361)) {
                            A14(mediaComposerActivity);
                            mediaComposerActivity.A1f = false;
                        }
                    }
                    if (A0d2.A0j) {
                        Log.i("MediaComposerActivity/onMediaSelected/View for current fragment is ready.");
                        A1C(mediaComposerActivity, A0d2);
                    } else {
                        Log.i("MediaComposerActivity/onMediaSelected/View for current fragment is not ready, preparing callback.");
                        A0d2.A0h = new AnonymousClass7S0(A0d2, mediaComposerActivity, 6);
                    }
                }
                Uri A0A2 = mediaComposerActivity.A0X.A0A();
                if (A0A2 != null) {
                    ((C129076hD) mediaComposerActivity.A18.get()).A03.add(A0A2);
                    AnonymousClass7JS r3 = mediaComposerActivity.A0X;
                    boolean z = r3.A0I;
                    Uri A0A3 = r3.A0A();
                    if (A0A3 != null) {
                        AnonymousClass72S A022 = r3.A08.A02(A0A3);
                        synchronized (A022) {
                            A022.A0Q = z;
                        }
                        r3.A0B.A0V();
                    }
                }
                AnonymousClass73D r0 = mediaComposerActivity.A1q;
                C17960vV.A07(A0A2);
                AnonymousClass72S A023 = r0.A02(A0A2);
                if (A023.A0E() != null) {
                    spannableStringBuilder = AnonymousClass3MW.A09(A023.A0E());
                    mediaComposerActivity.A0l.A06(mediaComposerActivity2, spannableStringBuilder, (AnonymousClass1BI) null, ((C58432kg) mediaComposerActivity.A17.get()).A00(A023.A0G()), true);
                } else {
                    spannableStringBuilder = null;
                }
                mediaComposerActivity2.A0a.A06(spannableStringBuilder);
                AnonymousClass7JN r32 = mediaComposerActivity2.A0a;
                r32.A0C.A26().A0B.setMentionableText(A023.A0E(), ((C58432kg) mediaComposerActivity2.A17.get()).A00(A023.A0G()));
            }
        }
    }

    public static void A1A(MediaComposerActivity mediaComposerActivity, MediaComposerFragment mediaComposerFragment) {
        AnonymousClass7JF r0;
        AnonymousClass7JF r6;
        Uri uri = mediaComposerFragment.A01;
        if (uri != null) {
            AnonymousClass72S A022 = mediaComposerActivity.A1q.A02(uri);
            AnonymousClass7JF r02 = mediaComposerFragment.A0J;
            String str = null;
            if (!(r02 == null || !AnonymousClass000.A1a(r02.A0V.A04) || (r6 = mediaComposerFragment.A0J) == null)) {
                C1405671z r03 = r6.A0Q;
                RectF rectF = r03.A07;
                RectF rectF2 = r03.A08;
                if (!(rectF == null || rectF2 == null)) {
                    str = r6.A0D.A00(rectF, rectF2, r6.A0V.A04, r03.A02).A05();
                }
            }
            A022.A0Q(str);
            AnonymousClass7JF r04 = mediaComposerFragment.A0J;
            String str2 = null;
            if (!(r04 == null || !AnonymousClass000.A1a(r04.A0V.A04) || (r0 = mediaComposerFragment.A0J) == null)) {
                AnonymousClass70N r05 = r0.A0V;
                try {
                    str2 = r05.A03.A01(r05.A04);
                } catch (JSONException e) {
                    Log.e("ShapeRepository/saveEditState", e);
                    str2 = null;
                }
            }
            A022.A0R(str2);
            AnonymousClass7JF r06 = mediaComposerFragment.A0J;
            if (r06 != null) {
                r06.A0V.A04.isEmpty();
            }
            synchronized (A022) {
                A022.A0H = null;
            }
            if (C22781De.A03()) {
                mediaComposerActivity.A05.CGS(new C70643By(mediaComposerActivity, A022, 0), "MediaComposerActivity");
            } else {
                A0y(A022, mediaComposerActivity);
            }
        }
    }

    public static void A1B(MediaComposerActivity mediaComposerActivity, MediaComposerFragment mediaComposerFragment) {
        View view = mediaComposerActivity.A04;
        if (!(view == null || view.getVisibility() == 8)) {
            mediaComposerActivity.A04.setVisibility(8);
            AlphaAnimation A0H2 = C108985cd.A0H();
            A0H2.setDuration(200);
            mediaComposerActivity.A04.startAnimation(A0H2);
        }
        if (mediaComposerFragment != null) {
            mediaComposerFragment.A2D();
        }
    }

    public static void A1C(MediaComposerActivity mediaComposerActivity, MediaComposerFragment mediaComposerFragment) {
        C136986uj A0U2;
        C1418277c r1;
        int intExtra;
        int i;
        Integer A0e2;
        if (!(mediaComposerActivity.A0X.A09() == 5 || mediaComposerActivity.A0X.A09() == 1 || mediaComposerActivity.A0X.A09() == 3 || mediaComposerActivity.A0X.A09() == 6 || mediaComposerActivity.A0X.A09() == 7)) {
            mediaComposerActivity.A0X.A0E(0);
        }
        if (mediaComposerActivity.A0X.A0K) {
            mediaComposerFragment.A2R(false);
        }
        if (mediaComposerActivity.A0X.A0A.A00 == 35) {
            mediaComposerFragment.A2R(true);
        }
        mediaComposerFragment.A2J();
        A15(mediaComposerActivity);
        if (!mediaComposerActivity.A1l && (intExtra = mediaComposerActivity.getIntent().getIntExtra("media_sharing_user_journey_origin", -1)) > 0) {
            int intExtra2 = mediaComposerActivity.getIntent().getIntExtra("media_sharing_user_journey_start_target", 60);
            int intExtra3 = mediaComposerActivity.getIntent().getIntExtra("media_sharing_user_journey_chat_type", -1);
            if (mediaComposerFragment instanceof VideoComposerFragment) {
                i = 11;
            } else if (!(mediaComposerFragment instanceof ImageComposerFragment)) {
                i = 12;
            } else if (((ImageComposerFragment) mediaComposerFragment) instanceof StickerComposerFragment) {
                i = 19;
            } else {
                i = 9;
            }
            if (intExtra3 > 0) {
                A0e2 = Integer.valueOf(intExtra3);
            } else {
                List A042 = MediaJidViewModel.A04(mediaComposerActivity);
                if (A042.isEmpty()) {
                    A0e2 = null;
                } else if (A042.size() == 1) {
                    A0e2 = AnonymousClass6WK.A00(C108945cZ.A0i(A042, 0));
                } else {
                    A0e2 = C108955ca.A0e();
                }
            }
            C108965cb.A0f(mediaComposerActivity).A03(A0e2, i, intExtra, intExtra2);
            mediaComposerActivity.A1l = true;
        }
        if ((mediaComposerFragment instanceof ImageComposerFragment) || (mediaComposerFragment instanceof VideoComposerFragment)) {
            if (mediaComposerActivity.A1e) {
                A16(mediaComposerActivity);
                mediaComposerActivity.A1e = false;
            } else {
                A15(mediaComposerActivity);
            }
            mediaComposerActivity.A4d(false);
        }
        if (mediaComposerActivity.A0X.A0I && (mediaComposerFragment instanceof PtvComposerFragment)) {
            C136246tV r12 = mediaComposerActivity.A0o;
            C17960vV.A08(r12, "PTVRecordingData cannot be null for PTV");
            C18070vi.A0d(r12, 0);
            mediaComposerFragment.A0P = r12;
        }
        if (mediaComposerActivity.A0X.A0I()) {
            Map A122 = AnonymousClass3MW.A12(C108945cZ.A0n(mediaComposerActivity.A08).A0B);
            if (A122.containsKey(mediaComposerActivity.A0X.A0A())) {
                C134926rN r13 = (C134926rN) A122.get(mediaComposerActivity.A0X.A0A());
                if (r13 != null) {
                    A0U2 = C108955ca.A0U(mediaComposerActivity);
                    r1 = r13.A00;
                }
            } else {
                A0U2 = C108955ca.A0U(mediaComposerActivity);
                r1 = null;
            }
            A0U2.A0I.setSelectedSong(r1);
        }
        C136986uj A0U3 = C108955ca.A0U(mediaComposerActivity);
        mediaComposerFragment.A2P(mediaComposerActivity.A0X, mediaComposerActivity.A0a, A0U3);
    }

    public static void A1D(MediaComposerActivity mediaComposerActivity, C128536gH r24) {
        Boolean bool = Boolean.TRUE;
        MediaComposerActivity mediaComposerActivity2 = mediaComposerActivity;
        AnonymousClass1DT r4 = mediaComposerActivity2.A1p;
        C128536gH r10 = r24;
        if (C108965cb.A1W(r4, bool)) {
            if (C18020vd.A05(C18040vf.A02, mediaComposerActivity2.A0E, 11113)) {
                r4.A0A(mediaComposerActivity2, new AnonymousClass7AH(r10, mediaComposerActivity2, 4));
                return;
            }
        }
        C129076hD r8 = (C129076hD) mediaComposerActivity2.A18.get();
        AnonymousClass73D r9 = mediaComposerActivity2.A1q;
        C18070vi.A0d(r9, 0);
        C18030ve r2 = r8.A00;
        C18040vf r6 = C18040vf.A02;
        if (C18020vd.A05(r6, r2, 5954)) {
            List A0q2 = C29431cG.A0q(r9.A04());
            ArrayList A132 = AnonymousClass000.A13();
            for (Object next : A0q2) {
                if (r8.A01.A01((AnonymousClass72S) next) == 1) {
                    A132.add(next);
                }
            }
            ArrayList<AnonymousClass72S> A133 = AnonymousClass000.A13();
            for (Object next2 : A132) {
                if (((AnonymousClass72S) next2).A0C() != null) {
                    A133.add(next2);
                }
            }
            for (AnonymousClass72S r5 : A133) {
                File A0C2 = r5.A0C();
                if (A0C2 != null) {
                    AnonymousClass3MX.A1Q(new MotionPhotosController$getMotionPhotos$3$1$1(r5, r8, A0C2, (C30391dr) null), AnonymousClass3MZ.A0H(mediaComposerActivity2));
                }
            }
        }
        C72453Mb.A1B(mediaComposerActivity2.A0A);
        Collection collection = mediaComposerActivity2.A1v;
        collection.addAll(r10.A00);
        AnonymousClass7JS r42 = mediaComposerActivity2.A0X;
        Set set = r10.A01;
        C18070vi.A0d(set, 0);
        r42.A0D.removeAll(set);
        AnonymousClass7JS.A04(r42);
        boolean z = false;
        if (AnonymousClass7JS.A03(mediaComposerActivity2).isEmpty()) {
            mediaComposerActivity2.A05.A08(2131896087, 0);
            mediaComposerActivity2.finish();
        } else {
            C116345x6 r22 = new C116345x6(mediaComposerActivity2.getSupportFragmentManager(), mediaComposerActivity2);
            mediaComposerActivity2.A0Z = r22;
            mediaComposerActivity2.A0S.setAdapter(r22);
            if (mediaComposerActivity2.A0Z != null) {
                int A4b = mediaComposerActivity2.A4b();
                if (AnonymousClass3MW.A1Z(mediaComposerActivity2.A0K)) {
                    A4b = (mediaComposerActivity2.A0Z.A0E() - 1) - A4b;
                }
                mediaComposerActivity2.A0S.A0J(A4b, false);
            }
            AnonymousClass7JN r3 = mediaComposerActivity2.A0a;
            boolean A0G2 = mediaComposerActivity2.A0X.A0G();
            int i = C72453Mb.A0M(mediaComposerActivity2).getInt("filter_dismissal_amount", 0);
            Bitmap bitmap = mediaComposerActivity2.A1b;
            if (!mediaComposerActivity2.A0X.A0G() && mediaComposerActivity2.A02.A0N()) {
                z = true;
            }
            r3.A0A(A0G2);
            AnonymousClass7J3 r1 = r3.A0B;
            r1.A05.setAdapter(r1.A09);
            if (bitmap == null) {
                WaImageButton waImageButton = r3.A0A.A01;
                ScaleAnimation scaleAnimation = new ScaleAnimation(0.0f, 1.0f, 0.0f, 1.0f, 1, 0.5f, 1, 0.5f);
                C108995ce.A0y(scaleAnimation, 125);
                scaleAnimation.setFillBefore(true);
                scaleAnimation.setStartOffset(100);
                waImageButton.clearAnimation();
                waImageButton.startAnimation(scaleAnimation);
                r3.A07.A04.clearAnimation();
                ScaleAnimation scaleAnimation2 = new ScaleAnimation(0.0f, 1.0f, 0.0f, 1.0f, 1, 0.5f, 1, 0.5f);
                C108995ce.A0y(scaleAnimation2, 125);
                scaleAnimation2.setFillBefore(true);
                scaleAnimation2.setStartOffset(100);
            }
            C127436eM r7 = r3.A08;
            boolean A1D2 = C108975cc.A1D(i, 5);
            FilterSwipeView filterSwipeView = r7.A01;
            int i2 = 2131890407;
            if (A1D2) {
                i2 = 2131890408;
            }
            filterSwipeView.setText(i2);
            if (filterSwipeView.A00.getVisibility() == 0) {
                TranslateAnimation translateAnimation = new TranslateAnimation(1, 0.0f, 1, 0.0f, 1, 0.0f, 0, r7.A00.getResources().getDimension(2131166808));
                C108995ce.A0y(translateAnimation, 1000);
                translateAnimation.setRepeatMode(2);
                translateAnimation.setRepeatCount(3);
                filterSwipeView.startAnimation(translateAnimation);
            }
            r3.A0C.A26().A08 = z;
            if (!A1H(mediaComposerActivity2)) {
                C134146q7 A0V2 = C108955ca.A0V(mediaComposerActivity2);
                List A032 = AnonymousClass7JS.A03(mediaComposerActivity2);
                int intValue = MediaQualityViewModel.A03(mediaComposerActivity2).intValue();
                HashSet A0U2 = mediaComposerActivity2.A0j.A0U();
                AnonymousClass73D r17 = r9;
                A0V2.A00(r17, MediaJidViewModel.A03(mediaComposerActivity2), AnonymousClass00R.A0C, (Integer) null, A032, A0U2, intValue, mediaComposerActivity2.BUd());
            }
        }
        if (mediaComposerActivity2.A1j && collection.size() == 1) {
            C139676zG A002 = mediaComposerActivity2.A0r.A00(mediaComposerActivity2, (C135976t4) null, C18020vd.A05(r6, mediaComposerActivity2.A0E, 611), true);
            mediaComposerActivity2.A0q = A002;
            A002.A03 = true;
            C26521Sl r43 = mediaComposerActivity2.A0u;
            AnonymousClass6MT r23 = new AnonymousClass6MT(Uri.fromFile((File) collection.iterator().next()), mediaComposerActivity2.A1r, r43);
            mediaComposerActivity2.A0p = r23;
            C17890vO.A0u(r23, mediaComposerActivity2.A05);
        }
        if (!mediaComposerActivity2.A1h) {
            MediaQualityViewModel mediaQualityViewModel = mediaComposerActivity2.A0j;
            C22791Df.A00(mediaQualityViewModel.A01).A0A(mediaComposerActivity2, new AnonymousClass7AO(mediaComposerActivity2, 39));
            MediaQualityViewModel mediaQualityViewModel2 = mediaComposerActivity2.A0j;
            C22791Df.A00(mediaQualityViewModel2.A00).A0A(mediaComposerActivity2, new AnonymousClass7AO(mediaComposerActivity2, 40));
            mediaComposerActivity2.A1h = true;
        }
    }

    public static boolean A1F(MediaComposerActivity mediaComposerActivity) {
        MediaComposerFragment A0d2;
        if (C138766xe.A00(mediaComposerActivity.A0h) || C72453Mb.A1a(MediaJidViewModel.A03(mediaComposerActivity).A0H) || (A0d2 = A0d(mediaComposerActivity)) == null) {
            return false;
        }
        if (!A1G(mediaComposerActivity)) {
            return mediaComposerActivity.getIntent().getBooleanExtra("enable_media_quality_tool", true);
        }
        if (!(A0d2 instanceof ImageComposerFragment)) {
            return false;
        }
        if (C18020vd.A05(C18040vf.A01, C108945cZ.A0j(mediaComposerActivity.A12).A02, 6033)) {
            return true;
        }
        return false;
    }

    public void A2y() {
        if (!this.A1g) {
            this.A1g = true;
            AnonymousClass1K1 A0K2 = C108955ca.A0K(this);
            AnonymousClass10E A0A2 = C109005cf.A0A(A0K2, this);
            AnonymousClass1FB.A0M(A0A2, this);
            AnonymousClass10G r3 = A0A2.A00;
            C109005cf.A0d(A0A2, r3, this);
            C109005cf.A0e(A0A2, r3, this, r3.A5A);
            this.A00 = (AnonymousClass87Y) A0K2.A2g.get();
            this.A16 = C000200d.A00(A0A2.AYQ);
            this.A0F = C108965cb.A0K(A0A2);
            this.A0l = (C32091gc) A0A2.A6G.get();
            this.A0I = AnonymousClass3MZ.A0l(A0A2);
            this.A0P = AnonymousClass3Ma.A0g(A0A2);
            this.A0m = (C32511hJ) A0A2.A4O.get();
            this.A0M = C108955ca.A0M(A0A2);
            this.A12 = C000200d.A00(A0A2.AVb);
            this.A1H = C000200d.A00(A0A2.AmD);
            this.A17 = C000200d.A00(A0A2.AYd);
            this.A0O = C108985cd.A0T(A0A2);
            this.A1D = C000200d.A00(A0A2.AAB);
            this.A0N = (AnonymousClass2E5) r3.ABG.get();
            this.A0U = (C25291Nq) A0A2.A6E.get();
            this.A0E = (AnonymousClass1T1) A0A2.A43.get();
            this.A1L = C000200d.A00(A0A2.AC9);
            this.A0u = (C26521Sl) A0A2.A69.get();
            this.A0W = (C26431Sc) A0A2.AlU.get();
            this.A0K = AnonymousClass10E.A6Q(A0A2);
            this.A0v = C108965cb.A0h(A0A2);
            this.A10 = AnonymousClass3MX.A12(A0A2);
            this.A0H = (C29781cr) A0A2.AAq.get();
            this.A1K = C000200d.A00(A0A2.ABv);
            this.A0T = (C34501ka) A0A2.A68.get();
            this.A0y = C108965cb.A0i(r3);
            this.A0J = AnonymousClass3Ma.A0b(A0A2);
            this.A0g = (AnonymousClass7IT) r3.AH2.get();
            this.A0s = C108965cb.A0Z(A0A2);
            this.A0t = C108965cb.A0a(A0A2);
            this.A0n = AnonymousClass3Ma.A0r(A0A2);
            this.A1C = C000200d.A00(r3.A4e);
            this.A19 = AnonymousClass3MX.A11(A0A2);
            this.A0z = C108965cb.A0j(r3);
            this.A0d = AnonymousClass1K1.A1G(A0K2);
            this.A11 = C000200d.A00(r3.ABI);
            this.A0D = (C56422hR) A0K2.A2t.get();
            this.A0G = (C88184Yq) r3.A15.get();
            this.A0C = (AnonymousClass6ZQ) A0K2.A5V.get();
            this.A0r = AnonymousClass1K1.A1b(A0K2);
            this.A1A = C000200d.A00(A0K2.A5H);
            this.A18 = C000200d.A00(A0A2.Aa9);
            this.A14 = C000200d.A00(r3.ADC);
            this.A0x = C000200d.A00(A0K2.A0z);
            this.A1I = AnonymousClass3MW.A0s(A0A2);
            this.A0B = (AnonymousClass6ZN) A0K2.A2F.get();
            this.A0V = (C1403571b) r3.ABJ.get();
            this.A0Q = (C87894Xm) r3.AH7.get();
            this.A1G = C000200d.A00(r3.AId);
            this.A13 = C000200d.A00(A0K2.A4g);
            this.A1F = C000200d.A00(A0K2.A61);
            this.A1J = C000200d.A00(A0K2.A66);
            this.A1E = C000200d.A00(A0A2.AAs);
            this.A1B = C000200d.A00(AnonymousClass0YY.A00());
            this.A15 = C000200d.A00(A0K2.A5I);
            this.A0w = C000200d.A00(A0A2.A34);
        }
    }

    public int A4b() {
        int indexOf;
        if (this.A0X.A07() >= 0) {
            return this.A0X.A07();
        }
        Parcelable parcelableExtra = getIntent().getParcelableExtra("preselected_image_uri");
        if (parcelableExtra == null || AnonymousClass7JS.A01(this) <= 0 || (indexOf = AnonymousClass7JS.A03(this).indexOf(parcelableExtra)) == -1) {
            return 0;
        }
        return indexOf;
    }

    public Uri BN2() {
        if (AnonymousClass745.A00) {
            return (Uri) getIntent().getParcelableExtra("animate_uri");
        }
        return null;
    }

    public String BR5(Uri uri) {
        String str;
        AnonymousClass72S A022 = this.A1q.A02(uri);
        synchronized (A022) {
            str = A022.A0I;
        }
        return str;
    }

    public int BUU(long j) {
        C139276yZ r3 = (C139276yZ) this.A1F.get();
        boolean A1a2 = C72453Mb.A1a(MediaJidViewModel.A03(this).A0D);
        boolean A1T2 = AnonymousClass000.A1T(BUd(), 35);
        if (A1a2) {
            return AnonymousClass6XV.A00((C18030ve) C18070vi.A0E(r3.A01), j);
        }
        if (!A1T2) {
            return -1;
        }
        return C18020vd.A00(C18040vf.A02, C17880vN.A0P(r3.A01), 3402);
    }

    public void Bs5() {
        if (this.A1z.getAndSet(0) == 6) {
            C108955ca.A0U(this).A03();
        } else if (getIntent().getBooleanExtra("show_try_templates_tooltip", false)) {
            TitleBarView titleBarView = C108955ca.A0U(this).A0I;
            ImageView imageView = titleBarView.A0B;
            if (imageView == null) {
                C17960vV.A0F(false, "Template button is not initialized");
            } else if (!titleBarView.A0g) {
                C28931bI r0 = titleBarView.A0W;
                if (r0 != null) {
                    r0.A04(0);
                    C28931bI r02 = titleBarView.A0W;
                    if (r02 != null) {
                        View A022 = r02.A02();
                        A022.setAlpha(0.0f);
                        AnonymousClass78K.A00(A022, titleBarView, 34);
                        View A0L2 = C72463Mc.A0L(imageView);
                        C72463Mc.A12(A022);
                        A022.setX((((((float) imageView.getPaddingLeft()) + imageView.getX()) + (((float) A0L2.getPaddingLeft()) + A0L2.getX())) - ((float) A022.getPaddingLeft())) - C108945cZ.A02(A022.getMeasuredWidth() - imageView.getWidth()));
                        C108985cd.A0G(A022).setDuration(500).setInterpolator(new AnonymousClass1YY()).setStartDelay(500).start();
                        titleBarView.A0g = true;
                        return;
                    }
                }
                C18070vi.A11("templateTooltipView");
                throw null;
            }
        }
    }

    public void Bs7() {
        Integer num;
        int intValue;
        int intValue2;
        Collection values;
        Uri A0A2 = this.A0X.A0A();
        A0v(A0A2, this);
        A0z(this);
        AnonymousClass7JN r3 = this.A0a;
        boolean A0G2 = this.A0X.A0G();
        r3.A02 = false;
        r3.A0B.A09.notifyDataSetChanged();
        r3.A07(A0G2);
        if (A0A2 != null) {
            AnonymousClass72S A022 = this.A1q.A02(A0A2);
            C25833Cmm cmm = this.A09;
            Point A042 = A022.A04();
            Integer num2 = null;
            if (A042 != null) {
                num = Integer.valueOf(A042.x);
            } else {
                num = null;
            }
            Point A043 = A022.A04();
            if (A043 != null) {
                num2 = Integer.valueOf(A043.y);
            }
            if (cmm != null && num != null && num2 != null && (intValue2 = num2.intValue() - intValue) > 0) {
                C25186Cac A002 = C137326vH.A00(this, A022);
                C24322BzJ bzJ = C24322BzJ.AUDIO;
                Map map = (Map) A002.A02.get(bzJ);
                if (!(map == null || (values = map.values()) == null)) {
                    values.remove(cmm);
                }
                C26010CqR cqR = new C26010CqR(bzJ, "", TimeUnit.MILLISECONDS.toMicros((long) (intValue = num.intValue())));
                Iterator it = C17880vN.A10(cmm.A04).iterator();
                while (it.hasNext()) {
                    C25271CcJ ccJ = (C25271CcJ) it.next();
                    long A032 = ccJ.A03.A03(TimeUnit.MILLISECONDS);
                    CXD A003 = ccJ.A00();
                    A003.A03 = new A5W(TimeUnit.MILLISECONDS, A032, A032 + ((long) intValue2));
                    cqR.A04.add(A003.A00());
                }
                C25833Cmm cmm2 = new C25833Cmm(cqR);
                A002.A02(cmm2);
                AnonymousClass1D6 A012 = AnonymousClass1D6.A01(cmm2, new C26052CrM(A002));
                this.A09 = (C25833Cmm) A012.first;
                CQs(A0A2, (C26052CrM) A012.second);
            }
        }
    }

    public void BuZ(float f) {
        int i;
        float f2 = 1.0f - f;
        int i2 = (f2 > 0.0f ? 1 : (f2 == 0.0f ? 0 : -1));
        BottomBarView bottomBarView = this.A0a.A07;
        if (i2 == 0) {
            i = 4;
        } else {
            if (bottomBarView.getVisibility() != 0) {
                i = 0;
            }
            bottomBarView.setAlpha(f2);
        }
        bottomBarView.setVisibility(i);
        bottomBarView.setAlpha(f2);
    }

    public void By8(ArrayList arrayList) {
        Intent A022;
        String str;
        Intent intent;
        Object A0w2;
        Map map;
        this.A05.A0I(this.A1u);
        if (getIntent().getBooleanExtra("send", true) && (MediaJidViewModel.A04(this).size() > 1 || MediaJidViewModel.A04(this).contains(C29671cg.A00))) {
            if (this.A0X.A0I()) {
                ArrayList A102 = C17880vN.A10(AnonymousClass7JS.A03(this));
                A102.removeAll(arrayList);
                Set keySet = AnonymousClass3MW.A12(C108945cZ.A0n(this.A08).A0B).keySet();
                Iterator it = A102.iterator();
                while (true) {
                    if (it.hasNext()) {
                        if (keySet.contains(it.next())) {
                            break;
                        }
                    } else {
                        break;
                    }
                }
            }
            CPW(MediaJidViewModel.A04(this), getIntent().getBooleanExtra("disable_tools_for_newsletter_forward", false) ^ true ? 1 : 0);
        }
        C134146q7 A0V2 = C108955ca.A0V(this);
        C18070vi.A0d(arrayList, 0);
        ArrayList A0D2 = C29351c6.A0D(arrayList);
        Iterator it2 = arrayList.iterator();
        while (it2.hasNext()) {
            A0D2.add(C26521Sl.A0U(C108945cZ.A0M(it2)));
        }
        for (Object next : A0D2) {
            Map map2 = ((C57382iz) A0V2.A0A.get()).A00;
            Integer num = A0V2.A00;
            if (num == null || num.intValue() != 3 || (map = (Map) map2.get(3)) == null || !map.containsKey(next)) {
                A0w2 = AnonymousClass000.A0w(map2, 0);
            } else {
                A0w2 = map2.get(3);
            }
            Map map3 = (Map) A0w2;
            if (map3 != null) {
                map3.remove(next);
            }
        }
        ((C57382iz) C108955ca.A0V(this).A0A.get()).A00();
        Intent A0A2 = C17880vN.A0A();
        A0A2.putParcelableArrayListExtra("android.intent.extra.STREAM", arrayList);
        A0A2.putStringArrayListExtra("jids", C22971Dz.A0B(MediaJidViewModel.A04(this)));
        if (getIntent().getBooleanExtra("send_media_preview_params_as_result", false)) {
            AnonymousClass73D r0 = this.A1q;
            Bundle A0D3 = C17880vN.A0D();
            AnonymousClass73D.A01(A0D3, r0);
            A0A2.putExtra("media_preview_params", A0D3);
        }
        this.A01 = -1;
        setResult(-1, A0A2);
        int intExtra = getIntent().getIntExtra("product_origin", -1);
        if (getIntent().getBooleanExtra("smb_send_product", false) && intExtra == 3) {
            this.A05.A08(2131894788, 0);
        }
        if (getIntent().getBooleanExtra("start_home", false)) {
            this.A1I.get();
            A3q(C108985cd.A0B(this), true);
            return;
        }
        if (!getIntent().getBooleanExtra("parent_handles_redirect", false) && (C72453Mb.A1a(MediaJidViewModel.A03(this).A08) || getIntent().getBooleanExtra("handle_redirect", false))) {
            int size = MediaJidViewModel.A04(this).size();
            if (size == 1) {
                boolean z = false;
                if (C22971Dz.A01(MediaJidViewModel.A04(this)) != null) {
                    z = true;
                }
                AnonymousClass1LU A0h2 = C108945cZ.A0h(this.A1I);
                if (z) {
                    A022 = AnonymousClass1LU.A02(this);
                    str = C28901bF.A05;
                } else {
                    intent = A0h2.A1w(this, C108945cZ.A0i(MediaJidViewModel.A04(this), 0), 0);
                    C60442o2.A00(intent, this.A05, "MediaComposerActivity:onMediaSent");
                    startActivity(intent);
                }
            } else if (size > 1) {
                this.A1I.get();
                A022 = AnonymousClass1LU.A02(this);
                str = C28901bF.A02;
            }
            intent = A022.setAction(str);
            startActivity(intent);
        }
        if (this.A1k) {
            finishAndRemoveTask();
        } else {
            finish();
        }
    }

    public void C6b() {
        Log.i("MediaComposer/shareSheetDialog/dismissed");
        C108975cc.A0q(this.A03);
        MediaComposerFragment A0d2 = A0d(this);
        if (A0d2 != null) {
            if (A0d2 instanceof VideoComposerFragment) {
                C72453Mb.A1C(((VideoComposerFragment) A0d2).A0B);
            }
            A0d2.A2L(1.0f, true);
        }
    }

    public void C6e() {
        Log.i("MediaComposer/shareSheetDialog/sendClicked");
        if (this.A1Z) {
            this.A03.A0G("MediaComposer/onStatusCreationFlowRedesignShareSheetSendButtonClicked/avoided double send", TextUtils.join(", ", AnonymousClass7JS.A03(this)), true);
            return;
        }
        this.A1O = "share_sheet_share_button";
        C108955ca.A1Q(C108965cb.A0f(this), 46, 1, this.A0X.A06());
        this.A0s.A0G(Integer.valueOf(this.A0T.A01(A0c(this))), this.A1O);
        A4c();
    }

    public void CBt(String str) {
        ImageView imageView;
        if (str.equals("music_error_in_gif_mode")) {
            MediaComposerFragment A0d2 = A0d(this);
            if ((A0d2 instanceof VideoComposerFragment) && (imageView = ((VideoComposerFragment) A0d2).A0H) != null) {
                imageView.performClick();
            }
        }
    }

    public void CI4(Uri uri, Integer num, Integer num2, Integer num3) {
        AnonymousClass72S A022 = this.A1q.A02(uri);
        synchronized (A022) {
            A022.A0D = num;
        }
        synchronized (A022) {
            A022.A0C = num2;
        }
        synchronized (A022) {
            A022.A0E = num3;
        }
    }

    public void CQs(Uri uri, C26052CrM crM) {
        C24150BwG bwG;
        C25835Cmo cmo;
        C26380Cyg cyg;
        long j;
        VideoComposerFragment videoComposerFragment;
        AnonymousClass72S A022 = this.A1q.A02(uri);
        synchronized (A022) {
            A022.A05 = crM;
        }
        if (crM != null) {
            if (C18020vd.A05(C18040vf.A02, this.A0E, 10024)) {
                MediaComposerFragment A0d2 = A0d(this);
                AnonymousClass70X r1 = null;
                if ((A0d2 instanceof VideoComposerFragment) && (videoComposerFragment = (VideoComposerFragment) A0d2) != null) {
                    r1 = videoComposerFragment.A0W;
                }
                if ((r1 instanceof C24150BwG) && (bwG = (C24150BwG) r1) != null && (cmo = bwG.A01) != null && (cyg = cmo.A04) != null) {
                    C26243Cvh cvh = cyg.A0q;
                    if (cvh != null) {
                        j = cvh.A0X * 1000;
                    } else {
                        j = 0;
                    }
                    cyg.A0K(crM, j);
                }
            }
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:18:0x00aa, code lost:
        if (r9 != 100) goto L_0x00ac;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public boolean dispatchTouchEvent(android.view.MotionEvent r17) {
        /*
            r16 = this;
            r4 = r16
            boolean r0 = r4.A1Z
            if (r0 != 0) goto L_0x00f6
            X.6kU r2 = r4.A0Y
            r5 = r17
            if (r2 == 0) goto L_0x015c
            com.whatsapp.gallerypicker.PhotoViewPager r11 = r4.A0S
            android.view.View r0 = r2.A06
            r7 = 0
            if (r0 == 0) goto L_0x015c
            int r1 = r5.getAction()
            r6 = 16777215(0xffffff, float:2.3509886E-38)
            r0 = 2
            r8 = 255(0xff, float:3.57E-43)
            r12 = 1
            r3 = 0
            if (r1 != r0) goto L_0x0125
            android.view.ViewGroup r4 = r2.A08
            r4.setVisibility(r7)
            android.view.ViewGroup r8 = r2.A07
            int[] r9 = r2.A0E
            r8.getLocationOnScreen(r9)
            float r0 = r5.getX()
            int r10 = (int) r0
            r0 = r9[r7]
            int r10 = r10 - r0
            float r0 = r2.A00
            int r0 = (int) r0
            int r10 = r10 - r0
            float r0 = r5.getY()
            int r1 = (int) r0
            r0 = r9[r12]
            int r1 = r1 - r0
            float r0 = r2.A01
            int r0 = (int) r0
            int r1 = r1 - r0
            r8.setPadding(r10, r1, r7, r7)
            android.view.View r10 = r2.A05
            int r1 = r4.getHeight()
            int r0 = r11.getHeight()
            int r1 = r1 - r0
            r10.setPadding(r7, r7, r7, r1)
            android.widget.TextView r4 = r2.A0A
            r4.getLocationOnScreen(r9)
            r0 = r9[r12]
            int r11 = X.AnonymousClass3MW.A02(r4, r0)
            int r0 = r8.getHeight()
            int r0 = r0 - r11
            if (r0 <= 0) goto L_0x00ac
            float r9 = (float) r0
            float r1 = r5.getY()
            float r0 = (float) r11
            float r1 = r1 - r0
            float r1 = r9 - r1
            r0 = 1120403456(0x42c80000, float:100.0)
            float r1 = r1 * r0
            float r0 = X.C108945cZ.A01(r1, r9, r0)
            int r9 = (int) r0
            if (r9 < 0) goto L_0x00ac
            r0 = 70
            r5 = 100
            if (r9 <= r0) goto L_0x00ac
            int r0 = r9 * 2
            int r0 = r0 / 3
            int r0 = r0 * 255
            int r0 = r0 / r5
            int r0 = r0 << 24
            r10.setBackgroundColor(r0)
            boolean r0 = r2.A0B
            if (r0 != 0) goto L_0x009f
            int r1 = r9 * 255
            int r1 = r1 / r5
            int r0 = r1 << 24
            r6 = r6 | r0
            r4.setTextColor(r6)
            android.graphics.drawable.Drawable r0 = r2.A03
            r0.setAlpha(r1)
        L_0x009f:
            r10.clearAnimation()
            android.os.Handler r1 = r2.A0C
            java.lang.Runnable r0 = r2.A0D
            r1.removeCallbacks(r0)
            r1 = 1
            if (r9 == r5) goto L_0x00ad
        L_0x00ac:
            r1 = 0
        L_0x00ad:
            r13 = 1056964608(0x3f000000, float:0.5)
            boolean r0 = r2.A0B
            if (r1 == 0) goto L_0x00f8
            if (r0 != 0) goto L_0x00f1
            r2.A0B = r12
            r0 = -65536(0xffffffffffff0000, float:NaN)
            r4.setTextColor(r0)
            android.graphics.drawable.Drawable r0 = r2.A02
            r4.setCompoundDrawablesWithIntrinsicBounds(r0, r3, r3, r3)
            float r9 = X.C108945cZ.A03(r8)
            float r9 = r9 * r13
            float r0 = X.C108945cZ.A03(r4)
            float r9 = r9 / r0
            r8 = 1065353216(0x3f800000, float:1.0)
            android.view.animation.ScaleAnimation r7 = new android.view.animation.ScaleAnimation
            r10 = r8
            r11 = r9
            r14 = r12
            r15 = r13
            r7.<init>(r8, r9, r10, r11, r12, r13, r14, r15)
            android.view.animation.BounceInterpolator r0 = new android.view.animation.BounceInterpolator
            r0.<init>()
            r7.setInterpolator(r0)
            r0 = 800(0x320, double:3.953E-321)
        L_0x00e0:
            r7.setDuration(r0)
            r7.setFillAfter(r12)
            r4.clearAnimation()
            r4.startAnimation(r7)
            android.widget.ImageView r0 = r2.A09
            r0.invalidate()
        L_0x00f1:
            android.view.View r0 = r2.A06
            r0.invalidate()
        L_0x00f6:
            r1 = 1
        L_0x00f7:
            return r1
        L_0x00f8:
            if (r0 == 0) goto L_0x00f1
            r2.A0B = r7
            r0 = -1
            r4.setTextColor(r0)
            android.graphics.drawable.Drawable r0 = r2.A03
            r4.setCompoundDrawablesWithIntrinsicBounds(r0, r3, r3, r3)
            float r8 = X.C108945cZ.A03(r8)
            float r8 = r8 * r13
            float r0 = X.C108945cZ.A03(r4)
            float r8 = r8 / r0
            r9 = 1065353216(0x3f800000, float:1.0)
            android.view.animation.ScaleAnimation r7 = new android.view.animation.ScaleAnimation
            r10 = r8
            r11 = r9
            r14 = r12
            r15 = r13
            r7.<init>(r8, r9, r10, r11, r12, r13, r14, r15)
            android.view.animation.LinearInterpolator r0 = new android.view.animation.LinearInterpolator
            r0.<init>()
            r7.setInterpolator(r0)
            r0 = 500(0x1f4, double:2.47E-321)
            goto L_0x00e0
        L_0x0125:
            int r0 = r5.getAction()
            if (r0 != r12) goto L_0x0164
            boolean r0 = r2.A0B
            if (r0 == 0) goto L_0x0164
            android.net.Uri r1 = r2.A04
            if (r1 == 0) goto L_0x0138
            com.whatsapp.mediacomposer.MediaComposerActivity r0 = r2.A0F
            A0u(r1, r0)
        L_0x0138:
            r2.A0B = r7
            r2.A04 = r3
            r2.A06 = r3
            android.view.ViewGroup r1 = r2.A08
            r0 = 8
            r1.setVisibility(r0)
            android.graphics.drawable.Drawable r1 = r2.A03
            r1.setAlpha(r8)
            android.widget.TextView r0 = r2.A0A
            r0.clearAnimation()
            r0.setTextColor(r6)
            r0.setCompoundDrawablesWithIntrinsicBounds(r1, r3, r3, r3)
            android.os.Handler r1 = r2.A0C
            java.lang.Runnable r0 = r2.A0D
            r1.removeCallbacks(r0)
        L_0x015c:
            boolean r0 = super.dispatchTouchEvent(r5)
            r1 = 0
            if (r0 == 0) goto L_0x00f7
            goto L_0x00f6
        L_0x0164:
            android.view.View r0 = r2.A06
            r0.invalidate()
            goto L_0x0138
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.dispatchTouchEvent(android.view.MotionEvent):boolean");
    }

    /* JADX INFO: finally extract failed */
    /* JADX WARNING: Code restructure failed: missing block: B:136:0x05fe, code lost:
        if (r3 != null) goto L_0x0600;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:87:0x03d7, code lost:
        if (X.C72453Mb.A1a(com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r0).A0H) != false) goto L_0x0234;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void onCreate(android.os.Bundle r39) {
        /*
            r38 = this;
            java.lang.String r0 = "MediaComposerActivity/onCreate"
            com.whatsapp.util.Log.i((java.lang.String) r0)
            r0 = r38
            android.view.Window r8 = r0.getWindow()
            r2 = r39
            super.onCreate(r2)
            java.lang.String r1 = "MediaComposerActivity/onCreate/super.onCreate"
            com.whatsapp.util.Log.i((java.lang.String) r1)
            if (r39 != 0) goto L_0x0024
            X.4Xm r4 = r0.A0Q
            r1 = 5
            X.4fO r3 = new X.4fO
            r3.<init>(r1)
            r1 = 109(0x6d, float:1.53E-43)
            r4.A01(r3, r1)
        L_0x0024:
            X.0vl r1 = r0.A02
            java.lang.Object r1 = r1.getValue()
            X.6wV r1 = (X.C138086wV) r1
            r0.A0h = r1
            X.0vl r1 = r0.A03
            java.lang.Object r1 = r1.getValue()
            com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel r1 = (com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel) r1
            r0.A0i = r1
            X.0vl r1 = r0.A04
            java.lang.Object r1 = r1.getValue()
            com.whatsapp.mediacomposer.viewmodel.MediaQualityViewModel r1 = (com.whatsapp.mediacomposer.viewmodel.MediaQualityViewModel) r1
            r0.A0j = r1
            X.0vl r1 = r0.A06
            com.whatsapp.mediacomposer.viewmodel.MediaViewOnceViewModel r1 = X.C108945cZ.A0l(r1)
            r0.A0k = r1
            X.17x r1 = r0.A0J
            boolean r1 = X.AnonymousClass74O.A0O(r0, r1)
            if (r1 == 0) goto L_0x0747
            long r3 = java.lang.System.nanoTime()
            java.lang.Long r1 = java.lang.Long.valueOf(r3)
            r0.A1M = r1
            r1 = 2131891931(0x7f1216db, float:1.9418596E38)
            r0.setTitle(r1)
            X.10I r4 = r0.A05
            X.1cr r3 = r0.A0H
            r3.getClass()
            r1 = 37
            X.C98834rn.A01(r4, r3, r1)
            java.lang.String r7 = "media_quality_selection"
            r9 = -1
            r1 = 0
            if (r39 != 0) goto L_0x0188
            android.content.Intent r4 = r0.getIntent()
            java.lang.String r3 = "android.intent.extra.STREAM"
            java.util.ArrayList r24 = r4.getParcelableArrayListExtra(r3)
            android.os.Bundle r3 = X.AnonymousClass3MY.A09(r0)
            if (r3 == 0) goto L_0x00d6
            boolean r4 = r3.containsKey(r7)
            if (r4 != 0) goto L_0x0182
            X.00H r4 = r0.A12
            X.6ub r5 = X.C108945cZ.A0j(r4)
            boolean r4 = A1G(r0)
            boolean r4 = r5.A03(r4)
            if (r4 != 0) goto L_0x00a2
            X.00H r4 = r0.A1H
            boolean r4 = X.C139506yx.A00(r4)
            if (r4 == 0) goto L_0x0182
        L_0x00a2:
            X.6wV r4 = r0.A0h
            boolean r4 = X.C138766xe.A00(r4)
            if (r4 != 0) goto L_0x0182
            boolean r4 = A1G(r0)
            if (r4 != 0) goto L_0x0182
            X.6kY r4 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r0)
            X.0vl r4 = r4.A09
            boolean r4 = X.C72453Mb.A1a(r4)
            if (r4 != 0) goto L_0x0182
            X.0z4 r4 = r0.A0A
            int r5 = r4.A0F()
        L_0x00c2:
            com.whatsapp.mediacomposer.viewmodel.MediaQualityViewModel r4 = r0.A0j
            X.1DT r4 = r4.A01
            X.AnonymousClass3MX.A1J(r4, r5)
            com.whatsapp.mediacomposer.viewmodel.MediaViewOnceViewModel r6 = r0.A0k
            java.lang.String r4 = "view_once_selection"
            int r5 = r3.getInt(r4, r9)
            X.1DT r4 = r6.A00
            X.AnonymousClass3MX.A1J(r4, r5)
        L_0x00d6:
            r5 = 0
            r25 = -1
        L_0x00d9:
            if (r24 == 0) goto L_0x0747
            boolean r4 = r24.isEmpty()
            if (r4 != 0) goto L_0x0747
            java.lang.String r4 = "MediaComposerActivity/onCreate/Start"
            com.whatsapp.util.Log.i((java.lang.String) r4)
            android.content.Intent r6 = r0.getIntent()
            java.lang.String r4 = "extra_status_api_metadata"
            android.os.Parcelable r4 = r6.getParcelableExtra(r4)
            X.77N r4 = (X.AnonymousClass77N) r4
            r0.A0L = r4
            android.content.Intent r6 = r0.getIntent()
            java.lang.String r4 = "status_distribution"
            android.os.Parcelable r6 = r6.getParcelableExtra(r4)
            X.77K r6 = (X.AnonymousClass77K) r6
            r10 = 2
            r7 = 1
            r4 = 1
            if (r6 != 0) goto L_0x0132
            X.00H r6 = r0.A0w
            int r9 = X.AnonymousClass72B.A00(r6)
            if (r9 == r7) goto L_0x0173
            if (r9 == r10) goto L_0x0173
            r6 = 3
            if (r9 == r6) goto L_0x0168
            r9 = 0
        L_0x0113:
            r10 = 0
        L_0x0114:
            X.1Le r6 = r0.A0M
            java.util.ArrayList r11 = r6.A0A()
            X.1Le r6 = r0.A0M
            java.util.ArrayList r12 = r6.A0B()
            X.1Le r6 = r0.A0M
            int r13 = r6.A05()
            X.77K r6 = new X.77K
            r17 = r1
            r14 = r9
            r15 = r10
            r16 = r1
            r10 = r6
            r10.<init>(r11, r12, r13, r14, r15, r16, r17)
        L_0x0132:
            android.content.Intent r10 = r0.getIntent()
            java.lang.String r9 = "is_editing_allowed"
            boolean r36 = r10.getBooleanExtra(r9, r7)
            android.content.Intent r10 = r0.getIntent()
            java.lang.String r9 = "should_finish_task_on_send_or_close"
            boolean r9 = r10.getBooleanExtra(r9, r1)
            r0.A1k = r9
            X.00H r9 = r0.A15
            java.lang.Object r9 = r9.get()
            X.0zA r9 = (X.C19880zA) r9
            boolean r9 = r9.A07()
            if (r9 == 0) goto L_0x01e1
            X.00H r0 = r0.A15
            java.lang.Object r0 = r0.get()
            X.0zA r0 = (X.C19880zA) r0
            r0.A03()
            java.lang.String r0 = "isEnabled"
            java.lang.NullPointerException r0 = X.AnonymousClass000.A0s(r0)
            throw r0
        L_0x0168:
            X.00H r6 = r0.A1K
            X.6zR r6 = X.C108985cd.A0Q(r6)
            boolean r9 = r6.A00
            boolean r10 = r6.A01
            goto L_0x0114
        L_0x0173:
            java.lang.Boolean r10 = java.lang.Boolean.TRUE
            X.1mM r9 = r0.A0v
            java.lang.Integer r6 = X.AnonymousClass00R.A0F
            java.lang.Boolean r6 = r9.A01(r6)
            boolean r9 = r10.equals(r6)
            goto L_0x0113
        L_0x0182:
            int r5 = r3.getInt(r7, r1)
            goto L_0x00c2
        L_0x0188:
            java.lang.String r3 = "uris"
            java.util.ArrayList r24 = r2.getParcelableArrayList(r3)
            java.lang.String r3 = "ids"
            java.io.Serializable r5 = r2.getSerializable(r3)
            java.util.AbstractList r5 = (java.util.AbstractList) r5
            java.lang.String r3 = "position"
            int r25 = r2.getInt(r3)
            X.6q7 r4 = X.C108955ca.A0V(r0)
            java.lang.String r3 = "optimistic_started_sd"
            boolean r3 = r2.getBoolean(r3)
            if (r3 == 0) goto L_0x01b1
            java.util.Set r4 = r4.A01
            java.lang.Integer r3 = java.lang.Integer.valueOf(r1)
            r4.add(r3)
        L_0x01b1:
            X.6q7 r4 = X.C108955ca.A0V(r0)
            java.lang.String r3 = "optimistic_started_hd"
            boolean r3 = r2.getBoolean(r3)
            if (r3 == 0) goto L_0x01c6
            java.util.Set r4 = r4.A01
            java.lang.Integer r3 = X.C17880vN.A0j()
            r4.add(r3)
        L_0x01c6:
            com.whatsapp.mediacomposer.viewmodel.MediaViewOnceViewModel r6 = r0.A0k
            java.lang.String r3 = "view_once"
            int r4 = r2.getInt(r3)
            X.1DT r3 = r6.A00
            X.AnonymousClass3MX.A1J(r3, r4)
            com.whatsapp.mediacomposer.viewmodel.MediaQualityViewModel r3 = r0.A0j
            int r4 = r2.getInt(r7)
            X.1DT r3 = r3.A01
            X.AnonymousClass3MX.A1J(r3, r4)
            r3 = r2
            goto L_0x00d9
        L_0x01e1:
            android.content.Intent r10 = r0.getIntent()
            java.lang.String r9 = "navigateToHomeScreenOnDismiss"
            boolean r9 = r10.getBooleanExtra(r9, r1)
            r0.A1i = r9
            X.1ka r15 = r0.A0T
            X.73D r10 = r0.A1q
            android.content.Intent r11 = r0.getIntent()
            java.lang.String r9 = "send"
            boolean r26 = r11.getBooleanExtra(r9, r7)
            android.content.Intent r11 = r0.getIntent()
            java.lang.String r9 = "smb_quick_reply"
            r11.getBooleanExtra(r9, r1)
            android.content.Intent r11 = r0.getIntent()
            java.lang.String r9 = "should_send_media"
            boolean r27 = r11.getBooleanExtra(r9, r7)
            android.content.Intent r9 = r0.getIntent()
            java.lang.String r7 = "should_hide_caption_view"
            boolean r28 = r9.getBooleanExtra(r7, r1)
            X.0vl r14 = r0.A01
            java.lang.Object r9 = r14.getValue()
            java.util.Collection r9 = (java.util.Collection) r9
            X.00H r7 = r0.A1D
            boolean r7 = X.C108975cc.A1H(r7)
            if (r7 == 0) goto L_0x03cb
            X.1BI r7 = X.C22971Dz.A01(r9)
            if (r7 == 0) goto L_0x03cb
            boolean r7 = X.C22971Dz.A0i(r9)
            if (r7 != 0) goto L_0x03cb
        L_0x0234:
            r29 = 1
        L_0x0236:
            X.6wV r13 = r0.A0h
            X.0ve r12 = r0.A0E
            X.00H r7 = r0.A1D
            X.1Lc r23 = X.C108945cZ.A0v(r7)
            android.content.Intent r9 = r0.getIntent()
            java.lang.String r7 = "show_delete_thumbnail_for_single_media"
            boolean r30 = r9.getBooleanExtra(r7, r1)
            android.content.Intent r9 = r0.getIntent()
            java.lang.String r7 = "set_result_when_last_media_deleted"
            boolean r31 = r9.getBooleanExtra(r7, r1)
            android.content.Intent r9 = r0.getIntent()
            java.lang.String r7 = "disable_converting_video_to_gif_option"
            boolean r32 = r9.getBooleanExtra(r7, r1)
            android.content.Intent r9 = r0.getIntent()
            java.lang.String r7 = "disable_tools_for_newsletter_forward"
            boolean r33 = r9.getBooleanExtra(r7, r1)
            android.content.Intent r9 = r0.getIntent()
            java.lang.String r7 = "is_media_ptv"
            boolean r34 = r9.getBooleanExtra(r7, r1)
            android.content.Intent r7 = r0.getIntent()
            java.lang.String r1 = "captured_with_old_camera_controller"
            boolean r35 = r7.getBooleanExtra(r1, r4)
            X.6kY r22 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r0)
            com.whatsapp.mediacomposer.viewmodel.MediaViewOnceViewModel r11 = r0.A0k
            android.content.Intent r9 = r0.getIntent()
            java.lang.String r1 = "auto_play_video"
            r7 = 0
            boolean r37 = r9.getBooleanExtra(r1, r7)
            r1 = 0
            X.7JS r9 = new X.7JS
            r19 = r15
            r20 = r13
            r21 = r11
            r18 = r10
            r17 = r12
            r16 = r6
            r15 = r9
            r15.<init>(r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r31, r32, r33, r34, r35, r36, r37)
            r0.A0X = r9
            boolean r6 = r9.A0I()
            if (r6 == 0) goto L_0x02cb
            X.0vl r11 = r0.A08
            X.5iM r6 = X.C108945cZ.A0n(r11)
            X.1DS r9 = r6.A03
            r6 = 35
            X.AnonymousClass7AO.A00(r0, r9, r6)
            X.5iM r6 = X.C108945cZ.A0n(r11)
            X.1DS r9 = r6.A00
            r6 = 36
            X.AnonymousClass7AO.A00(r0, r9, r6)
            X.5iM r6 = X.C108945cZ.A0n(r11)
            X.1DS r9 = r6.A04
            r6 = 37
            X.AnonymousClass7AO.A00(r0, r9, r6)
        L_0x02cb:
            com.whatsapp.mediacomposer.viewmodel.MediaViewOnceViewModel r6 = r0.A0k
            r6.A0V()
            com.whatsapp.mediacomposer.viewmodel.MediaViewOnceViewModel r11 = r0.A0k
            r6 = 42
            X.7AO r9 = new X.7AO
            r9.<init>(r0, r6)
            X.1DT r6 = r11.A00
            X.1Dg r6 = X.C22791Df.A00(r6)
            r6.A0A(r0, r9)
            X.7JS r11 = r0.A0X
            r6 = 32
            X.7AO r9 = new X.7AO
            r9.<init>(r0, r6)
            X.1DT r6 = r11.A06
            r6.A0A(r0, r9)
            X.6q7 r11 = X.C108955ca.A0V(r0)
            android.content.Intent r9 = r0.getIntent()
            java.lang.String r6 = "smb_send_product"
            boolean r12 = r9.getBooleanExtra(r6, r7)
            X.6kY r9 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r0)
            X.6wV r7 = r0.A0h
            X.7JS r6 = r0.A0X
            X.0vl r6 = r6.A0E
            boolean r6 = X.C72453Mb.A1a(r6)
            r11.A01(r7, r9, r12, r6)
            X.6wV r6 = r0.A0h
            X.6xe r9 = X.C138086wV.A02
            int r6 = r6.A00
            boolean r6 = r9.A01(r6)
            if (r6 == 0) goto L_0x032a
            X.0vl r6 = r0.A09
            java.lang.Object r6 = r6.getValue()
            com.whatsapp.mediacomposer.viewmodel.StickerComposerViewModel r6 = (com.whatsapp.mediacomposer.viewmodel.StickerComposerViewModel) r6
            X.1DT r7 = r6.A03
            r6 = 38
            X.AnonymousClass7AO.A00(r0, r7, r6)
        L_0x032a:
            X.00H r6 = r0.A1D
            X.1Lc r6 = X.C108945cZ.A0v(r6)
            boolean r6 = r6.A03()
            if (r6 == 0) goto L_0x033f
            X.7JS r6 = r0.A0X
            X.1DS r7 = r6.A02
            r6 = 31
            X.AnonymousClass7AO.A00(r0, r7, r6)
        L_0x033f:
            if (r3 == 0) goto L_0x0362
            r10.A05(r3)
            X.0ve r7 = r0.A0E
            r6 = 11113(0x2b69, float:1.5573E-41)
            X.0vf r3 = X.C18040vf.A02
            boolean r3 = X.C18020vd.A05(r3, r7, r6)
            if (r3 == 0) goto L_0x0362
            java.util.ArrayList r3 = r10.A04()
            java.util.ArrayList r7 = X.C17880vN.A10(r3)
            X.10I r6 = r0.A05
            X.3By r3 = new X.3By
            r3.<init>(r0, r7, r4)
            r6.CGF(r3)
        L_0x0362:
            int r15 = X.AnonymousClass7JS.A01(r0)
            java.lang.StringBuilder r6 = X.AnonymousClass000.A10()
            java.lang.String r3 = "MediaComposerActivity/onCreate/Elements = "
            X.C17900vP.A0j(r3, r6, r15)
            android.content.Intent r6 = r0.getIntent()
            java.lang.String r3 = "first_caption"
            java.lang.String r13 = r6.getStringExtra(r3)
            android.content.Intent r6 = r0.getIntent()
            java.lang.String r3 = "android.intent.extra.TEXT"
            java.lang.String r12 = r6.getStringExtra(r3)
            r11 = 0
        L_0x0384:
            if (r11 >= r15) goto L_0x03db
            java.util.List r3 = X.AnonymousClass7JS.A03(r0)
            java.lang.Object r3 = r3.get(r11)
            android.net.Uri r3 = (android.net.Uri) r3
            X.72S r7 = r10.A02(r3)
            boolean r6 = android.text.TextUtils.isEmpty(r12)
            if (r6 != 0) goto L_0x039d
            r7.A0P(r12)
        L_0x039d:
            java.lang.String r6 = "caption"
            java.lang.String r6 = r3.getQueryParameter(r6)
            boolean r16 = android.text.TextUtils.isEmpty(r6)
            if (r16 != 0) goto L_0x03ac
            r7.A0P(r6)
        L_0x03ac:
            if (r11 != 0) goto L_0x03b3
            if (r13 == 0) goto L_0x03b3
            r7.A0P(r13)
        L_0x03b3:
            if (r5 != 0) goto L_0x03c2
            long r6 = (long) r11
        L_0x03b6:
            java.lang.Long r7 = java.lang.Long.valueOf(r6)
            java.util.HashMap r6 = r0.A1w
            r6.put(r3, r7)
            int r11 = r11 + 1
            goto L_0x0384
        L_0x03c2:
            java.lang.Object r6 = r5.get(r11)
            long r6 = X.C17880vN.A05(r6)
            goto L_0x03b6
        L_0x03cb:
            X.6kY r7 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r0)
            X.0vl r7 = r7.A0H
            boolean r7 = X.C72453Mb.A1a(r7)
            r29 = 0
            if (r7 == 0) goto L_0x0236
            goto L_0x0234
        L_0x03db:
            X.AnonymousClass6VM.A00(r8, r1)
            android.view.View r5 = r8.getDecorView()
            X.Cow r3 = new X.Cow
            r3.<init>(r5, r8)
            X.6Ur r3 = r3.A00
            r3.A00()
            r3.A02(r4)
            X.0ve r6 = r0.A0E
            X.0vf r5 = X.C18040vf.A01
            r3 = 5976(0x1758, float:8.374E-42)
            boolean r3 = X.C18020vd.A05(r5, r6, r3)
            if (r3 == 0) goto L_0x0593
            r3 = 2131625958(0x7f0e07e6, float:1.8879139E38)
            r0.setContentView((int) r3)
            r3 = 2131430732(0x7f0b0d4c, float:1.8483173E38)
            android.view.View r3 = r0.findViewById(r3)
            androidx.coordinatorlayout.widget.CoordinatorLayout r3 = (androidx.coordinatorlayout.widget.CoordinatorLayout) r3
            r0.A06 = r3
        L_0x040c:
            X.7JS r12 = r0.A0X
            java.lang.Integer r7 = com.whatsapp.mediacomposer.viewmodel.MediaQualityViewModel.A03(r0)
            X.0ve r5 = r12.A07
            r3 = 8033(0x1f61, float:1.1257E-41)
            X.0vf r11 = X.C18040vf.A02
            boolean r3 = X.C18020vd.A05(r11, r5, r3)
            if (r3 == 0) goto L_0x042d
            X.6rz r3 = r12.A00
            if (r3 == 0) goto L_0x058b
            java.lang.Long r6 = r3.A02
            java.lang.Boolean r3 = r3.A00
            X.6rz r5 = new X.6rz
            r5.<init>(r3, r7, r6)
        L_0x042b:
            r12.A00 = r5
        L_0x042d:
            com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel r6 = r0.A0i
            r3 = 33
            X.7AO r5 = new X.7AO
            r5.<init>(r0, r3)
            X.1DT r3 = r6.A00
            r3.A0A(r0, r5)
            X.7JS r6 = r0.A0X
            r3 = 34
            X.7AO r5 = new X.7AO
            r5.<init>(r0, r3)
            X.1DT r3 = r6.A05
            r3.A0A(r0, r5)
            X.7JS r3 = r0.A0X
            X.6wV r3 = r3.A0A
            int r5 = r3.A00
            r3 = 35
            if (r5 != r3) goto L_0x046e
            X.1ka r5 = r0.A0T
            X.72S r3 = A0c(r0)
            int r5 = X.AnonymousClass72S.A00(r3, r5)
            r3 = 13
            if (r5 == r3) goto L_0x0584
            r3 = 3
            if (r5 == r3) goto L_0x0584
            X.6uj r3 = X.C108955ca.A0U(r0)
            r5 = 0
        L_0x0469:
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView r3 = r3.A0I
            r3.setMediaToolsVisibility(r5)
        L_0x046e:
            int r3 = X.C108975cc.A03(r0)
            r0.A00 = r3
            X.1Lp r12 = r0.A0F
            X.11C r6 = r0.A08
            android.os.Handler r7 = r0.A1y
            java.lang.String r5 = "image-loader-media-composer"
            X.6tN r3 = new X.6tN
            r3.<init>(r7, r12, r6, r5)
            r0.A0R = r3
            X.6kU r3 = new X.6kU
            r3.<init>(r0, r0)
            r0.A0Y = r3
            r3 = 2131432380(0x7f0b13bc, float:1.8486516E38)
            android.view.View r5 = r0.findViewById(r3)
            X.11C r3 = r0.A08
            X.C39761tb.A00(r5, r8, r3)
            r3 = 2131434044(0x7f0b1a3c, float:1.848989E38)
            android.view.View r6 = r0.findViewById(r3)
            r0.A03 = r6
            int r3 = r6.getPaddingBottom()
            r6.setPadding(r1, r1, r1, r3)
            X.AnonymousClass1L9.A04(r8)
            r3 = 2131434046(0x7f0b1a3e, float:1.8489895E38)
            android.view.View r3 = r0.findViewById(r3)
            android.widget.FrameLayout r3 = (android.widget.FrameLayout) r3
            r0.A05 = r3
            X.7JS r3 = r0.A0X
            X.0vl r3 = r3.A0E
            boolean r3 = X.C72453Mb.A1a(r3)
            r12 = -1
            if (r3 == 0) goto L_0x056c
            r0.A02 = r12
        L_0x04c1:
            r0.A1a = r12
            androidx.coordinatorlayout.widget.CoordinatorLayout r3 = r0.A06
            if (r3 == 0) goto L_0x04cf
            r3.setFitsSystemWindows(r1)
            androidx.coordinatorlayout.widget.CoordinatorLayout r3 = r0.A06
            r3.invalidate()
        L_0x04cf:
            android.view.View r3 = r0.A03
            r3.setFitsSystemWindows(r1)
            android.view.View r3 = r0.A03
            r3.invalidate()
            r0.A0t()
            r3 = 2131433401(0x7f0b17b9, float:1.8488587E38)
            android.view.View r12 = r0.findViewById(r3)
            com.whatsapp.gallerypicker.PhotoViewPager r12 = (com.whatsapp.gallerypicker.PhotoViewPager) r12
            r0.A0S = r12
            float r6 = X.C72463Mc.A00(r0)
            r3 = 1094713344(0x41400000, float:12.0)
            float r6 = r6 * r3
            int r3 = (int) r6
            r12.setPageMargin(r3)
            com.whatsapp.gallerypicker.PhotoViewPager r6 = r0.A0S
            r3 = 0
            r6.A0L(r3, r1)
            com.whatsapp.gallerypicker.PhotoViewPager r6 = r0.A0S
            X.7Hj r3 = new X.7Hj
            r3.<init>(r0, r1)
            r6.A00 = r3
            r6.setFocusable(r1)
            com.whatsapp.gallerypicker.PhotoViewPager r6 = r0.A0S
            X.6wV r3 = r0.A0h
            int r3 = r3.A00
            boolean r3 = r9.A01(r3)
            r3 = r3 ^ 1
            r6.setScrollEnabled(r3)
            r3 = 2131434049(0x7f0b1a41, float:1.84899E38)
            android.widget.ImageView r6 = X.AnonymousClass3MX.A0I(r0, r3)
            X.7JS r3 = r0.A0X
            X.0vl r3 = r3.A0E
            boolean r3 = X.C72453Mb.A1a(r3)
            if (r3 == 0) goto L_0x0537
            android.view.ViewGroup$LayoutParams r12 = r6.getLayoutParams()
            X.1sZ r12 = (X.C39151sZ) r12
            java.lang.String r3 = "9:16"
            r12.A0t = r3
            android.view.ViewGroup$LayoutParams r12 = r6.getLayoutParams()
            X.1sZ r12 = (X.C39151sZ) r12
            r3 = 0
            r12.A08 = r3
        L_0x0537:
            X.7JS r3 = r0.A0X
            X.0vl r3 = r3.A0E
            boolean r3 = X.C72453Mb.A1a(r3)
            if (r3 == 0) goto L_0x0550
            r3 = 1090519040(0x41000000, float:8.0)
            int r15 = X.C62762rw.A01(r0, r3)
            android.graphics.Matrix$ScaleToFit r13 = android.graphics.Matrix.ScaleToFit.CENTER
            r12 = 720(0x2d0, float:1.009E-42)
            r3 = 1280(0x500, float:1.794E-42)
            X.AnonymousClass4aO.A01(r13, r6, r12, r3, r15)
        L_0x0550:
            r0.A1c = r6
            X.00H r3 = r0.A1D
            X.0ve r12 = X.C108955ca.A0R(r3)
            r3 = 10496(0x2900, float:1.4708E-41)
            boolean r3 = X.C18020vd.A05(r11, r12, r3)
            if (r3 == 0) goto L_0x05b1
            X.177 r3 = r0.A0f
            X.6c6 r12 = new X.6c6
            r12.<init>(r0)
            android.content.Context r11 = X.C72483Me.A0A(r3)
            goto L_0x059b
        L_0x056c:
            android.content.Intent r6 = r0.getIntent()
            java.lang.String r3 = "preview_top_margin"
            int r3 = r6.getIntExtra(r3, r12)
            r0.A02 = r3
            android.content.Intent r6 = r0.getIntent()
            java.lang.String r3 = "preview_bottom_margin"
            int r12 = r6.getIntExtra(r3, r12)
            goto L_0x04c1
        L_0x0584:
            X.6uj r3 = X.C108955ca.A0U(r0)
            r5 = 4
            goto L_0x0469
        L_0x058b:
            r3 = 0
            X.6rz r5 = new X.6rz
            r5.<init>(r3, r7, r3)
            goto L_0x042b
        L_0x0593:
            r3 = 2131625953(0x7f0e07e1, float:1.8879129E38)
            r0.setContentView((int) r3)
            goto L_0x040c
        L_0x059b:
            X.6eN r3 = new X.6eN     // Catch:{ all -> 0x05a1 }
            r3.<init>(r6, r12)     // Catch:{ all -> 0x05a1 }
            goto L_0x05a9
        L_0x05a1:
            r0 = move-exception
            X.AnonymousClass12Q.A04()
            X.AnonymousClass114.A02(r11)
            throw r0
        L_0x05a9:
            X.AnonymousClass12Q.A04()
            X.AnonymousClass114.A02(r11)
            r0.A0e = r3
        L_0x05b1:
            r3 = 2131434050(0x7f0b1a42, float:1.8489903E38)
            android.view.View r3 = r0.findViewById(r3)
            r0.A04 = r3
            X.7A0 r3 = new X.7A0
            r3.<init>(r5, r0, r4)
            X.AnonymousClass1HF.A0g(r5, r3)
            android.net.Uri r12 = r0.BN2()
            boolean r3 = X.AnonymousClass745.A00
            if (r3 == 0) goto L_0x0624
            if (r12 == 0) goto L_0x0624
            X.1Lp r3 = r0.A0F
            X.1ga r11 = r3.A05()
            java.lang.StringBuilder r5 = X.C17890vO.A0f(r12)
            java.lang.String r3 = "-media_view"
            java.lang.String r3 = X.AnonymousClass000.A0y(r3, r5)
            java.lang.Object r3 = r11.A0A(r3)
            android.graphics.Bitmap r3 = (android.graphics.Bitmap) r3
            r0.A1b = r3
            if (r3 != 0) goto L_0x0600
            X.1Lp r3 = r0.A0F
            X.1ga r11 = r3.A05()
            java.lang.StringBuilder r5 = X.C17890vO.A0f(r12)
            java.lang.String r3 = "-gallery_thumb"
            java.lang.String r3 = X.AnonymousClass000.A0y(r3, r5)
            java.lang.Object r3 = r11.A0A(r3)
            android.graphics.Bitmap r3 = (android.graphics.Bitmap) r3
            r0.A1b = r3
            if (r3 == 0) goto L_0x0624
        L_0x0600:
            java.lang.String r3 = r12.toString()
            X.AnonymousClass1Xr.A04(r6, r3)
            android.graphics.Bitmap r3 = r0.A1b
            r6.setImageBitmap(r3)
            if (r39 != 0) goto L_0x0615
            android.view.View r3 = r0.A04
            if (r3 == 0) goto L_0x0615
            r3.setVisibility(r1)
        L_0x0615:
            r0.A2Y()
            r5 = 49
            X.7Qr r3 = new X.7Qr
            r3.<init>(r0, r8, r5)
            r5 = 2000(0x7d0, double:9.88E-321)
            r7.postDelayed(r3, r5)
        L_0x0624:
            android.content.Intent r5 = r0.getIntent()
            java.lang.String r3 = "scan_for_qr"
            boolean r3 = r5.getBooleanExtra(r3, r1)
            r0.A1j = r3
            r3 = 2131434180(0x7f0b1ac4, float:1.8490167E38)
            android.view.View r3 = X.C110885hR.A0A(r0, r3)
            com.google.android.material.progressindicator.CircularProgressIndicator r3 = (com.google.android.material.progressindicator.CircularProgressIndicator) r3
            r0.A0A = r3
            r6 = 0
            r3.setVisibility(r1)
            X.6wV r3 = r0.A0h
            int r3 = r3.A00
            boolean r3 = r9.A01(r3)
            com.google.android.material.progressindicator.CircularProgressIndicator r5 = r0.A0A
            if (r3 == 0) goto L_0x0744
            r3 = 100
            r5.setMax(r3)
            com.google.android.material.progressindicator.CircularProgressIndicator r3 = r0.A0A
            r3.setProgress(r1)
            com.google.android.material.progressindicator.CircularProgressIndicator r5 = r0.A0A
        L_0x0657:
            r5.setIndeterminate(r6)
            X.10I r11 = r0.A05
            X.0ve r9 = r0.A0E
            X.1Sl r8 = r0.A0u
            X.1ka r7 = r0.A0T
            X.0vc r6 = r0.A0n
            X.11C r5 = r0.A08
            X.00H r3 = r0.A1G
            X.6yY r15 = new X.6yY
            r19 = r7
            r20 = r6
            r21 = r8
            r22 = r11
            r23 = r3
            r17 = r9
            r16 = r5
            r15.<init>(r16, r17, r18, r19, r20, r21, r22, r23)
            java.util.List r3 = X.AnonymousClass7JS.A03(r0)
            X.1wy r5 = r15.A01(r0, r3)
            r0.A07 = r5
            r3 = 41
            X.AnonymousClass7AO.A00(r0, r5, r3)
            java.util.List r5 = X.AnonymousClass3MW.A11(r14)
            int r3 = r5.size()
            if (r3 > r4) goto L_0x06a6
            int r3 = r5.size()
            if (r3 != r4) goto L_0x06ab
            java.lang.Object r3 = r5.get(r1)
            com.whatsapp.jid.Jid r3 = (com.whatsapp.jid.Jid) r3
            boolean r3 = X.C22971Dz.A0d(r3)
            if (r3 != 0) goto L_0x06ab
        L_0x06a6:
            X.1hJ r3 = r0.A0m
            r3.A01(r5)
        L_0x06ab:
            android.view.View r4 = r0.A00
            X.1KB r3 = r0.A05
            r0.A39(r4, r3)
            X.1hg r3 = r0.A0s
            X.2nU r4 = X.C108985cd.A0X(r3)
            java.lang.String r3 = "see_status_editor"
            r4.A04(r3)
            android.content.Intent r4 = r0.getIntent()
            java.lang.String r3 = "camera_capture_direction"
            int r11 = r4.getIntExtra(r3, r1)
            android.content.Intent r4 = r0.getIntent()
            java.lang.String r3 = "recording_stopped_automatic"
            boolean r10 = r4.getBooleanExtra(r3, r1)
            android.content.Intent r4 = r0.getIntent()
            java.lang.String r3 = "camera_ready_time"
            long r6 = X.C108975cc.A05(r4, r3)
            android.content.Intent r4 = r0.getIntent()
            java.lang.String r3 = "camera_switch_count"
            long r4 = X.C108975cc.A06(r4, r3)
            X.7JS r9 = r0.A0X
            boolean r3 = r9.A0I
            if (r3 == 0) goto L_0x06fe
            X.6tV r8 = new X.6tV
            r8.<init>()
            r0.A0o = r8
            if (r11 != 0) goto L_0x0741
            java.lang.Integer r3 = X.AnonymousClass00R.A00
        L_0x06f6:
            r8.A04 = r3
            r8.A05 = r10
            r8.A00 = r6
            r8.A01 = r4
        L_0x06fe:
            boolean r3 = r9.A0J
            if (r3 != 0) goto L_0x070d
            X.6uj r3 = X.C108955ca.A0U(r0)
            r4 = 8
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView r3 = r3.A0I
            r3.setMediaToolsVisibility(r4)
        L_0x070d:
            android.content.Intent r4 = r0.getIntent()
            java.lang.String r3 = "standalone_add_button_provider_key"
            java.lang.String r4 = r4.getStringExtra(r3)
            if (r4 == 0) goto L_0x072c
            X.00H r3 = r0.A1B
            java.lang.Object r3 = r3.get()
            java.util.Map r3 = (java.util.Map) r3
            java.lang.Object r3 = r3.get(r4)
            X.0vp r3 = (X.C18140vp) r3
            if (r3 == 0) goto L_0x072c
            r3.get()
        L_0x072c:
            android.content.Intent r4 = r0.getIntent()
            java.lang.String r3 = "trigger_template_tool_on_open"
            boolean r1 = r4.getBooleanExtra(r3, r1)
            if (r39 != 0) goto L_0x074a
            if (r1 == 0) goto L_0x074a
            java.util.concurrent.atomic.AtomicInteger r1 = r0.A1z
            r0 = 6
            r1.set(r0)
            return
        L_0x0741:
            java.lang.Integer r3 = X.AnonymousClass00R.A01
            goto L_0x06f6
        L_0x0744:
            r6 = 1
            goto L_0x0657
        L_0x0747:
            r0.finish()
        L_0x074a:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.onCreate(android.os.Bundle):void");
    }

    /* JADX WARNING: Code restructure failed: missing block: B:7:0x001c, code lost:
        if (X.C18020vd.A05(X.C18040vf.A02, r6.A0E, 8124) != false) goto L_0x001e;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void onDestroy() {
        /*
            r6 = this;
            boolean r0 = r6.A1Z
            if (r0 != 0) goto L_0x001e
            int r1 = r6.BUd()
            r0 = 1
            if (r1 == r0) goto L_0x0012
            int r1 = r6.BUd()
            r0 = 2
            if (r1 != r0) goto L_0x0028
        L_0x0012:
            X.0ve r2 = r6.A0E
            r1 = 8124(0x1fbc, float:1.1384E-41)
            X.0vf r0 = X.C18040vf.A02
            boolean r0 = X.C18020vd.A05(r0, r2, r1)
            if (r0 == 0) goto L_0x0028
        L_0x001e:
            android.os.Handler r0 = r6.A1o
            r5 = 0
            r0.removeCallbacksAndMessages(r5)
            X.0vq r1 = r6.A1s
            monitor-enter(r1)
            goto L_0x0038
        L_0x0028:
            X.6q7 r0 = X.C108955ca.A0V(r6)
            X.00H r0 = r0.A0A
            java.lang.Object r0 = r0.get()
            X.2iz r0 = (X.C57382iz) r0
            r0.A00()
            goto L_0x001e
        L_0x0038:
            java.lang.Object r0 = r1.A02     // Catch:{ all -> 0x011b }
            monitor-exit(r1)     // Catch:{ all -> 0x011b }
            if (r0 == 0) goto L_0x0052
            java.lang.Object r0 = r1.get()
            X.6uj r0 = (X.C136986uj) r0
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView r2 = r0.A0I
            java.lang.Runnable r1 = r2.A0c
            if (r1 == 0) goto L_0x0050
            X.10I r0 = r2.getWaWorkers()
            r0.CEz(r1)
        L_0x0050:
            r2.A0c = r5
        L_0x0052:
            r4 = 0
        L_0x0053:
            com.whatsapp.gallerypicker.PhotoViewPager r0 = r6.A0S
            int r0 = r0.getChildCount()
            if (r4 >= r0) goto L_0x0082
            com.whatsapp.gallerypicker.PhotoViewPager r0 = r6.A0S
            android.view.View r3 = r0.getChildAt(r4)
            boolean r0 = r3 instanceof android.widget.FrameLayout
            if (r0 == 0) goto L_0x007f
            r2 = 0
        L_0x0066:
            r1 = r3
            android.view.ViewGroup r1 = (android.view.ViewGroup) r1
            int r0 = r1.getChildCount()
            if (r2 >= r0) goto L_0x007f
            android.view.View r1 = r1.getChildAt(r2)
            boolean r0 = r1 instanceof com.whatsapp.mediaview.PhotoView
            if (r0 == 0) goto L_0x007c
            com.whatsapp.mediaview.PhotoView r1 = (com.whatsapp.mediaview.PhotoView) r1
            r1.A09()
        L_0x007c:
            int r2 = r2 + 1
            goto L_0x0066
        L_0x007f:
            int r4 = r4 + 1
            goto L_0x0053
        L_0x0082:
            int r0 = r6.A01
            r1 = -1
            if (r0 == r1) goto L_0x008f
            X.7JS r0 = r6.A0X
            boolean r0 = r0.A0H()
            if (r0 == 0) goto L_0x009a
        L_0x008f:
            X.1Lp r0 = r6.A0F
            X.1ga r0 = r0.A05()
            X.1N0 r0 = r0.A02
            r0.A07(r1)
        L_0x009a:
            X.10I r2 = r6.A05
            X.1cr r1 = r6.A0H
            r1.getClass()
            r0 = 37
            X.C98834rn.A01(r2, r1, r0)
            super.onDestroy()
            X.6MT r1 = r6.A0p
            if (r1 == 0) goto L_0x00b3
            r0 = 1
            r1.A0B(r0)
            r6.A0p = r5
        L_0x00b3:
            X.7JN r0 = r6.A0a
            if (r0 == 0) goto L_0x00de
            X.7J3 r0 = r0.A0B
            X.5l1 r4 = r0.A09
            java.util.Set r3 = r4.A0J
            java.util.Iterator r2 = r3.iterator()
        L_0x00c1:
            boolean r0 = r2.hasNext()
            if (r0 == 0) goto L_0x00d9
            java.lang.Object r1 = r2.next()
            X.7Ha r1 = (X.C144367Ha) r1
            X.6tN r0 = r4.A0A
            r0.A01(r1)
            java.util.concurrent.atomic.AtomicBoolean r1 = r1.A0D
            r0 = 1
            r1.set(r0)
            goto L_0x00c1
        L_0x00d9:
            r3.clear()
            r6.A0a = r5
        L_0x00de:
            X.6tN r0 = r6.A0R
            if (r0 == 0) goto L_0x00e7
            r0.A00()
            r6.A0R = r5
        L_0x00e7:
            X.7IT r1 = r6.A0g
            monitor-enter(r1)
            java.util.Map r0 = r1.A01     // Catch:{ all -> 0x0118 }
            r0.clear()     // Catch:{ all -> 0x0118 }
            monitor-exit(r1)
            X.00H r0 = r6.A15
            java.lang.Object r0 = r0.get()
            X.0zA r0 = (X.C19880zA) r0
            boolean r0 = r0.A07()
            if (r0 == 0) goto L_0x0110
            X.00H r0 = r6.A15
            java.lang.Object r0 = r0.get()
            X.0zA r0 = (X.C19880zA) r0
            r0.A03()
            java.lang.String r0 = "clearCache"
            java.lang.NullPointerException r0 = X.AnonymousClass000.A0s(r0)
            throw r0
        L_0x0110:
            X.1KB r1 = r6.A05
            java.lang.Runnable r0 = r6.A1u
            r1.A0I(r0)
            return
        L_0x0118:
            r0 = move-exception
            monitor-exit(r1)
            throw r0
        L_0x011b:
            r0 = move-exception
            monitor-exit(r1)     // Catch:{ all -> 0x011b }
            throw r0
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.onDestroy():void");
    }

    /* JADX WARNING: Code restructure failed: missing block: B:22:0x01c5, code lost:
        r7 = A0c(r10);
     */
    /* JADX WARNING: Code restructure failed: missing block: B:30:0x0218, code lost:
        if (X.C18020vd.A05(X.C18040vf.A02, r10.A0E, 5643) == false) goto L_0x021a;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:36:0x023f, code lost:
        if (r1.A0A.A01 == false) goto L_0x0248;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:8:0x010a, code lost:
        if (X.C72453Mb.A1a(com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r10).A09) != false) goto L_0x010c;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:96:0x03b8, code lost:
        if (r5 != 0) goto L_0x03ba;
     */
    /* JADX WARNING: Removed duplicated region for block: B:124:? A[RETURN, SYNTHETIC] */
    /* JADX WARNING: Removed duplicated region for block: B:33:0x0233  */
    /* JADX WARNING: Removed duplicated region for block: B:40:0x024e  */
    /* JADX WARNING: Removed duplicated region for block: B:43:0x0257  */
    /* JADX WARNING: Removed duplicated region for block: B:46:0x0280  */
    /* JADX WARNING: Removed duplicated region for block: B:49:0x029f  */
    /* JADX WARNING: Removed duplicated region for block: B:70:0x0327  */
    /* JADX WARNING: Removed duplicated region for block: B:79:0x035a  */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void onStart() {
        /*
            r33 = this;
            r10 = r33
            super.onStart()
            X.7JN r0 = r10.A0a
            if (r0 != 0) goto L_0x02ad
            android.view.View r1 = r10.A00
            r0 = 2131428318(0x7f0b03de, float:1.8478277E38)
            android.view.View r12 = X.AnonymousClass1HF.A06(r1, r0)
            com.whatsapp.mediacomposer.bottombar.BottomBarView r12 = (com.whatsapp.mediacomposer.bottombar.BottomBarView) r12
            X.1GP r1 = r10.getSupportFragmentManager()
            r0 = 2131428837(0x7f0b05e5, float:1.847933E38)
            androidx.fragment.app.Fragment r11 = r1.A0O(r0)
            com.whatsapp.mediacomposer.ui.caption.CaptionFragment r11 = (com.whatsapp.mediacomposer.ui.caption.CaptionFragment) r11
            r0 = 2131432424(0x7f0b13e8, float:1.8486605E38)
            android.view.ViewStub r3 = X.AnonymousClass3MW.A0E(r12, r0)
            X.6m3 r2 = r10.A0d
            X.00H r0 = r10.A1t
            java.lang.Object r1 = r0.get()
            X.6Qq r1 = (X.C122506Qq) r1
            X.7JS r0 = r10.A0X
            X.0vl r0 = r0.A0E
            boolean r0 = X.C72453Mb.A1a(r0)
            X.8AQ r0 = r2.A00(r3, r1, r0)
            r10.A0c = r0
            r0 = 2131430858(0x7f0b0dca, float:1.8483429E38)
            android.view.View r0 = X.AnonymousClass1HF.A06(r12, r0)
            com.whatsapp.mediacomposer.bottombar.filterswipe.FilterSwipeView r0 = (com.whatsapp.mediacomposer.bottombar.filterswipe.FilterSwipeView) r0
            X.6eM r9 = new X.6eM
            r9.<init>(r0)
            r0 = 2131436138(0x7f0b226a, float:1.8494138E38)
            androidx.recyclerview.widget.RecyclerView r16 = X.C108945cZ.A0U(r12, r0)
            com.whatsapp.gallerypicker.PhotoViewPager r0 = r10.A0S
            r20 = r0
            X.1KW r0 = r10.A0D
            r21 = r0
            X.1Sl r0 = r10.A0u
            r19 = r0
            X.1ka r0 = r10.A0T
            r17 = r0
            X.6kU r15 = r10.A0Y
            X.6tN r14 = r10.A0R
            X.0vb r13 = r10.A0K
            X.0ve r8 = r10.A0E
            X.73D r7 = r10.A1q
            X.7JS r6 = r10.A0X
            java.util.HashSet r5 = r10.A1x
            X.1Lp r0 = r10.A0F
            X.1ga r18 = r0.A02()
            X.1Sw r4 = r10.A0t
            X.2E5 r3 = r10.A0N
            X.1Nq r2 = r10.A0U
            X.1T1 r1 = r10.A0E
            X.7J3 r0 = new X.7J3
            r28 = r6
            r29 = r15
            r30 = r4
            r31 = r19
            r32 = r5
            r22 = r8
            r23 = r7
            r24 = r14
            r25 = r20
            r26 = r17
            r27 = r2
            r17 = r1
            r19 = r13
            r20 = r3
            r15 = r0
            r15.<init>(r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r31, r32)
            X.6wV r1 = r10.A0h
            boolean r1 = X.C138766xe.A00(r1)
            if (r1 != 0) goto L_0x00b3
            X.5l1 r2 = r0.A09
            r1 = 1
            r2.A00 = r1
            r2.notifyDataSetChanged()
        L_0x00b3:
            X.6ZN r3 = r10.A0B
            r1 = 2131435142(0x7f0b1e86, float:1.8492118E38)
            android.view.View r2 = X.AnonymousClass1HF.A06(r12, r1)
            com.whatsapp.WaImageButton r2 = (com.whatsapp.WaImageButton) r2
            X.1K2 r1 = r3.A00
            X.10E r1 = r1.A01
            X.0vb r1 = X.AnonymousClass10E.A6R(r1)
            X.6rx r13 = new X.6rx
            r13.<init>(r2, r1)
            X.0ve r8 = r10.A0E
            X.7JS r7 = r10.A0X
            X.8AQ r6 = r10.A0c
            X.6kY r24 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r10)
            X.0z4 r5 = r10.A0A
            X.11P r4 = r10.A05
            com.whatsapp.mediacomposer.viewmodel.MediaViewOnceViewModel r2 = r10.A0k
            X.0vb r1 = r10.A0K
            X.7JN r3 = new X.7JN
            r17 = r12
            r18 = r9
            r19 = r6
            r20 = r13
            r21 = r0
            r22 = r11
            r23 = r2
            r11 = r3
            r12 = r4
            r13 = r5
            r14 = r1
            r15 = r8
            r16 = r7
            r11.<init>(r12, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24)
            r10.A0a = r3
            X.206 r0 = A0q(r10)
            if (r0 != 0) goto L_0x010c
            X.6kY r0 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r10)
            X.0vl r0 = r0.A09
            boolean r0 = X.C72453Mb.A1a(r0)
            r4 = 1
            if (r0 == 0) goto L_0x010d
        L_0x010c:
            r4 = 0
        L_0x010d:
            r3.A00 = r10
            r3.A01 = r10
            com.whatsapp.mediacomposer.ui.caption.CaptionFragment r1 = r3.A0C
            com.whatsapp.mediacomposer.ui.caption.CaptionView r0 = r1.A26()
            r0.A03 = r3
            com.whatsapp.mediacomposer.ui.caption.CaptionView r0 = r1.A26()
            com.whatsapp.mentions.MentionableEntry r2 = r0.A0B
            r0 = 11
            X.AnonymousClass3Ma.A1D(r2, r3, r0)
            r1 = 21
            X.4du r0 = new X.4du
            r0.<init>((java.lang.Object) r3, (int) r1)
            r2.setOnTouchListener(r0)
            X.7J3 r0 = r3.A0B
            r0.A02 = r3
            r0.A03 = r10
            X.6rx r0 = r3.A0A
            com.whatsapp.WaImageButton r1 = r0.A01
            r0 = 9
            X.AnonymousClass3Ma.A1D(r1, r3, r0)
            com.whatsapp.mediacomposer.bottombar.BottomBarView r2 = r3.A07
            r1 = 13
            X.6LF r0 = new X.6LF
            r0.<init>(r3, r10, r1)
            r2.setAddStandaloneButtonClick(r0)
            if (r4 == 0) goto L_0x0150
            X.8AQ r0 = r3.A09
            r0.CKK(r3)
        L_0x0150:
            X.206 r0 = A0q(r10)
            if (r0 != 0) goto L_0x03c0
            X.6kY r0 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r10)
            X.0vl r0 = r0.A09
            boolean r0 = X.C72453Mb.A1a(r0)
            if (r0 != 0) goto L_0x03c0
        L_0x0162:
            A17(r10)
            X.6kY r0 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r10)
            java.util.List r1 = r0.A05
            boolean r0 = r1.isEmpty()
            r4 = 0
            if (r0 != 0) goto L_0x03bd
            X.1BI r1 = X.C108945cZ.A0i(r1, r4)
        L_0x0176:
            com.whatsapp.mediacomposer.ui.caption.CaptionView r0 = X.AnonymousClass7JN.A00(r10)
            com.whatsapp.mentions.MentionableEntry r5 = r0.A0B
            r5.A0B = r1
            android.content.Context r1 = r5.getContext()
            android.content.Context r0 = r5.getContext()
            int r0 = X.C72463Mc.A02(r0)
            int r0 = X.C19740yt.A00(r1, r0)
            r5.A01 = r0
            android.content.Context r3 = r5.getContext()
            android.content.Context r2 = r5.getContext()
            r1 = 2130970492(0x7f04077c, float:1.7549696E38)
            r0 = 2131101857(0x7f0608a1, float:1.7816136E38)
            int r0 = X.AnonymousClass3MZ.A02(r2, r3, r1, r0)
            r5.A00 = r0
            android.text.Editable r0 = r5.getText()
            com.whatsapp.mentions.MentionableEntry.A0C(r0, r5)
            r5.A0L = r4
            android.content.Intent r2 = r10.getIntent()
            java.lang.String r1 = "product_origin"
            r0 = -1
            int r5 = r2.getIntExtra(r1, r0)
            android.content.Intent r1 = r10.getIntent()
            java.lang.String r0 = "smb_send_product"
            boolean r0 = r1.getBooleanExtra(r0, r4)
            r3 = 1
            if (r0 == 0) goto L_0x0202
            X.72S r7 = A0c(r10)
            java.lang.String r6 = r7.A0E()
            if (r6 == 0) goto L_0x0202
            android.text.SpannableStringBuilder r2 = X.AnonymousClass3MW.A09(r6)
            X.00H r0 = r10.A17
            java.lang.Object r1 = r0.get()
            X.2kg r1 = (X.C58432kg) r1
            java.lang.String r0 = r7.A0G()
            java.util.List r1 = r1.A00(r0)
            X.1gc r11 = r10.A0l
            r14 = 0
            r12 = r10
            r13 = r2
            r15 = r1
            r16 = r3
            r11.A06(r12, r13, r14, r15, r16)
            X.7JN r0 = r10.A0a
            r0.A06(r2)
            com.whatsapp.mediacomposer.ui.caption.CaptionView r0 = X.AnonymousClass7JN.A00(r10)
            com.whatsapp.mentions.MentionableEntry r0 = r0.A0B
            r0.setMentionableText(r6, r1)
            r0 = 2
            if (r5 != r0) goto L_0x0202
            A13(r10)
        L_0x0202:
            X.6kY r0 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r10)
            java.util.List r0 = r0.A05
            boolean r0 = X.C22971Dz.A0h(r0)
            if (r0 == 0) goto L_0x0370
            X.0ve r2 = r10.A0E
            r1 = 5643(0x160b, float:7.908E-42)
            X.0vf r0 = X.C18040vf.A02
            boolean r0 = X.C18020vd.A05(r0, r2, r1)
            if (r0 != 0) goto L_0x0370
        L_0x021a:
            r10.A1Q = r4
            com.whatsapp.mediacomposer.ui.caption.CaptionView r0 = X.AnonymousClass7JN.A00(r10)
            r0.setAddButtonActivated(r4)
            android.content.Intent r1 = r10.getIntent()
            java.lang.String r0 = "quoted_message_row_id"
            r3 = 0
            long r1 = r1.getLongExtra(r0, r3)
            int r0 = (r1 > r3 ? 1 : (r1 == r3 ? 0 : -1))
            if (r0 != 0) goto L_0x0241
            X.7JS r1 = r10.A0X
            boolean r0 = r1.A0H()
            if (r0 != 0) goto L_0x0241
            X.6wV r0 = r1.A0A
            boolean r0 = r0.A01
            if (r0 == 0) goto L_0x0248
        L_0x0241:
            X.7JN r0 = r10.A0a
            com.whatsapp.mediacomposer.ui.caption.CaptionFragment r0 = r0.A0C
            r0.A28()
        L_0x0248:
            X.7JS r0 = r10.A0X
            boolean r0 = r0.A0I
            if (r0 == 0) goto L_0x0251
            X.C1196268z.A03(r10)
        L_0x0251:
            X.7JS r0 = r10.A0X
            boolean r0 = r0.A0J
            if (r0 != 0) goto L_0x026d
            X.C1196268z.A03(r10)
            X.7JN r0 = r10.A0a
            com.whatsapp.mediacomposer.ui.caption.CaptionFragment r0 = r0.A0C
            r0.A28()
            com.whatsapp.mediacomposer.bottombar.filterswipe.FilterSwipeView r1 = r9.A01
            android.widget.TextView r0 = r1.A00
            r0.clearAnimation()
            r0 = 8
            r1.setFilterSwipeTextVisibility(r0)
        L_0x026d:
            X.7JN r1 = r10.A0a
            X.7JS r0 = r10.A0X
            boolean r0 = r0.A0G()
            r1.A0A(r0)
            int r1 = r10.BUd()
            r0 = 37
            if (r1 != r0) goto L_0x035a
            X.C1196268z.A03(r10)
            X.7JN r0 = r10.A0a
            com.whatsapp.mediacomposer.bottombar.BottomBarView r1 = r0.A07
            r0 = 0
            r1.setAddStandaloneButtonVisibility(r0)
        L_0x028b:
            X.7JN r3 = r10.A0a
            X.7JS r0 = r10.A0X
            boolean r2 = r0.A0G()
            com.whatsapp.mediacomposer.bottombar.BottomBarView r1 = r3.A07
            r0 = 4
            r1.setVisibility(r0)
            X.7J3 r0 = r3.A0B
            r1 = 8
            if (r2 == 0) goto L_0x02a0
            r1 = 4
        L_0x02a0:
            androidx.recyclerview.widget.RecyclerView r0 = r0.A05
            r0.setVisibility(r1)
            com.whatsapp.mediacomposer.viewmodel.MediaViewOnceViewModel r0 = r10.A0k
            r0.A0T()
            A17(r10)
        L_0x02ad:
            X.6q7 r0 = X.C108955ca.A0V(r10)
            r7 = 1
            r0.A02 = r7
            X.7JS r0 = r10.A0X
            int r0 = r0.A07()
            A18(r10, r0)
            X.7JN r5 = r10.A0a
            X.0z4 r4 = r5.A03
            X.7JS r0 = r5.A06
            boolean r0 = r0.A0J()
            if (r0 == 0) goto L_0x0353
            X.00H r6 = r4.A00
            android.content.SharedPreferences r2 = X.C17880vN.A0B(r6)
            java.lang.String r0 = "has_used_status_mentions"
            r1 = 0
            boolean r0 = r2.getBoolean(r0, r1)
            if (r0 != 0) goto L_0x0353
            android.content.SharedPreferences r0 = X.C17880vN.A0B(r6)
            java.lang.String r3 = "status_mentions_tooltip_seen_count"
            int r1 = r0.getInt(r3, r1)
            r0 = 2
            if (r1 >= r0) goto L_0x0353
            r0 = 2592000000(0x9a7ec800, double:1.280618154E-314)
            java.lang.String r2 = "last_seen_status_mentions_tooltip_timestamp"
            boolean r0 = r4.A2b(r2, r0)
            if (r0 == 0) goto L_0x0353
            long r0 = java.lang.System.currentTimeMillis()
            r4.A1q(r2, r0)
            android.content.SharedPreferences r0 = X.C17880vN.A0B(r6)
            int r0 = X.C17890vO.A00(r0, r3)
            int r0 = r0 + 1
            X.C17900vP.A0M(r4, r3, r0)
            com.whatsapp.mediacomposer.bottombar.BottomBarView r0 = r5.A07
            r0.setStatusMentionsToolTipVisible(r7)
        L_0x030b:
            X.1DS r0 = r10.A07
            if (r0 == 0) goto L_0x0402
            java.lang.Object r0 = r0.A06()
            if (r0 != 0) goto L_0x0402
            boolean r0 = r10.A1Z
            if (r0 != 0) goto L_0x0402
            X.5x6 r0 = r10.A0Z
            if (r0 == 0) goto L_0x0402
            X.17x r0 = r10.A0J
            java.lang.Integer r1 = r0.A05()
            java.lang.Integer r0 = X.AnonymousClass00R.A01
            if (r1 == r0) goto L_0x0402
            java.util.ArrayList r9 = X.AnonymousClass000.A13()
            java.util.List r0 = X.AnonymousClass7JS.A03(r10)
            java.util.Iterator r2 = r0.iterator()
        L_0x0333:
            boolean r0 = r2.hasNext()
            if (r0 == 0) goto L_0x03c9
            android.net.Uri r1 = X.C108945cZ.A0M(r2)
            X.73D r0 = r10.A1q
            X.72S r0 = r0.A02(r1)
            java.io.File r0 = r0.A09()
            if (r0 == 0) goto L_0x034f
            boolean r0 = r0.exists()
            if (r0 != 0) goto L_0x0333
        L_0x034f:
            r9.add(r1)
            goto L_0x0333
        L_0x0353:
            com.whatsapp.mediacomposer.bottombar.BottomBarView r1 = r5.A07
            r0 = 0
            r1.setStatusMentionsToolTipVisible(r0)
            goto L_0x030b
        L_0x035a:
            r0 = 35
            if (r1 != r0) goto L_0x0361
            X.C1196268z.A03(r10)
        L_0x0361:
            X.7JS r1 = r10.A0X
            boolean r0 = r1.A0J
            if (r0 == 0) goto L_0x036b
            boolean r0 = r1.A0L
            if (r0 == 0) goto L_0x028b
        L_0x036b:
            X.C1196268z.A03(r10)
            goto L_0x028b
        L_0x0370:
            android.content.Intent r2 = r10.getIntent()
            java.lang.String r1 = "max_items"
            int r0 = r10.A00
            int r5 = r2.getIntExtra(r1, r0)
            android.content.Intent r1 = r10.getIntent()
            java.lang.String r0 = "skip_max_items_new_limit"
            boolean r0 = r1.getBooleanExtra(r0, r4)
            if (r0 != 0) goto L_0x03b8
            if (r5 != 0) goto L_0x03ba
            boolean r0 = r10.A1X
            if (r0 != 0) goto L_0x021a
            X.6kY r0 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r10)
            X.0vl r0 = r0.A0H
            boolean r0 = X.C72453Mb.A1a(r0)
            if (r0 != 0) goto L_0x03aa
            X.0ve r2 = r10.A0E
            r1 = 2693(0xa85, float:3.774E-42)
            X.0vf r0 = X.C18040vf.A02
            int r1 = X.C18020vd.A00(r0, r2, r1)
            int r0 = X.C108975cc.A03(r10)
            int r1 = r1 - r0
            int r5 = r5 + r1
        L_0x03aa:
            X.0ve r2 = r10.A0E
            r1 = 2693(0xa85, float:3.774E-42)
            X.0vf r0 = X.C18040vf.A02
            int r0 = X.C18020vd.A00(r0, r2, r1)
            r10.A00 = r0
            r10.A1X = r3
        L_0x03b8:
            if (r5 == 0) goto L_0x021a
        L_0x03ba:
            r4 = 1
            goto L_0x021a
        L_0x03bd:
            r1 = 0
            goto L_0x0176
        L_0x03c0:
            X.7JN r0 = r10.A0a
            X.8AQ r0 = r0.A09
            r0.BIj()
            goto L_0x0162
        L_0x03c9:
            int r8 = r9.size()
            if (r8 == 0) goto L_0x0402
            X.1KB r6 = r10.A05
            X.0vb r5 = r10.A0K
            r4 = 2131755151(0x7f10008f, float:1.9141173E38)
            long r2 = (long) r8
            java.lang.Object[] r1 = new java.lang.Object[r7]
            r0 = 0
            X.C17880vN.A1T(r1, r8, r0)
            java.lang.String r0 = r5.A0K(r1, r4, r2)
            r6.A0G(r0, r7)
            int r0 = X.AnonymousClass7JS.A01(r10)
            if (r8 != r0) goto L_0x03ee
            r10.finish()
            return
        L_0x03ee:
            java.util.Iterator r1 = r9.iterator()
        L_0x03f2:
            boolean r0 = r1.hasNext()
            if (r0 == 0) goto L_0x0402
            android.net.Uri r0 = X.C108945cZ.A0M(r1)
            if (r0 == 0) goto L_0x03f2
            A0u(r0, r10)
            goto L_0x03f2
        L_0x0402:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.onStart():void");
    }

    /* JADX WARNING: Removed duplicated region for block: B:44:0x00d4  */
    /* JADX WARNING: Removed duplicated region for block: B:72:0x001f A[SYNTHETIC] */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void onStop() {
        /*
            r23 = this;
            r15 = r23
            super.onStop()
            X.6q7 r0 = X.C108955ca.A0V(r15)
            r8 = 0
            r0.A02 = r8
            boolean r0 = r15.A1d
            if (r0 == 0) goto L_0x0153
            A0z(r15)
            java.util.HashMap r4 = X.C17880vN.A11()
            java.util.List r0 = X.AnonymousClass7JS.A03(r15)
            java.util.Iterator r13 = r0.iterator()
        L_0x001f:
            boolean r0 = r13.hasNext()
            r2 = 13
            r11 = 0
            if (r0 == 0) goto L_0x00eb
            android.net.Uri r1 = X.C108945cZ.A0M(r13)
            X.73D r0 = r15.A1q
            X.72S r5 = r0.A02(r1)
            X.1ka r0 = r15.A0T
            int r1 = X.AnonymousClass72S.A00(r5, r0)
            boolean r0 = r5.A0W()
            if (r0 != 0) goto L_0x0040
            r2 = r1
        L_0x0040:
            X.64U r7 = r15.A0V(r4, r2)
            java.lang.Long r0 = r7.A0L
            if (r0 != 0) goto L_0x004e
            java.lang.Long r0 = java.lang.Long.valueOf(r11)
            r7.A0L = r0
        L_0x004e:
            java.lang.Long r0 = X.C108985cd.A0d(r0)
            r7.A0L = r0
            r0 = 3
            r10 = 0
            r9 = 1
            if (r2 != r0) goto L_0x0070
            android.graphics.Point r6 = r5.A04()
            monitor-enter(r5)
            long r2 = r5.A02     // Catch:{ all -> 0x00e8 }
            monitor-exit(r5)
            int r1 = (int) r2
            android.graphics.Point r0 = new android.graphics.Point
            r0.<init>(r8, r1)
            if (r6 == 0) goto L_0x0070
            boolean r0 = r6.equals(r0)
            if (r0 != 0) goto L_0x0070
            r10 = 1
        L_0x0070:
            java.io.File r0 = r5.A08()
            if (r0 == 0) goto L_0x0087
            java.lang.Long r0 = r7.A0K
            if (r0 != 0) goto L_0x0080
            java.lang.Long r0 = java.lang.Long.valueOf(r11)
            r7.A0K = r0
        L_0x0080:
            java.lang.Long r0 = X.C108985cd.A0d(r0)
            r7.A0K = r0
            r10 = 1
        L_0x0087:
            int r0 = r5.A02()
            if (r0 == 0) goto L_0x008e
            r10 = 1
        L_0x008e:
            int r0 = r5.A01()
            if (r0 != 0) goto L_0x0095
            r9 = r10
        L_0x0095:
            java.lang.String r22 = r5.A0F()
            boolean r0 = android.text.TextUtils.isEmpty(r22)
            if (r0 != 0) goto L_0x00e6
            com.whatsapp.mediacomposer.MediaComposerFragment r0 = A0d(r15)
            if (r0 == 0) goto L_0x00e6
            X.C17960vV.A07(r22)
            X.1KW r6 = r15.A0D
            X.0vb r5 = r15.A0K
            X.1Sw r3 = r0.A0Q
            X.0ve r2 = r15.A0E
            X.1Nq r1 = r15.A0U
            X.1T1 r0 = r15.A0E
            X.6yp r14 = X.C1409573s.A06
            r16 = r0
            r17 = r5
            r18 = r6
            r19 = r2
            r20 = r1
            r21 = r3
            X.73s r0 = r14.A02(r15, r16, r17, r18, r19, r20, r21, r22)
            if (r0 == 0) goto L_0x00e6
            r0.A0A(r7)
            java.util.List r0 = r0.A04
            boolean r0 = X.AnonymousClass000.A1a(r0)
        L_0x00d1:
            r0 = r0 | r9
            if (r0 == 0) goto L_0x001f
            java.lang.Long r0 = r7.A0J
            if (r0 != 0) goto L_0x00de
            java.lang.Long r0 = java.lang.Long.valueOf(r11)
            r7.A0J = r0
        L_0x00de:
            java.lang.Long r0 = X.C108985cd.A0d(r0)
            r7.A0J = r0
            goto L_0x001f
        L_0x00e6:
            r0 = 0
            goto L_0x00d1
        L_0x00e8:
            r0 = move-exception
            monitor-exit(r5)
            throw r0
        L_0x00eb:
            java.util.HashSet r0 = r15.A1x
            java.util.Iterator r3 = r0.iterator()
        L_0x00f1:
            boolean r0 = r3.hasNext()
            if (r0 == 0) goto L_0x0120
            java.lang.Object r2 = r3.next()
            X.72S r2 = (X.AnonymousClass72S) r2
            X.1ka r0 = r15.A0T
            int r1 = X.AnonymousClass72S.A00(r2, r0)
            boolean r0 = r2.A0W()
            if (r0 == 0) goto L_0x010b
            r1 = 13
        L_0x010b:
            X.64U r1 = r15.A0V(r4, r1)
            java.lang.Long r0 = r1.A0L
            if (r0 != 0) goto L_0x0119
            java.lang.Long r0 = java.lang.Long.valueOf(r11)
            r1.A0L = r0
        L_0x0119:
            java.lang.Long r0 = X.C108985cd.A0d(r0)
            r1.A0L = r0
            goto L_0x00f1
        L_0x0120:
            java.util.Iterator r2 = X.C17890vO.A0j(r4)
        L_0x0124:
            boolean r0 = r2.hasNext()
            if (r0 == 0) goto L_0x0136
            java.lang.Object r1 = r2.next()
            X.184 r1 = (X.AnonymousClass184) r1
            X.18K r0 = r15.A0P
            r0.CC7(r1)
            goto L_0x0124
        L_0x0136:
            X.10I r1 = r15.A05
            r0 = 43
            X.AnonymousClass7RA.A00(r1, r15, r0)
            java.util.List r0 = X.AnonymousClass7JS.A03(r15)
            java.util.Iterator r1 = r0.iterator()
        L_0x0145:
            boolean r0 = r1.hasNext()
            if (r0 == 0) goto L_0x0153
            android.net.Uri r0 = X.C108945cZ.A0M(r1)
            A0v(r0, r15)
            goto L_0x0145
        L_0x0153:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.onStop():void");
    }

    public MediaComposerActivity(int i) {
        this.A1g = false;
        C1423279a.A00(this, 11);
    }

    public static long A0Q(AnonymousClass72S r4) {
        if (r4.A0D() == null || r4.A0D().intValue() != 3) {
            return -1;
        }
        Point A042 = r4.A04();
        if (A042 != null) {
            return (long) (A042.y - A042.x);
        }
        C1405471x A072 = r4.A07();
        if (A072 != null) {
            return A072.A03;
        }
        return -1;
    }

    public static AnonymousClass206 A0q(MediaComposerActivity mediaComposerActivity) {
        long longExtra = mediaComposerActivity.getIntent().getLongExtra("quoted_message_row_id", 0);
        AnonymousClass1EC A0Q2 = C108995ce.A0Q(mediaComposerActivity);
        if (longExtra > 0) {
            return AnonymousClass1W2.A02(mediaComposerActivity.A10, longExtra);
        }
        if (A0Q2 != null) {
            return C181589Rb.A00(A0Q2, (String) null, (String) null, AnonymousClass11P.A01(mediaComposerActivity.A05));
        }
        return null;
    }

    public static void A0y(AnonymousClass72S r3, MediaComposerActivity mediaComposerActivity) {
        String str;
        String A042 = C17970vW.A04(C108955ca.A14(r3.A0H().getBytes()));
        if (A042 != null) {
            File A0r2 = mediaComposerActivity.A0r(r3.A0F(), A042, "doodle");
            synchronized (r3) {
                r3.A09 = A0r2;
            }
            synchronized (r3) {
                str = r3.A0I;
            }
            File A0r3 = mediaComposerActivity.A0r(str, A042, "edit_state");
            synchronized (r3) {
                r3.A0A = A0r3;
            }
        }
    }

    public static void A0z(MediaComposerActivity mediaComposerActivity) {
        Iterator A0u2 = C108965cb.A0u(mediaComposerActivity);
        while (A0u2.hasNext()) {
            Fragment fragment = (Fragment) A0u2.next();
            if (fragment instanceof MediaComposerFragment) {
                A1A(mediaComposerActivity, (MediaComposerFragment) fragment);
            }
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:5:0x0014, code lost:
        r2 = (com.whatsapp.mediacomposer.ImageComposerFragment) r2;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A10(com.whatsapp.mediacomposer.MediaComposerActivity r4) {
        /*
            java.util.Iterator r3 = X.C108965cb.A0u(r4)
        L_0x0004:
            boolean r0 = r3.hasNext()
            if (r0 == 0) goto L_0x002c
            java.lang.Object r2 = r3.next()
            androidx.fragment.app.Fragment r2 = (androidx.fragment.app.Fragment) r2
            boolean r0 = r2 instanceof com.whatsapp.mediacomposer.ImageComposerFragment
            if (r0 == 0) goto L_0x0004
            com.whatsapp.mediacomposer.ImageComposerFragment r2 = (com.whatsapp.mediacomposer.ImageComposerFragment) r2
            android.net.Uri r1 = r2.A01
            if (r1 == 0) goto L_0x0004
            X.73D r0 = r4.A1q
            X.72S r1 = r0.A02(r1)
            X.740 r0 = r2.A05
            if (r0 == 0) goto L_0x002a
            int r0 = r0.A01
        L_0x0026:
            r1.A0J(r0)
            goto L_0x0004
        L_0x002a:
            r0 = 0
            goto L_0x0026
        L_0x002c:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A10(com.whatsapp.mediacomposer.MediaComposerActivity):void");
    }

    /* JADX WARNING: Code restructure failed: missing block: B:15:0x0048, code lost:
        if (A1F(r10) == false) goto L_0x004a;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:7:0x002e, code lost:
        if (X.C72453Mb.A1a(com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r10).A09) != false) goto L_0x0030;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A15(com.whatsapp.mediacomposer.MediaComposerActivity r10) {
        /*
            com.whatsapp.mediacomposer.MediaComposerFragment r9 = A0d(r10)
            X.00H r0 = r10.A12
            X.6ub r1 = X.C108945cZ.A0j(r0)
            boolean r0 = A1G(r10)
            boolean r0 = r1.A03(r0)
            r8 = 1
            if (r0 != 0) goto L_0x001d
            X.00H r0 = r10.A1H
            boolean r0 = X.C139506yx.A00(r0)
            if (r0 == 0) goto L_0x0030
        L_0x001d:
            boolean r0 = A1F(r10)
            if (r0 == 0) goto L_0x0030
            X.6kY r0 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r10)
            X.0vl r0 = r0.A09
            boolean r0 = X.C72453Mb.A1a(r0)
            r7 = 1
            if (r0 == 0) goto L_0x0031
        L_0x0030:
            r7 = 0
        L_0x0031:
            if (r9 == 0) goto L_0x004a
            android.net.Uri r1 = r9.A01
            if (r1 == 0) goto L_0x004a
            com.whatsapp.mediacomposer.viewmodel.MediaQualityViewModel r0 = r10.A0j
            java.util.HashSet r0 = r0.A0U()
            boolean r0 = r0.contains(r1)
            if (r0 == 0) goto L_0x004a
            boolean r0 = A1F(r10)
            r6 = 1
            if (r0 != 0) goto L_0x004b
        L_0x004a:
            r6 = 0
        L_0x004b:
            X.6uj r5 = X.C108955ca.A0U(r10)
            int r0 = X.C72453Mb.A0J(r7)
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView r4 = r5.A0I
            r4.setMediaQualityVisibility(r0)
            r4.A0e = r6
            android.widget.ImageView r1 = r4.A06
            if (r1 == 0) goto L_0x0068
            r0 = 1053609165(0x3ecccccd, float:0.4)
            if (r6 == 0) goto L_0x0065
            r0 = 1065353216(0x3f800000, float:1.0)
        L_0x0065:
            r1.setAlpha(r0)
        L_0x0068:
            X.0ve r2 = r4.getAbProps()
            r1 = 6378(0x18ea, float:8.937E-42)
            X.0vf r0 = X.C18040vf.A02
            boolean r0 = X.C18020vd.A05(r0, r2, r1)
            if (r0 != 0) goto L_0x00a8
            java.lang.Runnable r1 = r4.A0c
            if (r1 == 0) goto L_0x0081
            X.10I r0 = r4.getWaWorkers()
            r0.CEz(r1)
        L_0x0081:
            r0 = 0
            r4.A0c = r0
            if (r6 == 0) goto L_0x00be
            X.0z4 r0 = r4.getWaSharedPreferences()
            android.content.SharedPreferences r1 = X.C17890vO.A0B(r0)
            java.lang.String r0 = "media_quality_tooltip_shown"
            boolean r0 = X.C17880vN.A1W(r1, r0)
            if (r0 != 0) goto L_0x00be
            X.10I r3 = r4.getWaWorkers()
            r0 = 9
            X.3Br r2 = X.C108945cZ.A0X(r4, r0)
            r0 = 1000(0x3e8, double:4.94E-321)
            X.25d r0 = r3.CGv(r2, r0)
            r4.A0c = r0
        L_0x00a8:
            boolean r0 = A1H(r10)
            if (r0 == 0) goto L_0x00bc
            if (r6 == 0) goto L_0x00bc
        L_0x00b0:
            r5.A0B(r8)
            boolean r0 = r9 instanceof com.whatsapp.mediacomposer.ImageComposerFragment
            if (r0 == 0) goto L_0x00bb
            com.whatsapp.mediacomposer.ImageComposerFragment r9 = (com.whatsapp.mediacomposer.ImageComposerFragment) r9
            r9.A0D = r7
        L_0x00bb:
            return
        L_0x00bc:
            r8 = 0
            goto L_0x00b0
        L_0x00be:
            boolean r0 = r4.A0f
            if (r0 == 0) goto L_0x00a8
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView.A01(r4)
            goto L_0x00a8
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A15(com.whatsapp.mediacomposer.MediaComposerActivity):void");
    }

    public static void A16(MediaComposerActivity mediaComposerActivity) {
        MediaComposerFragment A0d2 = A0d(mediaComposerActivity);
        if (A0d2 != null && A0d2.A01 != null && !C22971Dz.A0h(MediaJidViewModel.A04(mediaComposerActivity))) {
            mediaComposerActivity.A0j.A0W(mediaComposerActivity, mediaComposerActivity.A1q.A04(), A1G(mediaComposerActivity));
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:5:0x004f, code lost:
        if (r5.A09.A01(r5.A08.A02((android.net.Uri) r5.A0C().get(0))) != 3) goto L_0x0051;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A1E(com.whatsapp.mediacomposer.MediaComposerActivity r10, boolean r11) {
        /*
            java.lang.StringBuilder r1 = X.AnonymousClass000.A10()
            java.lang.String r0 = "MediaComposerActivity/openContactPicker uris size = "
            r1.append(r0)
            int r0 = X.AnonymousClass7JS.A01(r10)
            X.C17900vP.A0o(r1, r0)
            java.util.HashSet r8 = X.C17880vN.A12()
            com.whatsapp.mediacomposer.viewmodel.MediaViewOnceViewModel r0 = r10.A0k
            int r0 = r0.A0T()
            r7 = 3
            boolean r0 = X.AnonymousClass000.A1T(r0, r7)
            r6 = 1
            if (r0 == 0) goto L_0x00b3
            X.72S r0 = A0c(r10)
            long r2 = A0Q(r0)
            X.7JS r5 = r10.A0X
            r1 = 0
            java.util.List r0 = r5.A0C()
            int r0 = r0.size()
            if (r1 >= r0) goto L_0x0051
            java.util.List r0 = r5.A0C()
            java.lang.Object r4 = r0.get(r1)
            android.net.Uri r4 = (android.net.Uri) r4
            X.1ka r1 = r5.A09
            X.73D r0 = r5.A08
            X.72S r0 = r0.A02(r4)
            int r0 = r1.A01(r0)
            r1 = 43
            if (r0 == r7) goto L_0x0053
        L_0x0051:
            r1 = 42
        L_0x0053:
            X.C17890vO.A1D(r8, r1)
        L_0x0056:
            X.6wV r0 = r10.A0h
            boolean r0 = X.C138766xe.A00(r0)
            if (r0 == 0) goto L_0x0066
            r8.clear()
            r0 = 20
            X.C17890vO.A1D(r8, r0)
        L_0x0066:
            java.util.List r9 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A04(r10)
            X.00H r0 = r10.A1I
            r0.get()
            java.lang.Boolean r7 = java.lang.Boolean.valueOf(r6)
            java.lang.Long r5 = java.lang.Long.valueOf(r2)
            java.util.ArrayList r4 = X.C17880vN.A10(r8)
            java.lang.Boolean r3 = java.lang.Boolean.valueOf(r11)
            java.lang.String r0 = "com.whatsapp.contact.picker.ContactPicker"
            android.content.Intent r2 = X.C72473Md.A0B(r10, r0)
            java.lang.String r1 = "source_surface"
            r0 = 109(0x6d, float:1.53E-43)
            r2.putExtra(r1, r0)
            X.C108995ce.A0n(r2, r7, r4)
            X.C108965cb.A10(r2, r9)
            if (r5 == 0) goto L_0x0099
            java.lang.String r0 = "forward_video_duration"
            r2.putExtra(r0, r5)
        L_0x0099:
            if (r3 == 0) goto L_0x00a0
            java.lang.String r0 = "status_chip_clicked"
            r2.putExtra(r0, r3)
        L_0x00a0:
            X.00H r0 = r10.A1C
            X.727 r1 = X.C108945cZ.A0u(r0)
            X.7JS r0 = r10.A0X
            X.77K r0 = r0.A0B()
            r1.A03(r2, r0)
            r10.startActivityForResult(r2, r6)
            return
        L_0x00b3:
            X.73D r0 = r10.A1q
            java.util.ArrayList r0 = r0.A04()
            java.util.Iterator r5 = r0.iterator()
            r2 = -1
        L_0x00bf:
            boolean r0 = r5.hasNext()
            if (r0 == 0) goto L_0x0056
            java.lang.Object r4 = r5.next()
            X.72S r4 = (X.AnonymousClass72S) r4
            java.lang.Integer r0 = r4.A0D()
            if (r0 == 0) goto L_0x00bf
            int r1 = r0.intValue()
            if (r1 != r7) goto L_0x00df
            boolean r0 = r4.A0X()
            if (r0 == 0) goto L_0x00df
            r1 = 81
        L_0x00df:
            X.C17890vO.A1D(r8, r1)
            long r0 = A0Q(r4)
            long r2 = java.lang.Math.max(r2, r0)
            goto L_0x00bf
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A1E(com.whatsapp.mediacomposer.MediaComposerActivity, boolean):void");
    }

    public static boolean A1G(MediaComposerActivity mediaComposerActivity) {
        if (!C72453Mb.A1a(MediaJidViewModel.A03(mediaComposerActivity).A0D) || C72453Mb.A1a(MediaJidViewModel.A03(mediaComposerActivity).A0A)) {
            return false;
        }
        return true;
    }

    public static boolean A1H(MediaComposerActivity mediaComposerActivity) {
        return AnonymousClass000.A1T(MediaQualityViewModel.A03(mediaComposerActivity).intValue(), 3);
    }

    public C222219b A33() {
        C222219b A33 = super.A33();
        C72483Me.A10(A33, this);
        return A33;
    }

    public void A3K() {
        if (isDestroyed()) {
            return;
        }
        if (C22971Dz.A0h(MediaJidViewModel.A03(this).A05)) {
            AnonymousClass3MX.A0u(this.A19).A02((AnonymousClass1BI) C108955ca.A0p(MediaJidViewModel.A03(this).A05), 30);
        } else if (C72453Mb.A1a(MediaJidViewModel.A03(this).A0D)) {
            AnonymousClass3MX.A0u(this.A19).A02((AnonymousClass1BI) null, 18);
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:38:0x00a6, code lost:
        if (BUd() == 72) goto L_0x00a8;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void A4c() {
        /*
            r5 = this;
            X.6kY r0 = com.whatsapp.mediacomposer.viewmodel.MediaJidViewModel.A03(r5)
            X.0vl r0 = r0.A0D
            boolean r0 = X.C72453Mb.A1a(r0)
            if (r0 == 0) goto L_0x0024
            X.7JS r0 = r5.A0X
            boolean r0 = r0.A0H()
            if (r0 == 0) goto L_0x006f
            r4 = 12
        L_0x0016:
            X.1hg r3 = r5.A0s
            java.lang.Integer r2 = java.lang.Integer.valueOf(r4)
            java.lang.Integer r1 = X.C32741hg.A02(r4)
            r0 = 0
            r3.A0F(r0, r2, r1)
        L_0x0024:
            A12(r5)
            X.4Yq r4 = r5.A0G
            java.util.List r2 = X.AnonymousClass7JS.A03(r5)
            X.3zW r3 = r4.A01
            if (r3 == 0) goto L_0x00c1
            java.lang.Integer r0 = r3.A03
            if (r0 == 0) goto L_0x00c1
            int r1 = r0.intValue()
            r0 = 3
            if (r1 == r0) goto L_0x0042
            r0 = 5
            if (r1 == r0) goto L_0x0042
            r0 = 4
            if (r1 != r0) goto L_0x00c1
        L_0x0042:
            if (r2 == 0) goto L_0x00b8
            java.util.Iterator r3 = r2.iterator()
            r2 = 0
        L_0x0049:
            boolean r0 = r3.hasNext()
            if (r0 == 0) goto L_0x00b4
            android.net.Uri r1 = X.C108945cZ.A0M(r3)
            X.1Sl r0 = r4.A03
            java.lang.String r0 = X.C108975cc.A0c(r1, r0)
            boolean r0 = X.C26521Sl.A0f(r0)
            int r1 = X.C72453Mb.A03(r0)
            java.lang.Integer r0 = java.lang.Integer.valueOf(r1)
            if (r2 == 0) goto L_0x006a
            if (r2 == r0) goto L_0x006a
            r1 = 3
        L_0x006a:
            java.lang.Integer r2 = java.lang.Integer.valueOf(r1)
            goto L_0x0049
        L_0x006f:
            int r0 = r5.BUd()
            r4 = 3
            if (r0 == r4) goto L_0x0016
            int r1 = r5.BUd()
            r0 = 57
            if (r1 == r0) goto L_0x00b0
            int r1 = r5.BUd()
            r0 = 56
            if (r1 == r0) goto L_0x00b0
            int r1 = r5.BUd()
            r0 = 58
            if (r1 == r0) goto L_0x00ac
            int r1 = r5.BUd()
            r0 = 59
            if (r1 == r0) goto L_0x00ac
            int r1 = r5.BUd()
            r0 = 73
            if (r1 == r0) goto L_0x00a8
            int r1 = r5.BUd()
            r0 = 72
            r4 = 10
            if (r1 != r0) goto L_0x0016
        L_0x00a8:
            r4 = 28
            goto L_0x0016
        L_0x00ac:
            r4 = 24
            goto L_0x0016
        L_0x00b0:
            r4 = 21
            goto L_0x0016
        L_0x00b4:
            X.3zW r3 = r4.A01
            r3.A05 = r2
        L_0x00b8:
            java.lang.Integer r0 = r3.A03
            int r0 = r0.intValue()
            r4.A03(r0)
        L_0x00c1:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A4c():void");
    }

    /* JADX WARNING: Code restructure failed: missing block: B:3:0x0010, code lost:
        if (r2.A0I.A0e == false) goto L_0x0012;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void A4d(boolean r6) {
        /*
            r5 = this;
            boolean r4 = A1H(r5)
            X.6uj r2 = X.C108955ca.A0U(r5)
            r3 = 1
            if (r4 == 0) goto L_0x0012
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView r0 = r2.A0I
            boolean r1 = r0.A0e
            r0 = 1
            if (r1 != 0) goto L_0x0013
        L_0x0012:
            r0 = 0
        L_0x0013:
            r2.A0B(r0)
            com.whatsapp.mediacomposer.MediaComposerFragment r1 = A0d(r5)
            boolean r0 = r1 instanceof com.whatsapp.mediacomposer.ImageComposerFragment
            if (r0 == 0) goto L_0x0050
            if (r6 == 0) goto L_0x0029
            com.whatsapp.mediacomposer.MediaComposerFragment r0 = A0d(r5)
            if (r0 == 0) goto L_0x0029
            A1A(r5, r0)
        L_0x0029:
            r2 = r1
            com.whatsapp.mediacomposer.ImageComposerFragment r2 = (com.whatsapp.mediacomposer.ImageComposerFragment) r2
            if (r4 == 0) goto L_0x0051
            android.net.Uri r1 = r1.A01
            if (r1 == 0) goto L_0x0051
            com.whatsapp.mediacomposer.viewmodel.MediaQualityViewModel r0 = r5.A0j
            java.util.HashSet r0 = r0.A0U()
            boolean r0 = r0.contains(r1)
            if (r0 == 0) goto L_0x0051
            boolean r0 = A1F(r5)
            if (r0 == 0) goto L_0x0051
        L_0x0044:
            boolean r0 = r2.A0B
            if (r0 == r3) goto L_0x0050
            r2.A0B = r3
            com.whatsapp.mediacomposer.ImageComposerFragment.A08(r2)
            com.whatsapp.mediacomposer.ImageComposerFragment.A09(r2)
        L_0x0050:
            return
        L_0x0051:
            r3 = 0
            goto L_0x0044
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A4d(boolean):void");
    }

    public C18180vt BYS() {
        return C19620yd.A02;
    }

    public void Bkz() {
        MediaComposerFragment A0d2 = A0d(this);
        if (A0d2 == null || !A0d2.A2S()) {
            Log.i("MediaComposerActivity/onAddButtonClicked");
            C108965cb.A0f(this).A02(1, 1, this.A0X.A06());
            if (!this.A1Q) {
                if (C22971Dz.A0h(MediaJidViewModel.A03(this).A05)) {
                    if (!C18020vd.A05(C18040vf.A02, this.A0E, 5643)) {
                        return;
                    }
                }
                this.A05.A0G(C72473Md.A0k(AnonymousClass3MW.A05(this.A0I), this.A00, 2131755397), 0);
                return;
            }
            Log.i("MediaComposerActivity/onAddButtonClicked/Starting to collect data");
            A0z(this);
            A10(this);
            Intent A0A2 = C17880vN.A0A();
            A0A2.putParcelableArrayListExtra("android.intent.extra.STREAM", AnonymousClass7JS.A02(this));
            A0A2.putStringArrayListExtra("jids", C22971Dz.A0B(MediaJidViewModel.A04(this)));
            A0A2.putExtra("media_quality_selection", MediaQualityViewModel.A03(this));
            A0A2.putExtra("view_once_selection", this.A0k.A0T());
            AnonymousClass73D r0 = this.A1q;
            Bundle A0D2 = C17880vN.A0D();
            AnonymousClass73D.A01(A0D2, r0);
            A0A2.putExtra("media_preview_params", A0D2);
            this.A01 = 1;
            setResult(1, A0A2);
            Log.i("MediaComposerActivity/onAddButtonClicked/Pick more");
            finish();
        }
    }

    public void C6d(int i) {
        MediaComposerFragment A0d2 = A0d(this);
        if (A0d2 != null) {
            A0d2.A2M(i, true);
        }
    }

    public void C6f(int i) {
        MediaComposerFragment A0d2 = A0d(this);
        if (A0d2 != null) {
            A0d2.A2M(i, false);
        }
    }

    public void C6h() {
        Collection collection;
        ArrayList A132 = AnonymousClass000.A13();
        AnonymousClass7JS r2 = this.A0X;
        Map map = (Map) r2.A02.A06();
        if (!(map == null || (collection = (Collection) map.get(r2.A0A())) == null)) {
            A132.addAll(collection);
        }
        this.A1I.get();
        Integer A0l2 = C17880vN.A0l();
        Intent A0B2 = C72483Me.A0B(this, "com.whatsapp.contact.picker.StatusMentionsContactPicker", 1);
        C108965cb.A10(A0B2, A132);
        A0B2.putExtra("use_custom_multiselect_limit", true);
        A0B2.putExtra("custom_multiselect_limit", A0l2);
        A0B2.putExtra("status_mentions", true);
        startActivityForResult(A0B2, 3);
        C63742tc A0Y2 = C108965cb.A0Y(this.A0s);
        if (C63742tc.A03(A0Y2)) {
            AnonymousClass2HA A002 = C63742tc.A00(A0Y2);
            A002.A03 = 33;
            A0Y2.A01.CC7(A002);
        }
        C17880vN.A1F(C19830z4.A00(this.A0A), "has_used_status_mentions", true);
    }

    public void C6k() {
        A12(this);
    }

    public void onActivityResult(int i, int i2, Intent intent) {
        LinkedHashMap A132;
        Set set;
        AnonymousClass77K A002;
        super.onActivityResult(i, i2, intent);
        AnonymousClass77K r3 = null;
        if (i == 1) {
            if (intent == null) {
                return;
            }
            if (i2 == -1) {
                Log.i("MediaComposerActivity/onActivityResult/Result from contact picker");
                this.A0i.A0U(C22971Dz.A0A(AnonymousClass1BI.class, intent.getStringArrayListExtra("jids")));
                C17960vV.A07(intent);
                Bundle extras = intent.getExtras();
                if (!(extras == null || (A002 = AnonymousClass727.A00(extras, this.A1C)) == null)) {
                    this.A0X.A05.A0F(A002);
                }
                A12(this);
            } else if (i2 == 0) {
                Log.i("MediaComposerActivity/onActivityResult/Result canceled");
                ArrayList A0A2 = C22971Dz.A0A(AnonymousClass1BI.class, intent.getStringArrayListExtra("jids"));
                if (intent.getExtras() != null) {
                    r3 = C108945cZ.A0u(this.A1C).A02(intent.getExtras());
                }
                this.A0i.A0U(A0A2);
                AnonymousClass7JS r1 = this.A0X;
                C17960vV.A07(r3);
                C18070vi.A0d(r3, 0);
                r1.A05.A0F(r3);
                this.A0k.A0V();
            }
        } else if (i == 2) {
            if (i2 == -1 && intent != null) {
                Log.i("MediaComposerActivity/onActivityResult/Result from scfr contact");
                if (intent.getExtras() != null) {
                    r3 = C108945cZ.A0u(this.A1C).A02(intent.getExtras());
                }
                C17960vV.A07(r3);
                A0x(r3, true);
            }
        } else if (i == 3 && i2 == -1 && intent != null && C108945cZ.A0v(this.A1D).A03()) {
            Log.i("MediaComposerActivity/onActivityResult/Result from mentions");
            ArrayList<String> stringArrayListExtra = intent.getStringArrayListExtra("jids");
            HashSet A122 = C17880vN.A12();
            C22971Dz.A0G(AnonymousClass1BI.class, stringArrayListExtra, A122);
            int size = A122.size();
            AnonymousClass7JS r4 = this.A0X;
            Uri A0A3 = r4.A0A();
            if (A0A3 != null) {
                AnonymousClass1DS r2 = r4.A02;
                Map map = (Map) r2.A06();
                if (map != null) {
                    A132 = new LinkedHashMap(map);
                } else {
                    A132 = C17880vN.A13();
                }
                A132.put(A0A3, A122);
                r4.A03.A0F(A132);
                Map map2 = (Map) r2.A06();
                if (!(map2 == null || (set = (Set) map2.get(r4.A0A())) == null)) {
                    set.size();
                }
            }
            if (size > 0) {
                Resources resources = getResources();
                Object[] objArr = new Object[1];
                boolean A1b2 = C72453Mb.A1b(objArr, size);
                this.A05.A0G(resources.getQuantityString(2131755405, size, objArr), A1b2 ? 1 : 0);
            }
        }
    }

    public void onBackPressed() {
        A0s();
    }

    public void onConfigurationChanged(Configuration configuration) {
        A3r(configuration);
        A0t();
    }

    public boolean onKeyDown(int i, KeyEvent keyEvent) {
        return super.onKeyDown(i, keyEvent);
    }

    public boolean onOptionsItemSelected(MenuItem menuItem) {
        if (menuItem.getItemId() != 16908332) {
            return super.onOptionsItemSelected(menuItem);
        }
        A0s();
        return true;
    }

    public void onPause() {
        super.onPause();
        StringBuilder A102 = AnonymousClass000.A10();
        A102.append("MediaComposerActivity/onPause/size = ");
        C17900vP.A0o(A102, MediaJidViewModel.A04(this).size());
        StringBuilder A103 = AnonymousClass000.A10();
        A103.append("MediaComposerActivity/onPause/initial size = ");
        C17900vP.A0o(A103, C72463Mc.A0D(this.A01));
    }

    public void onResume() {
        super.onResume();
        A15(this);
    }

    public void onSaveInstanceState(Bundle bundle) {
        super.onSaveInstanceState(bundle);
        bundle.putParcelableArrayList("uris", AnonymousClass7JS.A02(this));
        ArrayList A132 = AnonymousClass000.A13();
        for (Object obj : AnonymousClass7JS.A03(this)) {
            A132.add(this.A1w.get(obj));
        }
        bundle.putSerializable("ids", A132);
        bundle.putInt("position", this.A0X.A07());
        AnonymousClass73D r0 = this.A1q;
        Bundle A0D2 = C17880vN.A0D();
        AnonymousClass73D.A01(A0D2, r0);
        bundle.putBundle("media_preview_params", A0D2);
        bundle.putBoolean("optimistic_started_sd", C108955ca.A0V(this).A01.contains(AnonymousClass3MY.A0f()));
        bundle.putBoolean("optimistic_started_hd", C108955ca.A0V(this).A01.contains(C17880vN.A0j()));
    }

    public MediaComposerActivity() {
        this(0);
        this.A01 = 0;
        this.A1d = false;
        this.A1u = new AnonymousClass7RA((Object) this, 44);
        this.A1r = new C145427Lf(this, 0);
        this.A1k = false;
        this.A1q = new AnonymousClass73D();
        this.A1w = C17880vN.A11();
        this.A1x = C17880vN.A12();
        this.A1v = AnonymousClass000.A13();
        this.A1y = C17890vO.A0D();
        this.A1o = C17890vO.A0D();
        this.A1n = AnonymousClass3MW.A07();
        this.A1m = new PointF();
        this.A1X = false;
        this.A1e = true;
        this.A1f = true;
        this.A1T = true;
        this.A1S = true;
        this.A1l = false;
        this.A1h = false;
        this.A1i = false;
        this.A1z = new AtomicInteger(0);
        this.A1t = new C18150vq((Object) null, new C147087Rt(this, 7));
        this.A0o = null;
        this.A0f = (AnonymousClass177) AnonymousClass12Q.A03(AnonymousClass177.class);
        this.A1s = new C18150vq((Object) null, new C147087Rt(this, 8));
        this.A1V = false;
        this.A1W = false;
        this.A1Y = false;
        this.A1p = AnonymousClass3MW.A0M(true);
        this.A1O = "default_share";
    }
}
