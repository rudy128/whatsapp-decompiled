package X;

import com.whatsapp.jid.DeviceJid;
import com.whatsapp.jid.UserJid;

/* renamed from: X.2xA  reason: invalid class name and case insensitive filesystem */
public final class C65822xA implements BCN {
    public final AnonymousClass11S A00;
    public final AnonymousClass1PM A01;
    public final C25161Nd A02;
    public final AnonymousClass11P A03;
    public final C19830z4 A04;
    public final AnonymousClass1P3 A05;
    public final AnonymousClass122 A06;
    public final AnonymousClass1MZ A07;
    public final C61772qE A08;
    public final AnonymousClass1MR A09;
    public final AnonymousClass1PT A0A;
    public final AnonymousClass1PQ A0B;
    public final C25001Mm A0C;
    public final AnonymousClass1M9 A0D;
    public final C26111Qw A0E;
    public final AnonymousClass1WX A0F;
    public final C26071Qs A0G;
    public final C18030ve A0H;
    public final C27131Uv A0I;
    public final AnonymousClass00H A0J;
    public final AnonymousClass00H A0K;

    public void BvA(DeviceJid deviceJid) {
    }

    public void Bvj(DeviceJid deviceJid) {
        C18070vi.A0d(deviceJid, 0);
        A00(deviceJid, false);
    }

    public void Bvk(DeviceJid deviceJid) {
        A00(deviceJid, true);
    }

    public C65822xA(AnonymousClass11S r24, C25001Mm r25, AnonymousClass1M9 r26, AnonymousClass1PM r27, C25161Nd r28, AnonymousClass11P r29, C19830z4 r30, AnonymousClass1P3 r31, AnonymousClass122 r32, AnonymousClass1MZ r33, C26111Qw r34, AnonymousClass1WX r35, C61772qE r36, C26071Qs r37, AnonymousClass1MR r38, C18030ve r39, C27131Uv r40, AnonymousClass1PT r41, AnonymousClass1PQ r42, AnonymousClass00H r43, AnonymousClass00H r44) {
        C18030ve r15 = r39;
        AnonymousClass11S r22 = r24;
        C25001Mm r21 = r25;
        AnonymousClass1M9 r20 = r26;
        AnonymousClass11P r17 = r29;
        C18070vi.A0w(r17, r15, r22, r21, r20);
        AnonymousClass1MR r7 = r38;
        AnonymousClass1PT r5 = r41;
        AnonymousClass1P3 r14 = r31;
        AnonymousClass122 r13 = r32;
        AnonymousClass1WX r10 = r35;
        C18070vi.A0x(r5, r10, r13, r7, r14);
        C26111Qw r11 = r34;
        C61772qE r9 = r36;
        AnonymousClass1PM r19 = r27;
        C25161Nd r18 = r28;
        C19830z4 r16 = r30;
        C18070vi.A0y(r9, r19, r16, r18, r11);
        C27131Uv r6 = r40;
        AnonymousClass1PQ r4 = r42;
        AnonymousClass00H r3 = r43;
        AnonymousClass1MZ r12 = r33;
        C18070vi.A0t(r4, r6, r3, r12);
        C26071Qs r8 = r37;
        C18070vi.A0d(r8, 20);
        AnonymousClass00H r2 = r44;
        C18070vi.A0d(r2, 21);
        this.A03 = r17;
        this.A0H = r15;
        this.A00 = r22;
        this.A0C = r21;
        this.A0D = r20;
        this.A0A = r5;
        this.A0F = r10;
        this.A06 = r13;
        this.A09 = r7;
        this.A05 = r14;
        this.A08 = r9;
        this.A01 = r19;
        this.A04 = r16;
        this.A02 = r18;
        this.A0E = r11;
        this.A0B = r4;
        this.A0I = r6;
        this.A0J = r3;
        this.A07 = r12;
        this.A0G = r8;
        this.A0K = r2;
    }

    /* JADX INFO: finally extract failed */
    /* JADX WARNING: Code restructure failed: missing block: B:100:0x029f, code lost:
        throw r1;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:108:0x02a7, code lost:
        r0 = move-exception;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:110:?, code lost:
        X.CDX.A00(r9, r1);
     */
    /* JADX WARNING: Code restructure failed: missing block: B:111:0x02ab, code lost:
        throw r0;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:115:0x02ae, code lost:
        r1 = move-exception;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:116:0x02af, code lost:
        X.CDX.A00(r7, r0);
     */
    /* JADX WARNING: Code restructure failed: missing block: B:117:0x02b2, code lost:
        throw r1;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:15:0x005e, code lost:
        if (X.AnonymousClass2US.A00(r0.hostStorage, r0.actualActors) == 1) goto L_0x0060;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:91:0x0294, code lost:
        r0 = move-exception;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:93:?, code lost:
        X.CDX.A00(r9, r1);
     */
    /* JADX WARNING: Code restructure failed: missing block: B:94:0x0298, code lost:
        throw r0;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:98:0x029b, code lost:
        r1 = move-exception;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:99:0x029c, code lost:
        X.CDX.A00(r8, r0);
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    private final void A00(com.whatsapp.jid.DeviceJid r20, boolean r21) {
        /*
            r19 = this;
            java.lang.String r0 = "IdentityChangeManager/handleIdentityChangeSecurityNotification"
            X.1Ez r4 = new X.1Ez
            r4.<init>((java.lang.String) r0)
            r3 = r20
            com.whatsapp.jid.UserJid r0 = r3.userJid     // Catch:{ all -> 0x05e1 }
            boolean r0 = X.C42701yb.A01(r0)     // Catch:{ all -> 0x05e1 }
            r5 = r19
            if (r0 != 0) goto L_0x0116
            int r0 = r3.getDevice()     // Catch:{ all -> 0x05e1 }
            if (r0 == 0) goto L_0x003f
            if (r21 != 0) goto L_0x0116
            X.11S r1 = r5.A00     // Catch:{ all -> 0x05e1 }
            com.whatsapp.jid.UserJid r0 = r3.userJid     // Catch:{ all -> 0x05e1 }
            boolean r0 = r1.A0O(r0)     // Catch:{ all -> 0x05e1 }
            if (r0 != 0) goto L_0x003f
            X.2qE r2 = r5.A08     // Catch:{ all -> 0x05e1 }
            com.whatsapp.jid.UserJid r1 = r3.userJid     // Catch:{ all -> 0x05e1 }
            X.1MR r0 = r5.A09     // Catch:{ all -> 0x05e1 }
            java.util.HashSet r0 = r0.A0A(r1)     // Catch:{ all -> 0x05e1 }
            X.C199410f.copyOf((java.util.Collection) r0)     // Catch:{ all -> 0x05e1 }
            X.C199410f.of(r3)     // Catch:{ all -> 0x05e1 }
            X.C199410f.of(r3)     // Catch:{ all -> 0x05e1 }
            X.0z4 r0 = r2.A03     // Catch:{ all -> 0x05e1 }
            r0.A2M()     // Catch:{ all -> 0x05e1 }
            goto L_0x0116
        L_0x003f:
            X.0z4 r0 = r5.A04     // Catch:{ all -> 0x05e1 }
            boolean r12 = r0.A2M()     // Catch:{ all -> 0x05e1 }
            com.whatsapp.jid.UserJid r9 = r3.userJid     // Catch:{ all -> 0x05e1 }
            if (r12 == 0) goto L_0x007e
            X.1PM r0 = r5.A01     // Catch:{ all -> 0x05e1 }
            X.1yf r0 = r0.A02(r9)     // Catch:{ all -> 0x05e1 }
            r2 = 1
            if (r0 == 0) goto L_0x0060
            X.1ya r0 = r0.A00()     // Catch:{ all -> 0x05e1 }
            int r1 = r0.hostStorage     // Catch:{ all -> 0x05e1 }
            int r0 = r0.actualActors     // Catch:{ all -> 0x05e1 }
            int r0 = X.AnonymousClass2US.A00(r1, r0)     // Catch:{ all -> 0x05e1 }
            if (r0 != r2) goto L_0x007e
        L_0x0060:
            X.122 r10 = r5.A06     // Catch:{ all -> 0x05e1 }
            X.1PQ r2 = r5.A0B     // Catch:{ all -> 0x05e1 }
            X.11P r0 = r5.A03     // Catch:{ all -> 0x05e1 }
            long r0 = X.AnonymousClass11P.A01(r0)     // Catch:{ all -> 0x05e1 }
            r8 = 0
            X.1PP r2 = r2.A02     // Catch:{ all -> 0x05e1 }
            X.205 r7 = X.C17880vN.A0Z(r9, r2)     // Catch:{ all -> 0x05e1 }
            r6 = 18
            X.20i r2 = new X.20i     // Catch:{ all -> 0x05e1 }
            r2.<init>(r7, r6, r0)     // Catch:{ all -> 0x05e1 }
            r2.A0d(r8)     // Catch:{ all -> 0x05e1 }
            r10.BBM(r2)     // Catch:{ all -> 0x05e1 }
        L_0x007e:
            X.1Nd r0 = r5.A02     // Catch:{ all -> 0x05e1 }
            java.util.ArrayList r0 = r0.A08()     // Catch:{ all -> 0x05e1 }
            java.util.HashSet r11 = new java.util.HashSet     // Catch:{ all -> 0x05e1 }
            r11.<init>(r0)     // Catch:{ all -> 0x05e1 }
            X.1MZ r0 = r5.A07     // Catch:{ all -> 0x05e1 }
            X.1MW r10 = r0.A08     // Catch:{ all -> 0x05e1 }
            java.util.HashSet r0 = r10.A0G(r9)     // Catch:{ all -> 0x05e1 }
            if (r12 == 0) goto L_0x0116
            java.util.Iterator r12 = r0.iterator()     // Catch:{ all -> 0x05e1 }
        L_0x0097:
            boolean r0 = r12.hasNext()     // Catch:{ all -> 0x05e1 }
            if (r0 == 0) goto L_0x0116
            java.lang.Object r7 = r12.next()     // Catch:{ all -> 0x05e1 }
            X.1E9 r7 = (X.AnonymousClass1E9) r7     // Catch:{ all -> 0x05e1 }
            X.2tp r1 = r10.A0C(r7)     // Catch:{ all -> 0x05e1 }
            boolean r0 = r7 instanceof com.whatsapp.jid.GroupJid     // Catch:{ all -> 0x05e1 }
            if (r0 != 0) goto L_0x00af
            boolean r0 = r7 instanceof X.C47712Jo     // Catch:{ all -> 0x05e1 }
            if (r0 == 0) goto L_0x0097
        L_0x00af:
            boolean r0 = r11.contains(r7)     // Catch:{ all -> 0x05e1 }
            if (r0 == 0) goto L_0x0097
            X.10f r0 = r1.A07()     // Catch:{ all -> 0x05e1 }
            X.C18070vi.A0X(r0)     // Catch:{ all -> 0x05e1 }
            X.1F8 r6 = new X.1F8     // Catch:{ all -> 0x05e1 }
            r6.<init>()     // Catch:{ all -> 0x05e1 }
            X.1IZ r2 = r0.iterator()     // Catch:{ all -> 0x05e1 }
            X.C18070vi.A0X(r2)     // Catch:{ all -> 0x05e1 }
        L_0x00c8:
            boolean r0 = r2.hasNext()     // Catch:{ all -> 0x05e1 }
            if (r0 == 0) goto L_0x00dc
            com.whatsapp.jid.UserJid r1 = X.C17880vN.A0T(r2)     // Catch:{ all -> 0x05e1 }
            boolean r0 = X.C22971Dz.A0T(r1)     // Catch:{ all -> 0x05e1 }
            if (r0 != 0) goto L_0x00c8
            r6.add((java.lang.Object) r1)     // Catch:{ all -> 0x05e1 }
            goto L_0x00c8
        L_0x00dc:
            X.10f r1 = r6.build()     // Catch:{ all -> 0x05e1 }
            boolean r0 = r1.contains(r9)     // Catch:{ all -> 0x05e1 }
            if (r0 == 0) goto L_0x0097
            X.11S r0 = r5.A00     // Catch:{ all -> 0x05e1 }
            com.whatsapp.jid.PhoneUserJid r0 = X.AnonymousClass11S.A00(r0)     // Catch:{ all -> 0x05e1 }
            boolean r0 = r1.contains(r0)     // Catch:{ all -> 0x05e1 }
            if (r0 != 0) goto L_0x00f8
            boolean r0 = X.C22971Dz.A0N(r7)     // Catch:{ all -> 0x05e1 }
            if (r0 == 0) goto L_0x0097
        L_0x00f8:
            X.122 r8 = r5.A06     // Catch:{ all -> 0x05e1 }
            X.1PQ r6 = r5.A0B     // Catch:{ all -> 0x05e1 }
            X.11P r0 = r5.A03     // Catch:{ all -> 0x05e1 }
            long r1 = X.AnonymousClass11P.A01(r0)     // Catch:{ all -> 0x05e1 }
            X.1PP r0 = r6.A02     // Catch:{ all -> 0x05e1 }
            X.205 r7 = X.C17880vN.A0Z(r7, r0)     // Catch:{ all -> 0x05e1 }
            r6 = 18
            X.20i r0 = new X.20i     // Catch:{ all -> 0x05e1 }
            r0.<init>(r7, r6, r1)     // Catch:{ all -> 0x05e1 }
            r0.A0d(r9)     // Catch:{ all -> 0x05e1 }
            r8.BBM(r0)     // Catch:{ all -> 0x05e1 }
            goto L_0x0097
        L_0x0116:
            r4.A02()
            com.whatsapp.jid.UserJid r2 = r3.userJid
            int r0 = r3.getDevice()
            r18 = 0
            if (r0 != 0) goto L_0x02c8
            r18 = 1
            X.11S r0 = r5.A00
            boolean r0 = r0.A0O(r2)
            if (r0 != 0) goto L_0x02c3
            X.1MR r1 = r5.A09
            java.lang.String r0 = "identity_changed"
            r1.A0E(r2, r0)
            X.1WX r11 = r5.A0F
            X.1Qw r0 = r11.A03
            com.whatsapp.jid.DeviceJid r1 = r2.getPrimaryDevice()
            r14 = 0
            X.C18070vi.A0d(r1, r14)
            X.1Qu r10 = r0.A01
            java.util.LinkedHashSet r6 = X.C17880vN.A14()
            X.1Cd r8 = r10.A04
            X.1at r7 = r8.get()
            r0 = r7
            X.1av r0 = (X.C28801av) r0     // Catch:{ all -> 0x02ac }
            X.1Ev r13 = r0.A02     // Catch:{ all -> 0x02ac }
            java.lang.String r12 = "SELECT message_row_id FROM receipt_device WHERE receipt_device_jid_row_id = ? AND receipt_device_timestamp is NULL"
            java.lang.String[] r9 = X.C17880vN.A1Y()     // Catch:{ all -> 0x02ac }
            X.1DL r4 = r10.A02     // Catch:{ all -> 0x02ac }
            long r0 = r4.A09(r1)     // Catch:{ all -> 0x02ac }
            X.C17880vN.A1V(r9, r14, r0)     // Catch:{ all -> 0x02ac }
            java.lang.String r0 = "MessageReceiptDeviceStore/getUndeliveredMessageRowIds"
            android.database.Cursor r9 = r13.A0A(r12, r0, r9)     // Catch:{ all -> 0x02ac }
            java.lang.String r13 = "message_row_id"
            int r12 = r9.getColumnIndex(r13)     // Catch:{ all -> 0x02a5 }
        L_0x016c:
            boolean r0 = r9.moveToNext()     // Catch:{ all -> 0x02a5 }
            if (r0 == 0) goto L_0x017e
            long r0 = r9.getLong(r12)     // Catch:{ all -> 0x02a5 }
            java.lang.String r0 = java.lang.String.valueOf(r0)     // Catch:{ all -> 0x02a5 }
            r6.add(r0)     // Catch:{ all -> 0x02a5 }
            goto L_0x016c
        L_0x017e:
            r9.close()     // Catch:{ all -> 0x02ac }
            r7.close()
            X.1WW r14 = r11.A04
            java.util.HashSet r12 = X.C17880vN.A12()
            X.1DL r0 = r14.A01
            long r0 = r0.A09(r2)
            java.lang.String r11 = java.lang.String.valueOf(r0)
            java.lang.String[] r9 = X.C19620yd.A0M
            java.lang.Object[] r6 = r6.toArray(r9)
            r0 = 975(0x3cf, float:1.366E-42)
            X.23b r1 = new X.23b
            r1.<init>(r6, r0)
            java.util.ArrayList r7 = X.AnonymousClass000.A13()
            X.1Cd r0 = r14.A02
            X.1at r17 = r0.get()
            java.util.Iterator r16 = r1.iterator()     // Catch:{ all -> 0x02a0 }
        L_0x01af:
            boolean r0 = r16.hasNext()     // Catch:{ all -> 0x02a0 }
            if (r0 == 0) goto L_0x0212
            java.lang.Object r1 = r16.next()     // Catch:{ all -> 0x02a0 }
            java.lang.String[] r1 = (java.lang.String[]) r1     // Catch:{ all -> 0x02a0 }
            r7.clear()     // Catch:{ all -> 0x02a0 }
            r7.add(r11)     // Catch:{ all -> 0x02a0 }
            java.util.List r0 = java.util.Arrays.asList(r1)     // Catch:{ all -> 0x02a0 }
            r7.addAll(r0)     // Catch:{ all -> 0x02a0 }
            r0 = r17
            X.1av r0 = (X.C28801av) r0     // Catch:{ all -> 0x02a0 }
            X.1Ev r14 = r0.A02     // Catch:{ all -> 0x02a0 }
            int r6 = r1.length     // Catch:{ all -> 0x02a0 }
            java.lang.StringBuilder r1 = X.AnonymousClass000.A10()     // Catch:{ all -> 0x02a0 }
            java.lang.String r0 = "SELECT message_row_id FROM receipt_user WHERE receipt_user_jid_row_id =? AND message_row_id IN "
            r1.append(r0)     // Catch:{ all -> 0x02a0 }
            java.lang.String r0 = X.AnonymousClass1H2.A00(r6)     // Catch:{ all -> 0x02a0 }
            java.lang.String r6 = X.AnonymousClass000.A0y(r0, r1)     // Catch:{ all -> 0x02a0 }
            java.lang.Object[] r1 = r7.toArray(r9)     // Catch:{ all -> 0x02a0 }
            java.lang.String[] r1 = (java.lang.String[]) r1     // Catch:{ all -> 0x02a0 }
            java.lang.String r0 = "getDeliveredMessageIds"
            android.database.Cursor r6 = r14.A0A(r6, r0, r1)     // Catch:{ all -> 0x02a0 }
            int r1 = r6.getColumnIndex(r13)     // Catch:{ all -> 0x0206 }
        L_0x01f0:
            boolean r0 = r6.moveToNext()     // Catch:{ all -> 0x0206 }
            if (r0 == 0) goto L_0x0202
            long r14 = r6.getLong(r1)     // Catch:{ all -> 0x0206 }
            java.lang.String r0 = java.lang.String.valueOf(r14)     // Catch:{ all -> 0x0206 }
            r12.add(r0)     // Catch:{ all -> 0x0206 }
            goto L_0x01f0
        L_0x0202:
            r6.close()     // Catch:{ all -> 0x02a0 }
            goto L_0x01af
        L_0x0206:
            r1 = move-exception
            if (r6 == 0) goto L_0x0211
            r6.close()     // Catch:{ all -> 0x020d }
            goto L_0x0211
        L_0x020d:
            r0 = move-exception
            X.AnonymousClass0DT.A00(r1, r0)     // Catch:{ all -> 0x02a0 }
        L_0x0211:
            throw r1     // Catch:{ all -> 0x02a0 }
        L_0x0212:
            r17.close()
            com.whatsapp.jid.DeviceJid r0 = r2.getPrimaryDevice()
            r14 = 0
            X.C18070vi.A0d(r0, r14)
            X.1au r8 = r8.A05()
            X.1xA r9 = r8.BD0()     // Catch:{ all -> 0x0299 }
            java.util.ArrayList r13 = X.AnonymousClass000.A13()     // Catch:{ all -> 0x0292 }
            long r0 = r4.A09(r0)     // Catch:{ all -> 0x0292 }
            java.lang.String r11 = java.lang.String.valueOf(r0)     // Catch:{ all -> 0x0292 }
            java.lang.String[] r0 = new java.lang.String[r14]     // Catch:{ all -> 0x0292 }
            java.lang.Object[] r4 = r12.toArray(r0)     // Catch:{ all -> 0x0292 }
            r1 = 975(0x3cf, float:1.366E-42)
            X.23b r0 = new X.23b     // Catch:{ all -> 0x0292 }
            r0.<init>(r4, r1)     // Catch:{ all -> 0x0292 }
            java.util.Iterator r15 = r0.iterator()     // Catch:{ all -> 0x0292 }
        L_0x0242:
            boolean r0 = r15.hasNext()     // Catch:{ all -> 0x0292 }
            if (r0 == 0) goto L_0x0281
            java.lang.Object r4 = r15.next()     // Catch:{ all -> 0x0292 }
            java.lang.String[] r4 = (java.lang.String[]) r4     // Catch:{ all -> 0x0292 }
            r13.clear()     // Catch:{ all -> 0x0292 }
            r13.add(r11)     // Catch:{ all -> 0x0292 }
            X.C18070vi.A0b(r4)     // Catch:{ all -> 0x0292 }
            java.util.List r0 = X.C200410p.A0P(r4)     // Catch:{ all -> 0x0292 }
            r13.addAll(r0)     // Catch:{ all -> 0x0292 }
            r0 = r8
            X.1av r0 = (X.C28801av) r0     // Catch:{ all -> 0x0292 }
            X.1Ev r7 = r0.A02     // Catch:{ all -> 0x0292 }
            java.lang.String r6 = "receipt_device"
            java.lang.StringBuilder r1 = X.AnonymousClass000.A10()     // Catch:{ all -> 0x0292 }
            java.lang.String r0 = "receipt_device_jid_row_id = ? AND (message_row_id IN "
            r1.append(r0)     // Catch:{ all -> 0x0292 }
            int r0 = r4.length     // Catch:{ all -> 0x0292 }
            java.lang.String r0 = X.AnonymousClass1H2.A00(r0)     // Catch:{ all -> 0x0292 }
            java.lang.String r4 = X.C17900vP.A0B(r0, r1)     // Catch:{ all -> 0x0292 }
            java.lang.String[] r1 = X.C17890vO.A1b(r13, r14)     // Catch:{ all -> 0x0292 }
            java.lang.String r0 = "MessageReceiptDeviceStore/deleteMessageReceipts/DELETE_MESSAGE_RECEIPTS"
            r7.A04(r6, r4, r0, r1)     // Catch:{ all -> 0x0292 }
            goto L_0x0242
        L_0x0281:
            r9.A00()     // Catch:{ all -> 0x0292 }
            r1 = 39
            X.3Bx r0 = new X.3Bx     // Catch:{ all -> 0x0292 }
            r0.<init>(r12, r10, r1)     // Catch:{ all -> 0x0292 }
            r8.BJ7(r0)     // Catch:{ all -> 0x0292 }
            r9.close()     // Catch:{ all -> 0x0299 }
            goto L_0x02b3
        L_0x0292:
            r1 = move-exception
            throw r1     // Catch:{ all -> 0x0294 }
        L_0x0294:
            r0 = move-exception
            X.CDX.A00(r9, r1)     // Catch:{ all -> 0x0299 }
            throw r0     // Catch:{ all -> 0x0299 }
        L_0x0299:
            r0 = move-exception
            throw r0     // Catch:{ all -> 0x029b }
        L_0x029b:
            r1 = move-exception
            X.CDX.A00(r8, r0)
            throw r1
        L_0x02a0:
            r1 = move-exception
            r17.close()     // Catch:{ all -> 0x05dc }
            throw r1
        L_0x02a5:
            r1 = move-exception
            throw r1     // Catch:{ all -> 0x02a7 }
        L_0x02a7:
            r0 = move-exception
            X.CDX.A00(r9, r1)     // Catch:{ all -> 0x02ac }
            throw r0     // Catch:{ all -> 0x02ac }
        L_0x02ac:
            r0 = move-exception
            throw r0     // Catch:{ all -> 0x02ae }
        L_0x02ae:
            r1 = move-exception
            X.CDX.A00(r7, r0)
            throw r1
        L_0x02b3:
            r8.close()
            if (r21 != 0) goto L_0x02c3
            X.00H r0 = r5.A0J
            java.lang.Object r0 = r0.get()
            X.2nK r0 = (X.C60062nK) r0
            r0.A00(r2)
        L_0x02c3:
            X.1Qs r0 = r5.A0G
            r0.A02(r2)
        L_0x02c8:
            X.1Qw r1 = r5.A0E
            java.util.Set r0 = X.C18070vi.A0P(r3)
            r1.A05(r0)
            r0 = r18 ^ 1
            if (r0 == 0) goto L_0x03bf
            java.lang.StringBuilder r1 = X.AnonymousClass000.A10()
            java.lang.String r0 = "IdentityChangeManager/onIdentityChangedOrDeleted/rotating sender key deviceJid="
            X.C17900vP.A0Y(r3, r0, r1)
            X.1MZ r6 = r5.A07
            java.util.Set r0 = java.util.Collections.singleton(r3)
            X.1MW r8 = r6.A08
            java.util.HashSet r3 = r8.A0H(r0)
            X.C18070vi.A0b(r3)
            boolean r12 = X.AnonymousClass000.A1O(r21)
            java.util.Iterator r11 = r3.iterator()
            r10 = 0
        L_0x02f6:
            boolean r0 = r11.hasNext()
            if (r0 == 0) goto L_0x034b
            java.lang.Object r7 = r11.next()
            X.1E9 r7 = (X.AnonymousClass1E9) r7
            java.lang.StringBuilder r1 = X.AnonymousClass000.A10()
            java.lang.String r0 = "IdentityChangeManager/rotateSenderKey/ gid="
            X.C17900vP.A0Y(r7, r0, r1)
            java.lang.String r9 = r7.getRawString()
            boolean r1 = r6.A0I(r7)
            X.11S r0 = r5.A00
            if (r1 == 0) goto L_0x0340
            X.1yJ r0 = r0.A08()
        L_0x031b:
            if (r0 == 0) goto L_0x0346
            X.2nE r0 = X.C63962tz.A02(r0)
            X.2nC r4 = new X.2nC
            r4.<init>(r0, r9)
            X.1P3 r0 = r5.A05
            r1 = 0
            X.1Oy r0 = r0.A08
            boolean r0 = r0.A05(r4, r1)
            if (r0 == 0) goto L_0x02f6
            X.1PT r1 = r5.A0A
            r0 = 3
            if (r12 == 0) goto L_0x0337
            r0 = 2
        L_0x0337:
            java.lang.Integer r0 = java.lang.Integer.valueOf(r0)
            r1.A0D(r7, r0)
            r10 = 1
            goto L_0x02f6
        L_0x0340:
            r0.A0I()
            X.1E3 r0 = r0.A02
            goto L_0x031b
        L_0x0346:
            java.lang.IllegalStateException r1 = X.C17880vN.A0g()
            throw r1
        L_0x034b:
            if (r10 == 0) goto L_0x0492
            X.1Cd r0 = r6.A07
            X.1au r9 = r0.A05()
            X.1xA r7 = r9.BD0()     // Catch:{ all -> 0x03ba }
            java.lang.StringBuilder r1 = X.AnonymousClass000.A10()     // Catch:{ all -> 0x03b0 }
            java.lang.String r0 = "ParticipantUserStore/resetSentSenderKeyForAllParticipants "
            X.C17900vP.A0Y(r3, r0, r1)     // Catch:{ all -> 0x03b0 }
            X.1Cd r0 = r8.A06     // Catch:{ all -> 0x03b0 }
            X.1au r6 = r0.A05()     // Catch:{ all -> 0x03b0 }
            X.1xA r4 = r6.BD0()     // Catch:{ all -> 0x03a6 }
            java.util.Iterator r3 = r3.iterator()     // Catch:{ all -> 0x039c }
        L_0x036e:
            boolean r0 = r3.hasNext()     // Catch:{ all -> 0x039c }
            if (r0 == 0) goto L_0x038b
            java.lang.Object r1 = r3.next()     // Catch:{ all -> 0x039c }
            X.1E9 r1 = (X.AnonymousClass1E9) r1     // Catch:{ all -> 0x039c }
            X.1MV r0 = r8.A07     // Catch:{ all -> 0x039c }
            r0.A03(r1)     // Catch:{ all -> 0x039c }
            X.1MS r0 = r8.A04     // Catch:{ all -> 0x039c }
            X.2tp r0 = r0.A0A(r1)     // Catch:{ all -> 0x039c }
            if (r0 == 0) goto L_0x036e
            X.AnonymousClass1MW.A05(r0, r8)     // Catch:{ all -> 0x039c }
            goto L_0x036e
        L_0x038b:
            r4.A00()     // Catch:{ all -> 0x039c }
            r4.close()     // Catch:{ all -> 0x03a6 }
            r6.close()     // Catch:{ all -> 0x03b0 }
            r7.A00()     // Catch:{ all -> 0x03b0 }
            r7.close()     // Catch:{ all -> 0x03ba }
            goto L_0x048f
        L_0x039c:
            r1 = move-exception
            r4.close()     // Catch:{ all -> 0x03a1 }
            goto L_0x03a5
        L_0x03a1:
            r0 = move-exception
            X.AnonymousClass0DT.A00(r1, r0)     // Catch:{ all -> 0x03a6 }
        L_0x03a5:
            throw r1     // Catch:{ all -> 0x03a6 }
        L_0x03a6:
            r1 = move-exception
            r6.close()     // Catch:{ all -> 0x03ab }
            goto L_0x03af
        L_0x03ab:
            r0 = move-exception
            X.AnonymousClass0DT.A00(r1, r0)     // Catch:{ all -> 0x03b0 }
        L_0x03af:
            throw r1     // Catch:{ all -> 0x03b0 }
        L_0x03b0:
            r1 = move-exception
            r7.close()     // Catch:{ all -> 0x03b5 }
            goto L_0x03b9
        L_0x03b5:
            r0 = move-exception
            X.AnonymousClass0DT.A00(r1, r0)     // Catch:{ all -> 0x03ba }
        L_0x03b9:
            throw r1     // Catch:{ all -> 0x03ba }
        L_0x03ba:
            r1 = move-exception
            r9.close()     // Catch:{ all -> 0x05dc }
            throw r1
        L_0x03bf:
            X.1MZ r1 = r5.A07
            X.1Cd r0 = r1.A07
            X.1au r13 = r0.A05()
            X.1xA r12 = r13.BD0()     // Catch:{ all -> 0x05d7 }
            X.1MW r9 = r1.A08     // Catch:{ all -> 0x05cd }
            java.lang.StringBuilder r1 = X.AnonymousClass000.A10()     // Catch:{ all -> 0x05cd }
            java.lang.String r0 = "ParticipantUserStore/resetSentSenderKeyFor "
            X.C17900vP.A0Y(r2, r0, r1)     // Catch:{ all -> 0x05cd }
            X.1Cd r0 = r9.A06     // Catch:{ all -> 0x05cd }
            X.1au r11 = r0.A05()     // Catch:{ all -> 0x05cd }
            X.1xA r10 = r11.BD0()     // Catch:{ all -> 0x05c3 }
            X.1MV r6 = r9.A07     // Catch:{ all -> 0x05b9 }
            r3 = r2
            java.lang.StringBuilder r1 = X.AnonymousClass000.A10()     // Catch:{ all -> 0x05b9 }
            java.lang.String r0 = "ParticipantDeviceStore/resetSentSenderKey "
            X.C17900vP.A0Y(r2, r0, r1)     // Catch:{ all -> 0x05b9 }
            java.lang.String r0 = r2.getRawString()     // Catch:{ all -> 0x05b9 }
            boolean r0 = android.text.TextUtils.isEmpty(r0)     // Catch:{ all -> 0x05b9 }
            r1 = r0 ^ 1
            java.lang.String r0 = "participant-user-store/invalid-jid"
            X.C17960vV.A0G(r1, r0)     // Catch:{ all -> 0x05b9 }
            X.1DL r1 = r6.A02     // Catch:{ all -> 0x05b9 }
            X.11S r0 = r6.A01     // Catch:{ all -> 0x05b9 }
            boolean r0 = r0.A0O(r2)     // Catch:{ all -> 0x05b9 }
            if (r0 == 0) goto L_0x0407
            X.1E5 r3 = X.AnonymousClass1E5.A00     // Catch:{ all -> 0x05b9 }
        L_0x0407:
            long r3 = r1.A09(r3)     // Catch:{ all -> 0x05b9 }
            X.1Cd r0 = r6.A03     // Catch:{ all -> 0x05b9 }
            X.1au r8 = r0.A05()     // Catch:{ all -> 0x05b9 }
            r0 = r8
            X.1av r0 = (X.C28801av) r0     // Catch:{ all -> 0x05af }
            X.1Ev r6 = r0.A02     // Catch:{ all -> 0x05af }
            java.lang.String r1 = "UPDATE group_participant_device SET sent_sender_key = ? WHERE group_participant_row_id IN (SELECT _id FROM group_participant_user WHERE user_jid_row_id = ?)"
            java.lang.String r0 = "resetSentSenderKey/UPDATE_GROUP_PARTICIPANT_DEVICES_SENT_SENDER_KEY_FOR_USER_SQL"
            X.2nI r7 = r6.A0D(r1, r0)     // Catch:{ all -> 0x05af }
            java.lang.String[] r6 = X.C17880vN.A1Z()     // Catch:{ all -> 0x05af }
            java.lang.String r1 = "0"
            r0 = 0
            r6[r0] = r1     // Catch:{ all -> 0x05af }
            X.C17890vO.A1K(r6, r3)     // Catch:{ all -> 0x05af }
            android.database.sqlite.SQLiteStatement r0 = r7.A00     // Catch:{ all -> 0x05af }
            r0.bindAllArgsAsStrings(r6)     // Catch:{ all -> 0x05af }
            r0 = 2
        L_0x0430:
            int r0 = r0 + -1
            if (r0 != 0) goto L_0x0430
            r7.A00()     // Catch:{ all -> 0x05af }
            r8.close()     // Catch:{ all -> 0x05b9 }
            X.1MS r6 = r9.A04     // Catch:{ all -> 0x05b9 }
            java.util.Map r0 = r6.A05     // Catch:{ all -> 0x05b9 }
            java.util.Set r1 = r0.keySet()     // Catch:{ all -> 0x05b9 }
            java.util.HashSet r0 = new java.util.HashSet     // Catch:{ all -> 0x05b9 }
            r0.<init>(r1)     // Catch:{ all -> 0x05b9 }
            java.util.Iterator r4 = r0.iterator()     // Catch:{ all -> 0x05b9 }
        L_0x044b:
            boolean r0 = r4.hasNext()     // Catch:{ all -> 0x05b9 }
            if (r0 == 0) goto L_0x047c
            java.lang.Object r0 = r4.next()     // Catch:{ all -> 0x05b9 }
            X.1E9 r0 = (X.AnonymousClass1E9) r0     // Catch:{ all -> 0x05b9 }
            X.2tp r1 = r6.A0A(r0)     // Catch:{ all -> 0x05b9 }
            if (r1 == 0) goto L_0x044b
            r0 = 0
            X.2sr r0 = r1.A0D(r2, r0)     // Catch:{ all -> 0x05b9 }
            if (r0 == 0) goto L_0x044b
            X.10f r0 = r0.A00()     // Catch:{ all -> 0x05b9 }
            X.1IZ r3 = r0.iterator()     // Catch:{ all -> 0x05b9 }
        L_0x046c:
            boolean r0 = r3.hasNext()     // Catch:{ all -> 0x05b9 }
            if (r0 == 0) goto L_0x044b
            java.lang.Object r1 = r3.next()     // Catch:{ all -> 0x05b9 }
            X.2ly r1 = (X.C59232ly) r1     // Catch:{ all -> 0x05b9 }
            r0 = 0
            r1.A01 = r0     // Catch:{ all -> 0x05b9 }
            goto L_0x046c
        L_0x047c:
            r10.A00()     // Catch:{ all -> 0x05b9 }
            r10.close()     // Catch:{ all -> 0x05c3 }
            r11.close()     // Catch:{ all -> 0x05cd }
            r12.A00()     // Catch:{ all -> 0x05cd }
            r12.close()     // Catch:{ all -> 0x05d7 }
            r13.close()
            goto L_0x0492
        L_0x048f:
            r9.close()
        L_0x0492:
            if (r18 == 0) goto L_0x057e
            X.1Uv r7 = r5.A0I
            java.lang.StringBuilder r1 = X.AnonymousClass000.A10()
            java.lang.String r0 = "LocationSharingManager/onUserIdentityChange; jid="
            X.C17900vP.A0Y(r2, r0, r1)
            java.util.ArrayList r9 = X.AnonymousClass000.A13()
            java.lang.Object r10 = r7.A0U
            monitor-enter(r10)
            java.util.Map r8 = X.C27131Uv.A06(r7)     // Catch:{ all -> 0x051f }
            java.util.Iterator r11 = X.AnonymousClass000.A15(r8)     // Catch:{ all -> 0x051f }
        L_0x04ae:
            boolean r0 = r11.hasNext()     // Catch:{ all -> 0x051f }
            if (r0 == 0) goto L_0x04f7
            java.util.Map$Entry r0 = X.AnonymousClass000.A16(r11)     // Catch:{ all -> 0x051f }
            java.lang.Object r6 = r0.getKey()     // Catch:{ all -> 0x051f }
            X.1BI r6 = (X.AnonymousClass1BI) r6     // Catch:{ all -> 0x051f }
            java.lang.Object r0 = r0.getValue()     // Catch:{ all -> 0x051f }
            X.2er r0 = (X.C54882er) r0     // Catch:{ all -> 0x051f }
            java.util.List r4 = r0.A03     // Catch:{ all -> 0x051f }
            boolean r0 = r4.contains(r2)     // Catch:{ all -> 0x051f }
            if (r0 == 0) goto L_0x04ae
            r4.remove(r2)     // Catch:{ all -> 0x051f }
            X.1Uu r3 = r7.A0K     // Catch:{ all -> 0x051f }
            java.util.List r1 = java.util.Collections.singletonList(r2)     // Catch:{ all -> 0x051f }
            r0 = 1
            X.C27121Uu.A01(r6, r3, r1, r0)     // Catch:{ all -> 0x051f }
            boolean r0 = r4.isEmpty()     // Catch:{ all -> 0x051f }
            if (r0 == 0) goto L_0x04f3
            java.lang.Object r0 = r8.remove(r6)     // Catch:{ all -> 0x051f }
            X.2er r0 = (X.C54882er) r0     // Catch:{ all -> 0x051f }
            X.C17960vV.A07(r0)     // Catch:{ all -> 0x051f }
            X.205 r0 = r0.A02     // Catch:{ all -> 0x051f }
            X.219 r0 = X.C27131Uv.A03(r7, r0)     // Catch:{ all -> 0x051f }
            if (r0 == 0) goto L_0x04f3
            X.C27131Uv.A0E(r7, r0)     // Catch:{ all -> 0x051f }
        L_0x04f3:
            r9.add(r6)     // Catch:{ all -> 0x051f }
            goto L_0x04ae
        L_0x04f7:
            X.C27131Uv.A0A(r7)     // Catch:{ all -> 0x051f }
            monitor-exit(r10)     // Catch:{ all -> 0x051f }
            boolean r0 = r9.isEmpty()
            if (r0 != 0) goto L_0x0522
            X.C27131Uv.A0C(r7)
            java.util.Iterator r6 = r9.iterator()
        L_0x0508:
            boolean r0 = r6.hasNext()
            if (r0 == 0) goto L_0x0522
            java.lang.Object r4 = r6.next()
            android.os.Handler r3 = r7.A06
            r1 = 46
            X.7Pj r0 = new X.7Pj
            r0.<init>(r7, r4, r1)
            r3.post(r0)
            goto L_0x0508
        L_0x051f:
            r1 = move-exception
            monitor-exit(r10)     // Catch:{ all -> 0x051f }
            throw r1
        L_0x0522:
            X.0ve r3 = r5.A0H
            r1 = 5001(0x1389, float:7.008E-42)
            X.0vf r0 = X.C18040vf.A02
            boolean r0 = X.C18020vd.A05(r0, r3, r1)
            if (r0 != 0) goto L_0x057e
            X.1M9 r0 = r5.A0D
            X.1E7 r0 = r0.A0E(r2)
            if (r0 == 0) goto L_0x057e
            X.1yf r7 = r0.A0G
            if (r7 == 0) goto L_0x057e
            X.00H r6 = r5.A0K
            java.lang.Object r1 = r6.get()
            X.2nO r1 = (X.C60102nO) r1
            java.lang.String r0 = "IdentityChangeManager"
            r1.A02(r0)
            java.lang.Object r3 = r6.get()
            X.2nO r3 = (X.C60102nO) r3
            java.lang.String r1 = "entry_point"
            java.lang.String r0 = "change_or_delete_identity"
            r3.A03(r1, r0)
            java.lang.StringBuilder r1 = X.AnonymousClass000.A10()
            java.lang.String r0 = "IdentityChangeManager/onIdentityChangedOrDeleted/attempting to confirm vname cert; jid="
            X.C17900vP.A0Y(r2, r0, r1)
            X.1PM r4 = r5.A01
            byte[] r3 = r4.A07(r2)
            if (r3 == 0) goto L_0x057f
            int r1 = r7.A03
            X.1ya r0 = r7.A00()
            boolean r0 = r4.A06(r2, r0, r3, r1)
            if (r0 == 0) goto L_0x057f
            X.122 r1 = r5.A06
            X.2kB r0 = X.AnonymousClass2V1.A00(r7)
            X.2mv r0 = r0.A00()
            r1.BAz(r2, r0)
        L_0x057e:
            return
        L_0x057f:
            java.lang.StringBuilder r1 = X.AnonymousClass000.A10()
            java.lang.String r0 = "IdentityChangeManager/onIdentityChangedOrDeleted/refreshing verified name due to identity change; jid="
            X.C17900vP.A0Y(r2, r0, r1)
            java.lang.Object r0 = r6.get()
            X.2nO r0 = (X.C60102nO) r0
            java.lang.String r1 = "delete_cert"
            r0.A01(r1)
            java.util.Map r0 = r4.A08
            r0.remove(r2)
            r4.A03(r2)
            java.lang.Object r0 = r6.get()
            X.2nO r0 = (X.C60102nO) r0
            r0.A00(r1)
            X.1Mm r1 = r5.A0C
            com.whatsapp.jobqueue.job.GetVNameCertificateJob r0 = new com.whatsapp.jobqueue.job.GetVNameCertificateJob
            r0.<init>(r2)
            r1.A01(r0)
            return
        L_0x05af:
            r1 = move-exception
            r8.close()     // Catch:{ all -> 0x05b4 }
            goto L_0x05b8
        L_0x05b4:
            r0 = move-exception
            X.AnonymousClass0DT.A00(r1, r0)     // Catch:{ all -> 0x05b9 }
        L_0x05b8:
            throw r1     // Catch:{ all -> 0x05b9 }
        L_0x05b9:
            r1 = move-exception
            r10.close()     // Catch:{ all -> 0x05be }
            goto L_0x05c2
        L_0x05be:
            r0 = move-exception
            X.AnonymousClass0DT.A00(r1, r0)     // Catch:{ all -> 0x05c3 }
        L_0x05c2:
            throw r1     // Catch:{ all -> 0x05c3 }
        L_0x05c3:
            r1 = move-exception
            r11.close()     // Catch:{ all -> 0x05c8 }
            goto L_0x05cc
        L_0x05c8:
            r0 = move-exception
            X.AnonymousClass0DT.A00(r1, r0)     // Catch:{ all -> 0x05cd }
        L_0x05cc:
            throw r1     // Catch:{ all -> 0x05cd }
        L_0x05cd:
            r1 = move-exception
            r12.close()     // Catch:{ all -> 0x05d2 }
            goto L_0x05d6
        L_0x05d2:
            r0 = move-exception
            X.AnonymousClass0DT.A00(r1, r0)     // Catch:{ all -> 0x05d7 }
        L_0x05d6:
            throw r1     // Catch:{ all -> 0x05d7 }
        L_0x05d7:
            r1 = move-exception
            r13.close()     // Catch:{ all -> 0x05dc }
            throw r1
        L_0x05dc:
            r0 = move-exception
            X.AnonymousClass0DT.A00(r1, r0)
            throw r1
        L_0x05e1:
            r0 = move-exception
            r4.A02()
            throw r0
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C65822xA.A00(com.whatsapp.jid.DeviceJid, boolean):void");
    }

    public void Bvi(DeviceJid deviceJid) {
        C42741yf r7;
        C58122kB A002;
        UserJid userJid = deviceJid.userJid;
        AnonymousClass1E7 A0E2 = this.A0D.A0E(userJid);
        if (!(A0E2 == null || (r7 = A0E2.A0G) == null)) {
            C17900vP.A0Y(userJid, "IdentityChangeManager/confirming unconfirmed vname cert; jid=", AnonymousClass000.A10());
            AnonymousClass00H r5 = this.A0K;
            ((C60102nO) r5.get()).A02("IdentityChangeManager");
            ((C60102nO) r5.get()).A03("entry_point", "add_identity");
            AnonymousClass1PM r6 = this.A01;
            C42741yf A0I2 = r6.A03.A0I(userJid);
            if (A0I2 != null) {
                A002 = new C58122kB();
                A002.A03 = A0I2.A03;
                A002.A07 = A0I2.A08;
                A002.A05 = A0I2.A00();
                A002.A02 = AnonymousClass2V2.A00(A0I2);
                A002.A01 = r7.A03;
                A002.A06 = r7.A08;
                A002.A04 = r7.A00();
                A002.A00 = AnonymousClass2V2.A00(r7);
            } else {
                A002 = AnonymousClass2V1.A00(r7);
            }
            C59812mv A003 = A002.A00();
            byte[] A072 = r6.A07(userJid);
            if (A072 != null && !r7.equals(A0I2)) {
                r6.A06(userJid, r7.A00(), A072, r7.A03);
            }
            this.A06.BAz(userJid, A003);
            ((C60102nO) r5.get()).A04(true);
        }
        if (deviceJid.getDevice() == 0) {
            this.A0G.A02(userJid);
        }
    }
}
