package X;

import android.content.Context;
import androidx.credentials.playservices.controllers.CreatePublicKeyCredential.PublicKeyCredentialControllerUtility;
import com.whatsapp.util.Log;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

/* renamed from: X.1mp  reason: invalid class name and case insensitive filesystem */
public final class C35801mp extends C31911gK {
    public final Context A00;
    public final AnonymousClass118 A01;
    public final C19830z4 A02;
    public final AnonymousClass122 A03;
    public final AnonymousClass1Q2 A04;
    public final C24681Lg A05;
    public final C24631Lb A06;
    public final C18030ve A07;
    public final AnonymousClass10I A08;
    public final AnonymousClass00H A09;
    public final AnonymousClass00H A0A;
    public final AnonymousClass00H A0B;
    public final AnonymousClass00H A0C;
    public final AnonymousClass00H A0D;
    public final AnonymousClass00H A0E;
    public final AnonymousClass00H A0F;
    public final AnonymousClass00H A0G;
    public final AnonymousClass11P A0H;

    /* JADX WARNING: Illegal instructions before constructor call */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public C35801mp(android.content.Context r28, X.AnonymousClass190 r29, X.AnonymousClass11P r30, X.AnonymousClass118 r31, X.C19830z4 r32, X.AnonymousClass122 r33, X.AnonymousClass1Q2 r34, X.C24681Lg r35, X.C24631Lb r36, X.C18030ve r37, X.AnonymousClass1OZ r38, X.AnonymousClass1N7 r39, X.AnonymousClass10I r40, X.AnonymousClass00H r41, X.AnonymousClass00H r42, X.AnonymousClass00H r43, X.AnonymousClass00H r44, X.AnonymousClass00H r45, X.AnonymousClass00H r46, X.AnonymousClass00H r47, X.AnonymousClass00H r48) {
        /*
            r27 = this;
            r1 = 1
            r26 = r29
            r0 = r26
            X.C18070vi.A0d(r0, r1)
            r2 = 2
            r18 = r38
            r0 = r18
            X.C18070vi.A0d(r0, r2)
            r2 = 3
            r17 = r39
            r0 = r17
            X.C18070vi.A0d(r0, r2)
            r2 = 4
            r25 = r30
            r0 = r25
            X.C18070vi.A0d(r0, r2)
            r0 = 6
            r11 = r37
            X.C18070vi.A0d(r11, r0)
            r2 = 7
            r24 = r31
            r0 = r24
            X.C18070vi.A0d(r0, r2)
            r0 = 8
            r10 = r40
            X.C18070vi.A0d(r10, r0)
            r0 = 9
            r14 = r34
            X.C18070vi.A0d(r14, r0)
            r0 = 10
            r15 = r33
            X.C18070vi.A0d(r15, r0)
            r0 = 11
            r9 = r41
            X.C18070vi.A0d(r9, r0)
            r0 = 12
            r13 = r35
            X.C18070vi.A0d(r13, r0)
            r0 = 13
            r8 = r42
            X.C18070vi.A0d(r8, r0)
            r0 = 14
            r7 = r43
            X.C18070vi.A0d(r7, r0)
            r2 = 15
            r23 = r32
            r0 = r23
            X.C18070vi.A0d(r0, r2)
            r0 = 16
            r12 = r36
            X.C18070vi.A0d(r12, r0)
            r0 = 17
            r6 = r44
            X.C18070vi.A0d(r6, r0)
            r0 = 18
            r5 = r45
            X.C18070vi.A0d(r5, r0)
            r0 = 19
            r4 = r46
            X.C18070vi.A0d(r4, r0)
            r0 = 20
            r3 = r47
            X.C18070vi.A0d(r3, r0)
            r0 = 21
            r2 = r48
            X.C18070vi.A0d(r2, r0)
            int[] r1 = new int[r1]
            r16 = 0
            r0 = 104(0x68, float:1.46E-43)
            r1[r16] = r0
            r22 = 1
            r0 = r27
            r19 = r17
            r20 = r10
            r21 = r1
            r16 = r0
            r17 = r26
            r16.<init>(r17, r18, r19, r20, r21, r22)
            r1 = r25
            r0.A0H = r1
            r1 = r28
            r0.A00 = r1
            r0.A07 = r11
            r1 = r24
            r0.A01 = r1
            r0.A08 = r10
            r0.A04 = r14
            r0.A03 = r15
            r0.A0A = r9
            r0.A05 = r13
            r0.A0E = r8
            r0.A09 = r7
            r1 = r23
            r0.A02 = r1
            r0.A06 = r12
            r0.A0G = r6
            r0.A0C = r5
            r0.A0B = r4
            r0.A0D = r3
            r0.A0F = r2
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C35801mp.<init>(android.content.Context, X.190, X.11P, X.118, X.0z4, X.122, X.1Q2, X.1Lg, X.1Lb, X.0ve, X.1OZ, X.1N7, X.10I, X.00H, X.00H, X.00H, X.00H, X.00H, X.00H, X.00H, X.00H):void");
    }

    public void A05(C29621ca r18, int i) {
        C62502rV r3;
        C31931gM r2;
        Runnable runnable;
        List<C29621ca> list;
        long j;
        long j2;
        C31931gM r22;
        Runnable runnable2;
        AnonymousClass3C5 r1;
        C29621ca r7 = r18;
        C18070vi.A0d(r7, 1);
        String str = null;
        String A0Q = r7.A0Q("from", (String) null);
        if (A0Q == null || !A0Q.equals("0@s.whatsapp.net")) {
            C29621ca A0K = r7.A0K("campaign");
            List list2 = null;
            if (A0K != null) {
                str = A0K.A0Q(PublicKeyCredentialControllerUtility.JSON_KEY_ID, (String) null);
            }
            StringBuilder sb = new StringBuilder();
            sb.append("PSANotificationHandler/handleStatusPSANotification/campaignID ");
            sb.append(str);
            Log.i(sb.toString());
            if (A0K != null) {
                list2 = A0K.A0R("revoke");
            }
            if (list2 == null || list2.size() <= 0) {
                long j3 = 0;
                if (A0K != null) {
                    j3 = A0K.A0D("duration", 0);
                }
                if (A0K == null || (list = A0K.A0R("message")) == null) {
                    list = r7.A0R("message");
                    C18070vi.A0X(list);
                }
                long A012 = A01(r7, this);
                ArrayList arrayList = new ArrayList(list.size());
                for (C29621ca r11 : list) {
                    if (!C18020vd.A05(C18040vf.A02, this.A07, 7225)) {
                        j = 0;
                        try {
                            j = r11.A0D("order", 0) * 1000;
                        } catch (AnonymousClass1UI e) {
                            StringBuilder sb2 = new StringBuilder();
                            sb2.append("connection/getMessagesPsaFromProtocolTree: ");
                            sb2.append(e);
                            Log.e(sb2.toString());
                        }
                    } else {
                        j = A012;
                    }
                    String A0Q2 = r11.A0Q(PublicKeyCredentialControllerUtility.JSON_KEY_ID, (String) null);
                    C29621ca A0J = r11.A0J(0);
                    if (A0J != null) {
                        C29671cg r10 = C29671cg.A00;
                        if (A0Q2 != null) {
                            AnonymousClass210 r12 = new AnonymousClass210(new AnonymousClass205(r10, A0Q2, false), j);
                            r12.A0o(A0J.A01);
                            long j4 = j3 * 1000;
                            if (j4 == 0) {
                                j2 = Long.MAX_VALUE;
                            } else {
                                j2 = j4 + A012;
                            }
                            arrayList.add(new C63322ss(r12, str, j2));
                        } else {
                            throw new IllegalArgumentException("Required value was null.");
                        }
                    }
                }
                if (!arrayList.isEmpty()) {
                    C62502rV A042 = A04(true);
                    r2 = (C31931gM) this.A09.get();
                    runnable = new AnonymousClass3C5(this, A042, arrayList, 23);
                } else {
                    return;
                }
            } else {
                r3 = A04(true);
                if (str != null) {
                    r2 = (C31931gM) this.A09.get();
                    runnable = new C146887Qz(this, r3, str, 12);
                } else if (r3 == null) {
                    throw new IllegalArgumentException("Required value was null.");
                }
            }
            r2.A01(runnable, 27);
            return;
        }
        List A0R = r7.A0R("surfaces");
        C18070vi.A0X(A0R);
        if (!A0R.isEmpty()) {
            Log.i("PSANotificationHandler/QpSurface Notification");
            r3 = A04(true);
            if (!C18020vd.A05(C18040vf.A02, this.A07, 3536)) {
                Log.i("PSANotificationHandler/QpSurface received but not enabled");
                if (r3 == null) {
                    throw new IllegalArgumentException("Required value was null.");
                }
            } else {
                Log.i("PSANotificationHandler/QpSurface beginning handling");
                r22 = (C31931gM) this.A09.get();
                runnable2 = new AnonymousClass3C5(this, r3, r7, 24);
            }
        } else {
            List A0R2 = r7.A0R("psa_wakeup");
            C18070vi.A0X(A0R2);
            if (!A0R2.isEmpty()) {
                Log.i("PSANotificationHandler/Push PSA Notification");
                r3 = A04(true);
                if (!C18020vd.A05(C18040vf.A02, this.A07, 4200)) {
                    Log.i("PSANotificationHandler/Push PSA not enabled");
                    if (r3 == null) {
                        throw new IllegalArgumentException("Required value was null.");
                    }
                } else {
                    Log.i("PSANotificationHandler/Push begin handling");
                    r22 = (C31931gM) this.A09.get();
                    runnable2 = new C146517Pk(this, r3, 8);
                }
            } else {
                List A0R3 = r7.A0R("reset_smb_last_qp_prefetch_timestamp");
                C18070vi.A0X(A0R3);
                if (!A0R3.isEmpty()) {
                    Log.i("PSANotificationHandler/Reset last QP prefetch timestamp");
                    C19830z4.A00(this.A02).remove("smb_last_qp_prefetch_using_graphql_timestamp").apply();
                    return;
                }
                C62502rV A043 = A04(true);
                if (C18020vd.A05(C18040vf.A02, this.A07, 1844) && r7.A0J(0) != null) {
                    List A0R4 = r7.A0R("revoke");
                    C18070vi.A0X(A0R4);
                    boolean isEmpty = true ^ A0R4.isEmpty();
                    C31931gM r23 = (C31931gM) this.A09.get();
                    if (isEmpty) {
                        r1 = new AnonymousClass3C5(this, A043, A0R4, 21);
                    } else {
                        r1 = new AnonymousClass3C5(this, A043, r7, 22);
                    }
                    r23.A01(r1, 27);
                    return;
                } else if (A043 != null) {
                    A02(A043);
                    return;
                } else {
                    throw new IllegalArgumentException("Required value was null.");
                }
            }
        }
        r22.A01(runnable2, 27);
        return;
        A02(r3);
    }

    public static final long A01(C29621ca r6, C35801mp r7) {
        try {
            long A0D2 = r6.A0D("t", 0) * 1000;
            if (A0D2 > 0) {
                return A0D2;
            }
            long A012 = AnonymousClass11P.A01(r7.A0H);
            if (A012 <= 0) {
                return System.currentTimeMillis();
            }
            return A012;
        } catch (AnonymousClass1UI e) {
            StringBuilder sb = new StringBuilder();
            sb.append("PSANotificationHandler/getServerTimeInMillis: ");
            sb.append(e);
            Log.e(sb.toString());
        }
    }

    public static final void A02(C62502rV r3) {
        List singletonList = Collections.singletonList(new AnonymousClass1MD("error", "487"));
        C18070vi.A0X(singletonList);
        C62502rV.A00((C29621ca) null, r3, singletonList);
    }
}
